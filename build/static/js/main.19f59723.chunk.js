(this.webpackJsonpbodyweb=this.webpackJsonpbodyweb||[]).push([[0],{128:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},150:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(45),i=a.n(o),l=(a(144),a(145),a(136)),s=a(18),c=a(15),u=a(5),d=a(8),h=a(9),g=a(10),p=a(161),f=a(162),m=a(165),v=a(163),A=(a(146),a(3)),I=[{label:"\u5b9e\u65f6",key:"now"},{label:"\u56de\u653e",key:"playback"}],x=[{label:"\u6574\u4f53",key:"all"},{label:"\u9760\u80cc",key:"back"},{label:"\u5ea7\u6905",key:"sit"}],y=[{label:"\u811a\u578b\u68c0\u6d4b",value:"foot"},{label:"\u624b\u90e8\u68c0\u6d4b",value:"hand"},{label:"\u6c7d\u8f66\u5ea7\u6905",value:"car"},{label:"\u5e8a\u57ab",value:"bigBed"}],w=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).onClick=function(t){var a,n;console.log("click ",t.key),null===(a=e.props.data.current)||void 0===a||a.changeData({meanPres:0,maxPres:0,point:0,area:0,totalPres:0,pressure:0}),"foot"===e.props.matrixName&&e.props.canvasInit(),null===(n=e.props.data.current)||void 0===n||n.initCharts(),"now"===t.key?(e.props.wsSendObj({local:!1,history:!1}),e.props.changeStateData({history:"now",local:!1})):"playback"===t.key?(e.props.wsSendObj({local:!0,history:!1}),e.props.changeStateData({history:"playback",index:0,local:!0})):(e.props.changeStateData({history:"history",index:0,local:!0}),""!=e.state.dataTime?e.props.wsSendObj({local:!0,history:!0}):e.props.wsSendObj({local:!0})),e.setState({current:t.key})},e.onCarClick=function(t){var a;if(e.state.clickState)if("sit"===t.key)e.setState({carCurrent:"sit",clickState:!1}),"normal"==e.props.numMatrixFlag&&(null===(a=e.props.com.current)||void 0===a||a.actionSit()),e.props.changeStateData({carState:"sit"});else if("back"===t.key){var n;e.setState({carCurrent:"back",clickState:!1}),"normal"==e.props.numMatrixFlag&&(null===(n=e.props.com.current)||void 0===n||n.actionBack()),e.props.changeStateData({carState:"back"})}else{var r;e.setState({carCurrent:"all",clickState:!1}),"normal"==e.props.numMatrixFlag&&(null===(r=e.props.com.current)||void 0===r||r.actionAll()),e.props.changeStateData({carState:"all"}),e.props.changeStateData({numMatrixFlag:"normal"})}setTimeout((function(){e.setState({clickState:!0})}),1e3)},e.changeNum=function(t){e.setState({num:t})},e.state={current:"now",carCurrent:"all",show:!1,num:0,dataTime:"",clickState:!0},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(A.jsxs)("div",{className:"title",children:[Object(A.jsx)("h2",{children:"bodyta"}),Object(A.jsxs)("div",{className:"titleItems",children:[Object(A.jsx)(p.a,{placeholder:"\u8bf7\u9009\u62e9\u5bf9\u5e94\u4f20\u611f\u5668",onChange:function(t){console.log(t),e.props.wsSendObj({file:t}),e.props.changeMatrix(t)},options:y}),Object(A.jsx)(f.a,{className:"menu",onClick:this.onClick,selectedKeys:[this.state.current],mode:"horizontal",items:I}),"now"===this.props.history?"car"!=this.props.matrixName?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(p.a,{style:{marginRight:20,width:160},placeholder:"\u8bf7\u9009\u62e9\u4e32\u53e3",value:this.props.portname?this.props.portname:null,onDropdownVisibleChange:function(){e.props.wsSendObj({serialReset:!0})},onSelect:function(t){e.props.wsSendObj({sitPort:t}),e.props.changeStateData({portname:t})},options:this.props.port})," ",Object(A.jsx)("div",{})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(p.a,{style:{marginRight:20,width:160},placeholder:"\u8bf7\u9009\u62e9\u5ea7\u6905\u4e32\u53e3",value:this.props.portname?"".concat(this.props.portname,"(\u5ea7\u6905)"):null,onDropdownVisibleChange:function(){e.props.wsSendObj({serialReset:!0})},onSelect:function(t){console.log(t),e.props.wsSendObj({sitPort:t}),e.props.changeStateData({portname:t})},options:this.props.port}),Object(A.jsx)("img",{src:"data:image/png;base64,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",onClick:function(){e.props.portname&&e.props.portnameBack&&(e.props.changeStateData({portname:e.props.portnameBack}),e.props.changeStateData({portnameBack:e.props.portname}),e.props.wsSendObj({exchange:!0}))},style:{height:"30px",marginRight:20},alt:""}),Object(A.jsx)(p.a,{placeholder:"\u8bf7\u9009\u62e9\u9760\u80cc\u4e32\u53e3",style:{width:160},value:this.props.portnameBack?"".concat(this.props.portnameBack,"(\u9760\u80cc)"):null,onDropdownVisibleChange:function(t){console.log(t),e.props.wsSendObj({serialReset:!0})},onSelect:function(t){console.log(t),e.props.wsSendObj({backPort:t}),e.props.changeStateData({portnameBack:t})},options:this.props.port})]}):Object(A.jsx)(p.a,{placeholder:"\u8bf7\u9009\u62e9\u56de\u653e\u6570\u636e\u65f6\u95f4",style:{marginRight:20},onChange:function(t){"foot"===e.props.matrixName&&e.props.canvasInit(),console.log(t),e.props.changeStateData({dataTime:t}),e.setState({dataTime:t}),e.props.wsSendObj({getTime:t,index:0}),"history"===e.props.history?e.props.wsSendObj({getTime:t,index:0,history:!0}):e.props.wsSendObj({getTime:t,index:0})},value:this.state.dataTime?this.state.dataTime:null,options:this.props.dataArr}),"car"==this.props.matrixName?Object(A.jsx)(f.a,{className:"menu",onClick:this.onCarClick,selectedKeys:[this.state.carCurrent],mode:"horizontal",items:x}):null,this.props.local?Object(A.jsx)(m.a,{className:"titleButton",onClick:function(){e.props.wsSendObj({download:e.state.dataTime})},children:"\u4e0b\u8f7d"}):Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(m.a,{className:"titleButton",onClick:function(){var t=e.props.colFlag,a=new Date(Date.now()).toLocaleString();t?e.props.wsSendObj({flag:!0,time:a}):e.props.wsSendObj({flag:t}),e.props.changeStateData({colFlag:!t}),e.props.setColValueFlag(t)},children:[this.props.colFlag?"\u91c7\u96c6":"\u505c\u6b62",this.state.num?this.state.num:null]})}),Object(A.jsx)(m.a,{className:"titleButton",onClick:function(){"normal"==e.props.numMatrixFlag?e.props.changeStateData({numMatrixFlag:"num"}):"num"==e.props.numMatrixFlag?e.props.changeStateData({numMatrixFlag:"heatmap"}):e.props.changeStateData({numMatrixFlag:"normal"})},children:"normal"==this.props.numMatrixFlag?"\u77e9\u9635":"num"==this.props.numMatrixFlag?"2D":"\u70ed\u529b\u56fe"}),"foot"==this.props.matrixName?Object(A.jsx)(m.a,{className:"titleButton",onClick:function(){var t,a=e.props.centerFlag;e.props.changeStateData({centerFlag:!a}),null===(t=e.props.com.current)||void 0===t||t.changeCenterFlag(a),a&&e.props.canvasInit()},children:this.props.centerFlag?"\u9690\u85cf":"\u91cd\u5fc3"}):null]}),Object(A.jsxs)("div",{style:{position:"relative"},children:[Object(A.jsx)("img",{onClick:function(){var t=e.state.show;e.setState({show:!t})},className:"optionImg",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAACjSURBVDiN7ZSxDcMwDAT/k0WygHZQ4yW0SMoopbdI5SlcxDNoIKaJC0uUQAE2nCLXEKAIAv96kFAIYXyI0JPiAcRpuj+1OY2rtgxAJHH7trxzA1KaF8tChjBK5S1m1cSlZ9gC88YqOWubfSw8TGlenBsAwIvwTeLV8ym7U0huYYlTIbm1DIY4tWJTI2Z1w/GxqWGNk9nD0+KkSv5fmy5+/9p8APi9YOuuAu/dAAAAAElFTkSuQmCC",alt:""}),this.state.show?Object(A.jsx)("div",{className:"slideContent",style:{position:"absolute",width:"300px",padding:"20px",backgroundColor:"rgba(21,18,42,0.8)",borderRadius:"20px",right:0,zIndex:100},children:Object(A.jsxs)("div",{className:"flexcenter",style:{flex:1,flexDirection:"column"},children:[Object(A.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(A.jsx)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:"\u6da6\u6ed1"}),Object(A.jsx)(v.a,{min:.1,max:8,onChange:function(t){localStorage.setItem("carValueg",t),e.props.changeStateData({valueg1:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({valueg:t}),e.props.com.current.backValue&&e.props.com.current.backValue({valueg:t}))},value:this.props.valueg1,step:.1,style:{width:"200px"}})]}),Object(A.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(A.jsx)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:"\u989c\u8272"}),Object(A.jsx)(v.a,{min:5,max:2e3,onChange:function(t){localStorage.setItem("carValuej",t),e.props.changeStateData({valuej1:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({valuej:t}),e.props.com.current.backValue&&e.props.com.current.backValue({valuej:t}))},value:this.props.valuej1,step:10,style:{width:"200px"}})]}),Object(A.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(A.jsxs)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:["\u8fc7\u6ee4\u503c"," "]}),Object(A.jsx)(v.a,{min:1,max:500,onChange:function(t){localStorage.setItem("carValuef",t),e.props.changeStateData({valuef1:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({valuef:t}),e.props.com.current.backValue&&e.props.com.current.backValue({valuef:t}))},value:this.props.valuef1,step:2,style:{width:"200px"}})]}),Object(A.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(A.jsx)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:"\u9ad8\u5ea6"}),Object(A.jsx)(v.a,{min:.1,max:15,onChange:function(t){localStorage.setItem("carValue",t),e.props.changeStateData({value1:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({value:t}),e.props.com.current.backValue&&e.props.com.current.backValue({value:t}))},value:this.props.value1,step:.02,style:{width:"200px"}})]}),Object(A.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(A.jsxs)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:["\u6570\u636e\u8fde\u8d2f\u6027"," "]}),Object(A.jsx)(v.a,{min:1,max:20,onChange:function(t){localStorage.setItem("carValuel",t),e.props.changeStateData({valuel1:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({valuel:t}),e.props.com.current.backValue&&e.props.com.current.backValue({valuel:t}))},value:this.props.valuel1,step:1,style:{width:"200px"}})]}),Object(A.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(A.jsxs)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:["\u521d\u59cb\u503c"," "]}),Object(A.jsx)(v.a,{min:1,max:1e4,onChange:function(t){localStorage.setItem("carValueInit",t),e.props.changeStateData({valuelInit1:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({valuelInit:t}),e.props.com.current.backValue&&e.props.com.current.backValue({valuelInit:t}))},value:this.props.valuelInit1,step:500,style:{width:"200px"}})]})]})}):Object(A.jsx)("div",{})]})]})}}]),a}(r.a.Component),S=(a(150),a(2)),b=a(70),j=a(71),C=a(116),O=([[255,255,0],[204,255,0],[153,255,0],[102,255,0],[51,255,0],[0,255,0],[0,255,51],[0,255,102],[0,255,153],[0,255,204]].concat(Object(c.a)(new Array(3).fill([0,255,255])),Object(c.a)(new Array(3).fill([0,204,255])),Object(c.a)(new Array(3).fill([0,153,255])),Object(c.a)(new Array(3).fill([0,102,255])),[[255,255,255],[255,255,255]],Object(c.a)(new Array(5).fill([255,255,255]))),[[255,0,0],[255,69,0],[255,136,0],[255,170,0],[255,204,0],[255,255,0],[204,255,0],[153,255,0],[102,255,0],[51,255,0],[0,255,0],[0,255,51],[0,255,102],[0,255,153],[0,255,204]].concat(Object(c.a)(new Array(5).fill([0,255,255])),Object(c.a)(new Array(5).fill([0,204,255])),Object(c.a)(new Array(5).fill([0,153,255])),Object(c.a)(new Array(50).fill([0,102,255])),[[255,255,255],[255,255,255]],Object(c.a)(new Array(5).fill([255,255,255]))),[[255,0,0],[255,69,0],[255,136,0],[255,170,0],[255,204,0],[255,255,0],[204,255,0],[153,255,0],[102,255,0],[51,255,0],[0,255,0],[0,255,51],[0,255,102],[0,255,153],[0,255,204],[0,255,255],[0,204,255],[0,153,255]].concat(Object(c.a)(new Array(5).fill([0,102,255])),[[255,255,255],[255,255,255]],Object(c.a)(new Array(5).fill([255,255,255])))),E=([[255,255,0],[204,255,0],[153,255,0],[102,255,0],[51,255,0],[0,255,0],[0,255,51],[0,255,102],[0,255,153],[0,255,204]].concat(Object(c.a)(new Array(5).fill([0,255,255])),Object(c.a)(new Array(5).fill([0,204,255])),Object(c.a)(new Array(5).fill([0,153,255])),Object(c.a)(new Array(15).fill([0,102,255])),[[255,255,255],[255,255,255]],Object(c.a)(new Array(5).fill([255,255,255]))),[[0,0,0],[17,17,17],[34,34,34],[51,51,51],[68,68,68],[85,85,85]]);[[255,255,0],[204,255,0],[153,255,0],[102,255,0],[51,255,0],[0,255,0],[0,255,51],[0,255,102],[0,255,153],[0,255,204]].concat(Object(c.a)(new Array(5).fill([0,255,255])),Object(c.a)(new Array(5).fill([0,204,255])),Object(c.a)(new Array(5).fill([0,153,255])),Object(c.a)(new Array(50).fill([0,102,255])),[[255,255,255],[255,255,255]],Object(c.a)(new Array(5).fill([255,255,255]))),[[255,255,0],[204,255,0],[153,255,0],[102,255,0],[51,255,0],[0,255,0],[0,255,51],[0,255,102],[0,255,153],[0,255,204],[0,255,255],[0,204,255],[0,153,255]].concat(Object(c.a)(new Array(5).fill([0,102,255])),[[255,255,255],[255,255,255]],Object(c.a)(new Array(5).fill([255,255,255])));function F(e,t,a,n){for(var r=1;r<=a;r++)for(var o=1;o<=a;o++)t[a*n*(n*(o-1))+a*n*n/2+n*(r-1)+n/2]=10*e[a*(o-1)+r-1]}function B(e,t,a,n,r){for(var o=1;o<=a;o++)for(var i=1;i<=n;i++)t[n*r*(r*(o-1))+n*r*Math.floor(r/2)+r*(i-1)+Math.floor(r/2)]=10*e[a*(i-1)+o-1]}function k(e,t,a,n,r,o){for(var i=new Array(a),l=[],s=0;s<a;s++){i[s]=[];for(var u=0;u<t;u++){var d;if(0==u)(d=i[s]).push.apply(d,Object(c.a)(new Array(n).fill(o>=0?o:1)).concat([e[s*t+u]]));else if(u==t-1){var h;(h=i[s]).push.apply(h,[e[s*t+u]].concat(Object(c.a)(new Array(n).fill(o>=0?o:1))))}else i[s].push(e[s*t+u])}}for(var g=0;g<a;g++)l.push.apply(l,Object(c.a)(i[g]));return[].concat(Object(c.a)(new Array(r*(t+2*n)).fill(o>=0?o:1)),l,Object(c.a)(new Array(r*(t+2*n)).fill(o>=0?o:1)))}function V(e,t,a,n,r){for(var o=Math.ceil(2.57*r),i=0;i<n;i++)for(var l=0;l<a;l++){for(var s=0,c=0,u=i-o;u<i+o+1;u++)for(var d=l-o;d<l+o+1;d++){var h=Math.min(a-1,Math.max(0,d)),g=Math.min(n-1,Math.max(0,u)),p=(d-l)*(d-l)+(u-i)*(u-i),f=Math.exp(-p/(2*r*r))/(2*Math.PI*r*r);s+=e[g*a+h]*f,c+=f}t[i*a+l]=Math.round(s/c)}}function Q(e,t,a){var n,r,o,i;n=1,r=1,o=1,a<e&&(a=e),a>t&&(a=t),a<e+.25*(i=t-e)?(n=0,r=4*(a-e)/i):a<e+.5*i?(n=0,o=1+4*(e+.25*i-a)/i):a<e+.75*i?(n=4*(a-e-.5*i)/i,o=0):(r=1+4*(e+.75*i-a)/i,o=0);var l=new Array;return l[0]=parseInt(255*n+""),l[1]=parseInt(255*r+""),l[2]=parseInt(255*o+""),l}function M(e,t,a){if(!a)return O[O.length-1];var n=O.length,r=2*(t-e)/n,o=Math.floor(a/r)>=n-1?n-1:Math.floor(a/r)<0?0:Math.floor(a/r);return O[n-1-o]}function P(e,t,a){if(!a)return E[E.length-1];var n=E.length,r=(t-e)/n,o=Math.floor(a/r)>=n-1?n-1:Math.floor(a/r)<0?0:Math.floor(a/r);return E[n-1-o]}function N(e){var t=0;return e.forEach((function(e){t=t>e?t:e})),t}function D(e){var t=0;return e.forEach((function(e){t=t<e?t:e})),t}var J=function(){function e(t,a,n){Object(u.a)(this,e),this.element=document.createElement("div"),this.element.classList.add(n),this.element.style.pointerEvents="none",this.renderer=t,this.controls=a,this.startPoint=new S.ob,this.pointTopLeft=new S.ob,this.pointBottomRight=new S.ob,this.isShiftPressed=!1,this.isDown=!1,this.onPointerDown=function(e){this.isDown=!0,this.onSelectStart(e)}.bind(this),this.onPointerMove=function(e){this.isDown&&this.onSelectMove(e)}.bind(this),this.onPointerUp=function(){this.isDown=!1,this.onSelectOver()}.bind(this),this.renderer.domElement.addEventListener("pointerdown",this.onPointerDown),this.renderer.domElement.addEventListener("pointermove",this.onPointerMove),this.renderer.domElement.addEventListener("pointerup",this.onPointerUp)}return Object(d.a)(e,[{key:"dispose",value:function(){this.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown),this.renderer.domElement.removeEventListener("pointermove",this.onPointerMove),this.renderer.domElement.removeEventListener("pointerup",this.onPointerUp)}},{key:"onSelectStart",value:function(e){this.isShiftPressed&&(this.element.style.display="none",this.renderer.domElement.parentElement.appendChild(this.element),this.element.style.left=e.clientX+"px",this.element.style.top=e.clientY+"px",this.element.style.width="0px",this.element.style.height="0px",this.startPoint.x=e.clientX,this.startPoint.y=e.clientY)}},{key:"onSelectMove",value:function(e){this.isShiftPressed&&(this.element.style.display="block",this.pointBottomRight.x=Math.max(this.startPoint.x,e.clientX),this.pointBottomRight.y=Math.max(this.startPoint.y,e.clientY),this.pointTopLeft.x=Math.min(this.startPoint.x,e.clientX),this.pointTopLeft.y=Math.min(this.startPoint.y,e.clientY),this.element.style.left=this.pointTopLeft.x+"px",this.element.style.top=this.pointTopLeft.y+"px",this.element.style.width=this.pointBottomRight.x-this.pointTopLeft.x+"px",this.element.style.height=this.pointBottomRight.y-this.pointTopLeft.y+"px")}},{key:"onSelectOver",value:function(){var e;this.element&&(null===(e=this.element.parentElement)||void 0===e||e.removeChild(this.element))}}]),e}(),R=a(12);function U(e){for(var t=e.particles,a=e.camera,n=e.position,r=t.geometry.attributes.position,o=[],i=[0,r.count-1],l=0;l<i.length;l++){var s=new S.pb;s.fromBufferAttribute(r,i[l]);var c=new S.e,u=new S.pb(s.x,s.y,s.z),d=new S.pb(s.x,s.y,0),h=u.clone();h.sub(d);var g=new S.pb(1,0,0),p=t.rotation.x,f=(new S.bb).setFromAxisAngle(g,p);h.applyQuaternion(f),h.add(d),c.setAttribute("position",new S.d(u,3));var m=new S.Z({color:16711680}),v=new S.Y(c,m);v.scale.x=t.scale.x,v.scale.y=t.scale.y,v.scale.z=t.scale.z,v.position.x=t.position.x+n.x+u.x*t.scale.x,v.position.y=t.position.y+n.y+(h.y-u.y)*t.scale.y,v.position.z=t.position.z+n.z+u.z*t.scale.z+(h.z-u.z)*t.scale.z;var A=new S.pb,I=.5*window.innerWidth,x=.5*window.innerHeight;v.updateMatrixWorld(),A.setFromMatrixPosition(v.matrixWorld),A.project(a),A.x=A.x*I+I,A.y=-A.y*x+x,o.push(A)}return o}function K(e){for(var t=e.particles,a=e.camera,n=e.position,r=(e.width,t.geometry.attributes.position),o=[],i=[0,r.count-1],l=0;l<i.length;l++){var s=new S.pb;s.fromBufferAttribute(r,i[l]);var c=new S.e,u=new S.pb(s.x,s.y,s.z),d=new S.pb(s.x,s.y,0),h=u.clone();h.sub(d);var g=new S.pb(1,0,0),p=t.rotation.x,f=(new S.bb).setFromAxisAngle(g,p);h.applyQuaternion(f),h.add(d),c.setAttribute("position",new S.d(u,3));var m=new S.Z({color:16711680}),v=new S.Y(c,m);v.scale.x=t.scale.x,v.scale.y=t.scale.y,v.scale.z=t.scale.z,v.position.x=t.position.x+n.x-(u.x+100)*t.scale.x,v.position.y=t.position.y+n.y+(h.y-u.y)*t.scale.y,v.position.z=t.position.z+n.z+u.z*t.scale.z+(h.z-u.z)*t.scale.z;var A=new S.pb,I=.5*window.innerWidth,x=.5*window.innerHeight;v.updateMatrixWorld(),A.setFromMatrixPosition(v.matrixWorld),A.project(a),A.x=A.x*I+I,A.y=-A.y*x+x,o.push(A)}return o}function L(e,t){var a=Object(R.a)(e,4),n=a[0],r=a[1],o=a[2],i=a[3],l=Object(R.a)(t,4),s=l[0],c=l[1],u=l[2],d=l[3];return n<u&&o>s&&r<d&&i>c?[Math.max(n,s),Math.max(r,c),Math.min(o,u),Math.min(i,d)]:null}function T(e,t,a,n){var r=Object(R.a)(e,4),o=r[0],i=r[1],l=r[2],s=r[3],c=Object(R.a)(t,4),u=c[0],d=c[1],h=s-i,g=l-o;return[(u-o)/g*a,(c[2]-o)/g*a,(d-i)/h*n,(c[3]-i)/h*n].map((function(e){return Math.round(e)}))}var z,q=r.a.forwardRef((function(e,t){var a=7*-Math.PI/12;console.log("canvas");var r,o,i,l,s,u,d,h,g,p,f,m,v,I,x,y,w,O,E,B,Q,N=[],D=[],R=[],z=[],q=[],X=[],H=[],G=32,W=32,Y=!0,Z=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,_=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,$=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,ee=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,te=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,ae=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,ne=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,re=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,oe=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,ie=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,le=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,se=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,ce=new Array(1024).fill(0),ue=new Array(1024).fill(0),de=new Array(1024).fill(0),he=new Array(1024).fill(0),ge=function(){!0},pe=new Array(4096).fill(1),fe=new Array(5184).fill(1),me=new Array(10368).fill(1),ve=new Array(10368).fill(1),Ae=new Array(4096).fill(1),Ie=new Array(5184).fill(1),xe=new Array(5184).fill(1),ye=0,we=72,Se=72,be=72,je=144,Ce=100,Oe=new S.p;function Ee(){I=document.getElementById("canvas".concat(e.index)),(f=new S.V(40,window.innerWidth/window.innerHeight,1,15e4)).position.z=300,f.position.y=200,m=new S.fb,(new b.a).load("./model/chair3.glb",(function(t){p=t.scene,e.body&&(p.rotation.y=-Math.PI/2,p.position.x=145,p.position.y=-100,p.position.z=150),Oe.add(p),m.add(Oe),Oe.position.x=-10,Oe.position.y=-20})),function(){var e=5184;E=new Float32Array(3*e),Q=new Float32Array(e),B=new Float32Array(3*e);for(var t=0,a=0,n=0;n<we;n++)for(var r=0;r<Se;r++)E[t]=n*Ce-3600,E[t+1]=0,E[t+2]=r*Ce-3600,Q[a]=1,B[t]=0,B[t+1]=0,B[t+2]=1,t+=3,a++;(g=new S.e).setAttribute("position",new S.d(E,3));var o=(new S.lb).load("./circle.png");d=new S.Z({vertexColors:!0,transparent:!0,map:o,size:2}),g.setAttribute("scale",new S.d(Q,1)),g.setAttribute("color",new S.d(B,3)),(s=new S.Y(g,d)).scale.x=.005,s.scale.y=.005,s.scale.z=.005,s.position.z=148,s.position.y=70,s.position.x=-3,s.rotation.x=-Math.PI/48,s.rotation.y=0,Oe.add(s)}(),function(){var e=10368;y=new Float32Array(3*e),O=new Float32Array(e),w=new Float32Array(3*e);for(var t=0,n=0,r=0;r<be;r++)for(var o=0;o<je;o++)y[t]=r*Ce-3600,y[t+1]=0,y[t+2]=o*Ce-7200,O[n]=1,w[t]=0,w[t+1]=0,w[t+2]=1,t+=3,n++;(h=new S.e).setAttribute("position",new S.d(y,3)),h.setAttribute("scale",new S.d(O,1)),h.setAttribute("color",new S.d(w,3));var i=(new S.lb).load("./circle.png"),l=new S.Z({vertexColors:!0,transparent:!0,map:i,size:1.6});(u=new S.Y(h,l)).geometry.attributes.position.needsUpdate=!0,u.geometry.attributes.color.needsUpdate=!0,u.geometry.attributes.scale.needsUpdate=!0,u.scale.x=.0048,u.scale.y=.0048,u.scale.z=.0048,u.position.z=118,u.position.y=100,u.position.x=1,u.rotation.x=a,Oe.add(u)}();var t=new S.o(2e3,100);t.position.y=-199,t.material.opacity=.25,t.material.transparent=!0,m.add(t);var n=new S.q(16777215,4473924);n.position.set(0,200,0),m.add(n);var r=new S.j(16777215);r.position.set(0,200,10),m.add(r);var o=new S.j(16777215);o.position.set(0,10,200),m.add(o),(v=new S.rb({antialias:!0})).setPixelRatio(window.devicePixelRatio),v.setSize(window.innerWidth,window.innerHeight),v.outputEncoding=S.sb,0==I.childNodes.length&&I.appendChild(v.domElement),v.setClearColor(1053995),(x=new j.a(f,v.domElement)).dynamicDampingFactor=.1,x.domElement=I,x.mouseButtons={LEFT:S.G.PAN,MIDDLE:S.G.ZOOM,RIGHT:S.G.ROTATE},window.addEventListener("resize",Qe),i=new J(v,x,"selectBox"),document.addEventListener("pointerdown",Fe),document.addEventListener("pointermove",Be),document.addEventListener("pointerup",ke)}function Fe(t){i.isShiftPressed&&(X=[],H=[],e.changeSelect({sit:X,back:H}),N=[t.clientX,t.clientY],r=U({particles:s,camera:f,position:{x:-10,y:-20,z:0}}),o=K({particles:u,camera:f,position:{x:-10,y:-20,z:0},width:be}),R=[r[0].x,r[0].y,r[1].x,r[1].y],z=[o[1].x,o[1].y,o[0].x,o[0].y])}function Be(t){if(i.isShiftPressed&&(D=[t.clientX,t.clientY],q=[].concat(Object(c.a)(N),Object(c.a)(D)),N[0]>D[0]?(q[0]=D[0],q[2]=N[0]):(q[0]=N[0],q[2]=D[0]),N[1]>D[1]?(q[1]=D[1],q[3]=N[1]):(q[1]=N[1],q[3]=D[1]),!Y)){var a=L(q,R),n=L(q,z);a&&(X=T(R,a,we,Se)),n&&(H=T(z,n,be,je)),e.changeSelect({sit:X,back:H})}}function ke(e){i.isShiftPressed&&(N=[],D=[])}function Ve(e){Y=e,i.isShiftPressed=!e}function Qe(){v.setSize(window.innerWidth,window.innerHeight),f.aspect=window.innerWidth/window.innerHeight,f.updateProjectionMatrix()}function Me(e){e-ye>=25&&(!function(){(function(){ue=Object(c.a)(he).map((function(e,t){return e-ie<0?0:e})),ue.reduce((function(e,t){return e+t}),0)<se&&(ue=new Array(1024).fill(1));F(ue,pe,W,2);V(k(pe,64,64,4,4),fe,72,72,ne);for(var e=0;e<72;e++)for(var t=0;t<72;t++)me[2*e*72+2*t]=fe[72*e+t],me[2*e*72+(2*t+1)]=fe[72*e+t];for(var a=0,n=0,r=0;r<be;r++)for(var o=0;o<je;o++){var i=10*me[n];ve[n]=ve[n]+(i-ve[n]+.5)/oe,y[a+1]=-ve[n]/re;var l=void 0;H&&!H.every((function(e){return 0==e}))?r>=H[0]&&r<H[1]&&o<je-H[2]&&o>=je-H[3]?(l=M(0,ae,ve[n]+50),O[n]=2):(l=P(0,ae,ve[n]),O[n]=1):(l=M(0,ae,ve[n]),O[n]=1),w[a]=l[0]/255,w[a+1]=l[1]/255,w[a+2]=l[2]/255,a+=3,n++}u.geometry.attributes.position.needsUpdate=!0,u.geometry.attributes.color.needsUpdate=!0,u.geometry.attributes.scale.needsUpdate=!0,h.setAttribute("position",new S.d(y,3)),h.setAttribute("scale",new S.d(O,1)),h.setAttribute("color",new S.d(w,3))})(),function(){ce=Object(c.a)(de).map((function(e,t){return e-te<0?0:e})),ce.reduce((function(e,t){return e+t}),0)<le&&(ce=new Array(1024).fill(1));F(ce,Ae,G,2),V(k(Ae,64,64,4,4),Ie,72,72,_);for(var e=0,t=0,a=0;a<we;a++)for(var n=0;n<Se;n++){var r=10*Ie[t];xe[t]=xe[t]+(r-xe[t]+.5)/ee,E[e]=a*Ce-3600+20*a,E[e+1]=xe[t]/$,E[e+2]=n*Ce-3600;var o=void 0;o=X&&!X.every((function(e){return 0==e}))?a>=X[0]&&a<X[1]&&n>=X[2]&&n<X[3]?M(0,Z,xe[t]):P(0,Z,xe[t]):M(0,Z,xe[t]),B[e]=o[0]/255,B[e+1]=o[1]/255,B[e+2]=o[2]/255,e+=3,t++}s.geometry.attributes.position.needsUpdate=!0,s.geometry.attributes.color.needsUpdate=!0,g.setAttribute("position",new S.d(E,3)),g.setAttribute("color",new S.d(B,3))}(),C.a.update(),Y?(x.mouseButtons={LEFT:S.G.PAN,MIDDLE:S.G.ZOOM,RIGHT:S.G.ROTATE},x.keys=[18,17,91],x.update()):Y||(x.keys=[],x.mouseButtons=[]);v.render(m,f)}(),ye=e),l=requestAnimationFrame(Me)}function Pe(e,t,a){var n={x:a.position.x,y:a.position.y,z:a.position.z,rotationx:a.rotation.x,rotationy:a.rotation.y,rotationz:a.rotation.z},r=new C.a.Tween(n).to(e,t).easing(C.a.Easing.Quadratic.InOut);return r.onUpdate((function(){a.position.set(n.x,n.y,n.z),n.rotationx&&(a.rotation.x=n.rotationx)})),r}function Ne(){console.log("sit"),s.visible=!0,x.reset(),Pe({x:0,y:170,z:220,rotationx:Math.PI/3},1e3,s).start(),u.visible=!1,p.visible=!1}function De(){u.visible=!0,x.reset(),Pe({x:2,y:165,z:225,rotationx:-Math.PI/2-4*Math.PI/24},1e3,u).start(),s.visible=!1,p.visible=!1}function Je(){(u.visible=!0,s.visible=!0,p.visible=!0,x.reset(),220==s.position.z)&&Pe({x:-3,y:70,z:148,rotationx:-Math.PI/48},1e3,s).start();225==u.position.z&&Pe({x:1,y:100,z:118,rotationx:a},1e3,u).start();console.log("actionAll")}function Re(e){var t=e.wsPointData;he=t}function Ue(e){var t=e.valuej,a=e.valueg,n=e.value,r=e.valuel,o=e.valuef,i=e.valuelInit;t&&(ae=t),a&&(ne=a),n&&(re=n),r&&(oe=r),o&&(ie=o),i&&(se=i)}function Ke(e){var t=e.valuej,a=e.valueg,n=e.value,r=e.valuel,o=e.valuef,i=e.valuelInit;t&&(Z=t),a&&(_=a),n&&($=n),r&&(ee=r),o&&(te=o),i&&(le=i)}function Le(e){var t=e.wsPointData;de=t}function Te(e){var t=e.direction,a=e.value,n=e.type;"back"===n?u.rotation[t]="x"==t?-Math.PI/2-4*Math.PI/24-6*a/12:-6*a/12:"sit"===n&&(s.rotation[t]="x"==t?Math.PI/3-6*a/12:6*a/12)}return Object(n.useImperativeHandle)(t,(function(){return{backData:Re,sitData:Le,changeDataFlag:ge,sitValue:Ke,backValue:Ue,changeSelectFlag:Ve,actionAll:Je,actionSit:Ne,actionBack:De,changePointRotation:Te}})),Object(n.useEffect)((function(){return window.removeEventListener("keydown",(function(){})),window.removeEventListener("keyup",(function(){})),Ee(),Me(),function(){var e;l&&cancelAnimationFrame(l),document.removeEventListener("pointerdown",Fe),document.removeEventListener("pointermove",Be),document.removeEventListener("pointup",ke),null===(e=i)||void 0===e||e.dispose()}}),[]),Object(A.jsx)("div",{children:Object(A.jsx)("div",{style:{width:"100%",height:"100%"},id:"canvas".concat(e.index)})})})),X=(a(128),new S.p,16),H=32,G=16,W=32,Y=!0,Z=new Array(512).fill(0),_=new Array(512).fill(0),$=new Array(512).fill(0),ee=new Array(512).fill(0),te=!0,ae=(localStorage.getItem("carValuej")&&JSON.parse(localStorage.getItem("carValuej")),localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2),ne=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,re=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,oe=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,ie=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,le=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,se=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,ce=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,ue=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,de=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,he=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,ge=r.a.forwardRef((function(e,t){var a,r,o,i,l,s,u,d,h,g,p,f,m,v,I,x,y,w,C,O,E,F=[],M=[],N=[],D=[],R=[],q=[0,0],ge=[],pe=[],fe=function(){!0},me=new Array(2048).fill(1),ve=new Array(2880).fill(1),Ae=(new Array(2880).fill(1),new Array(2880).fill(1)),Ie=new Array(2048).fill(1),xe=new Array(2880).fill(1),ye=(new Array(2880).fill(1),new Array(2880).fill(1)),we=(new S.h,40),Se=72,be=40,je=72,Ce=100,Oe=new S.p;function Ee(){p=document.getElementById("canvas"),(f=new S.V(40,window.innerWidth/window.innerHeight,1,15e4)).position.z=10,f.position.y=200,m=new S.fb;new b.a;!function(){var e=2880;C=new Float32Array(3*e),E=new Float32Array(e),O=new Float32Array(3*e);for(var t=0,a=0,n=0;n<we;n++)for(var r=0;r<Se;r++)C[t]=n*Ce-2e3+20*n,C[t+1]=0,C[t+2]=r*Ce-3600,E[a]=1,O[t]=0,O[t+1]=0,O[t+2]=1,t+=3,a++;(h=new S.e).setAttribute("position",new S.d(C,3));var o=(new S.lb).load("./circle.png");u=new S.Z({vertexColors:!0,transparent:!0,map:o,size:1}),h.setAttribute("scale",new S.d(E,1)),h.setAttribute("color",new S.d(O,3)),(i=new S.Y(h,u)).scale.x=.0062,i.scale.y=.0062,i.scale.z=.0062,Oe.add(i)}(),function(){var e=2880;x=new Float32Array(3*e),w=new Float32Array(e),y=new Float32Array(3*e);for(var t=0,a=0,n=0;n<be;n++)for(var r=0;r<je;r++)x[t]=n*Ce-2e3,x[t+1]=0,x[t+2]=r*Ce-3600,w[a]=1,y[t]=0,y[t+1]=0,y[t+2]=1,t+=3,a++;(d=new S.e).setAttribute("position",new S.d(x,3)),d.setAttribute("scale",new S.d(w,1)),d.setAttribute("color",new S.d(y,3));var o=(new S.lb).load("./circle.png"),i=new S.Z({vertexColors:!0,transparent:!0,map:o,size:1});(l=new S.Y(d,i)).geometry.attributes.position.needsUpdate=!0,l.geometry.attributes.color.needsUpdate=!0,l.scale.x=.0062,l.scale.y=.0062,l.scale.z=.0062,l.position.x=30,Oe.add(l)}(),function(){var e=new S.W(2,2),t=(new S.lb).load("./circle.png"),a=new S.L({color:10034170,map:t,transparent:!0});(s=new S.K(e,a)).rotation.x=-Math.PI/2,s.position.y=10,s.position.x=38,s.position.z=19.5,Oe.add(s)}(),Oe.position.x=-10,Oe.position.y=110,Oe.position.z=5,m.add(Oe);var e=new S.o(2e3,100);e.position.y=-199,e.material.opacity=.25,e.material.transparent=!0,m.add(e);var t=new S.q(16777215,4473924);t.position.set(0,200,0),m.add(t);var a=new S.j(16777215);a.position.set(0,200,10),m.add(a);var n=new S.j(16777215);n.position.set(0,10,200),m.add(n),(v=new S.rb({antialias:!0})).setPixelRatio(window.devicePixelRatio),v.setSize(window.innerWidth,window.innerHeight),v.outputEncoding=S.sb,0==p.childNodes.length&&p.appendChild(v.domElement),v.setClearColor(0),(I=new j.a(f,v.domElement)).dynamicDampingFactor=.2,I.domElement=p,I.mouseButtons={LEFT:S.G.PAN,MIDDLE:S.G.ZOOM,RIGHT:S.G.ROTATE},I.keys=[18,17,91],window.addEventListener("resize",Ve),v.domElement.addEventListener("click",(function(){}),!1),o=new J(v,I,"selectBox"),document.addEventListener("pointerdown",Fe),document.addEventListener("pointermove",Be),document.addEventListener("pointerup",ke)}function Fe(t){o.isShiftPressed&&(ge=[],pe=[],e.changeSelect({sit:ge,back:pe}),F=[t.clientX,t.clientY],a=U({particles:i,camera:f,position:{x:-10,y:110,z:5}}),r=K({particles:l,camera:f,position:{x:-10,y:110,z:5},width:be}),N=[a[0].x,a[0].y,a[1].x,a[1].y],D=[r[1].x,r[0].y,r[0].x,r[1].y])}function Be(t){if(o.isShiftPressed&&(M=[t.clientX,t.clientY],R=[].concat(Object(c.a)(F),Object(c.a)(M)),F[0]>M[0]?(R[0]=M[0],R[2]=F[0]):(R[0]=F[0],R[2]=M[0]),F[1]>M[1]?(R[1]=M[1],R[3]=F[1]):(R[1]=F[1],R[3]=M[1]),!Y)){var a=L(R,N),n=L(R,D);a&&(ge=T(N,a,we,Se)),n&&(pe=T(D,n,be,je)),e.changeSelect({sit:ge,back:pe})}}function ke(e){o.isShiftPressed&&(F=[],M=[])}function Ve(){v.setSize(window.innerWidth,window.innerHeight),f.aspect=window.innerWidth/window.innerHeight,f.updateProjectionMatrix()}function Qe(){z=requestAnimationFrame(Qe);(new Date).getTime();!function(){s&&(s.position.x=48*q[0]/32-10,s.position.z=38.5*q[1]/32-19);s.visible=!te;Me(),Pe(),Y?(I.mouseButtons={LEFT:S.G.PAN,MIDDLE:S.G.ZOOM,RIGHT:S.G.ROTATE},I.keys=[18,17,91],I.update()):Y||(I.keys=[],I.mouseButtons=[]);v.render(m,f)}()}function Me(){Z=Object(c.a)(_).map((function(e,t){return e-ue<0?0:e})),g=Z.reduce((function(e,t){return e+t}),0),B(Z=g<he?new Array(512).fill(0):Object(c.a)(_),me,G,W,2);V(k(me,64,32,4,4),ve,72,40,le);for(var e=0,t=0,a=0;a<be;a++)for(var n=0;n<je;n++){var r=10*ve[t];Ae[t]=Ae[t]+(r-Ae[t]+.5)/ce,x[e+1]=Ae[t]/se;var o=void 0;pe&&!pe.every((function(e){return 0==e}))?a>=pe[0]&&a<pe[1]&&n>=pe[2]&&n<pe[3]?o=Q(0,ie,Ae[t]):(o=P(0,ie,Ae[t]),w[t]=1):(o=Q(0,ie,Ae[t]),w[t]=1),y[e]=o[0]/255,y[e+1]=o[1]/255,y[e+2]=o[2]/255,e+=3,t++}l.geometry.attributes.position.needsUpdate=!0,l.geometry.attributes.color.needsUpdate=!0,d.setAttribute("position",new S.d(x,3)),d.setAttribute("color",new S.d(y,3))}function Pe(){ee=Object(c.a)($).map((function(e,t){return e-oe<0?0:e})),ee.reduce((function(e,t){return e+t}),0)<de&&(ee=new Array(512).fill(0)),B(ee,Ie,X,H,2),V(k(Ie,64,32,4,4),xe,72,40,ae);for(var e=0,t=0,a=0;a<we;a++)for(var n=0;n<Se;n++){var r=10*xe[t];ye[t]=ye[t]+(r-ye[t]+.5)/re,C[e]=a*Ce-2e3,C[e+1]=ye[t]/ne,C[e+2]=n*Ce-3600;var o=void 0;ge&&!ge.every((function(e){return 0==e}))?a>=ge[0]&&a<ge[1]&&n>=ge[2]&&n<ge[3]?o=Q(0,ie,ye[t]):(o=P(0,ie,ye[t]),w[t]=1):(o=Q(0,ie,ye[t]),w[t]=1),O[e]=o[0]/255,O[e+1]=o[1]/255,O[e+2]=o[2]/255,e+=3,t++}i.geometry.attributes.position.needsUpdate=!0,i.geometry.attributes.color.needsUpdate=!0,h.setAttribute("position",new S.d(C,3)),h.setAttribute("color",new S.d(O,3))}function Ne(e){var t=e.wsPointData;_=t}function De(e){var t=e.valuej,a=e.valueg,n=e.value,r=e.valuel,o=e.valuef,i=e.valuelInit;t&&(ie=t),a&&(le=a),n&&(se=n),r&&(ce=r),o&&(ue=o),i&&(he=i)}function Je(e){var t=e.valuej,a=e.valueg,n=e.value,r=e.valuel,o=e.valuef,i=e.valuelInit;t&&t,a&&(ae=a),n&&(ne=n),r&&(re=r),o&&(oe=o),i&&(de=i)}function Re(e){var t=e.wsPointData,a=e.arr;a&&(q=a),$=t}function Ue(e){"number"===typeof e.x&&(Oe.rotation.x=-6*e.x/12),"number"===typeof e.z&&(Oe.rotation.z=6*e.z/12)}function Ke(e){te=e}function Le(e){Y=e,o.isShiftPressed=!e}function Te(){f.position.z=300,f.position.y=200,f.position.x=0,f.rotation._x=0,f.rotation._y=0,f.rotation._z=0,Oe.rotation.x=-2*Math.PI/12,Oe.rotation.y=0,Oe.position.x=-15,Oe.position.y=150,Oe.position.z=230}function ze(e){"Shift"===e.key&&(I.mouseButtons=null,I.keys=null)}function qe(e){"Shift"===e.key&&(I.mouseButtons={LEFT:S.G.PAN,MIDDLE:S.G.ZOOM,RIGHT:S.G.ROTATE},I.keys=[18,17,91])}Object(n.useImperativeHandle)(t,(function(){return{backData:Ne,sitData:Re,changeDataFlag:fe,sitValue:Je,backValue:De,backRenew:Me,sitRenew:Pe,changeGroupRotate:Ue,reset:Te,changeSelectFlag:Le,changeCenterFlag:Ke}}));return Object(n.useEffect)((function(){return Ee(),Qe(),window.addEventListener("keydown",ze),window.addEventListener("keyup",qe),function(){cancelAnimationFrame(z),document.removeEventListener("pointerdown",Fe),document.removeEventListener("pointermove",Be),document.removeEventListener("pointup",ke),o.dispose()}}),[]),Object(A.jsx)("div",{children:Object(A.jsx)("div",{id:"canvas"})})})),pe=.13,fe=.2,me=.6,ve=.5,Ae=.2,Ie=.16,xe=.2,ye=.16,we=.2,Se=.16,be=[];be.push(fe);for(var je=0;je<2;je++)be.push(fe+(pe-fe)*(je+1)/3);be.push(pe);var Ce=[];be.push(ve);for(var Oe=0;Oe<2;Oe++)Ce.push(ve+(me-ve)*(Oe+1)/3);Ce.push(me);var Ee=[];be.push(Ie);for(var Fe=0;Fe<2;Fe++)Ee.push(Ie+(Ae-Ie)*(Fe+1)/3);Ee.push(Ae);var Be=[];be.push(ye);for(var ke=0;ke<2;ke++)Be.push(ye+(xe-ye)*(ke+1)/3);Be.push(xe);var Ve=[];be.push(Se);for(var Qe=0;Qe<2;Qe++)Ve.push(Se+(we-Se)*(Qe+1)/3);Ve.push(we);be[0],be[1],be[2],be[3],Ce[0],Ce[1],Ce[2],Ce[3],Ee[0],Ee[1],Ee[2],Ee[3],Be[0],Be[1],Be[2],Be[3],Ve[0],Ve[1],Ve[2],Ve[3],new S.p;var Me,Pe,Ne=32,De=new Array(512).fill(0),Je=new Array(1024).fill(0),Re=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,Ue=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,Ke=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,Le=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,Te=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,ze=(localStorage.getItem("carValuej")&&JSON.parse(localStorage.getItem("carValuej")),localStorage.getItem("carValueg")&&JSON.parse(localStorage.getItem("carValueg")),localStorage.getItem("carValue")&&JSON.parse(localStorage.getItem("carValue")),localStorage.getItem("carValuel")&&JSON.parse(localStorage.getItem("carValuel")),localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2),qe=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,Xe=(localStorage.getItem("carValueInit")&&JSON.parse(localStorage.getItem("carValueInit")),r.a.forwardRef((function(e,t){var a,r,o,i,l,s,c,u,d,h,g,p=function(){!0},f=(new Array(2048).fill(1),new Array(2880).fill(1),new Array(2880).fill(1),new Array(2880).fill(1),new Array(4096).fill(1)),m=new Array(5184).fill(1),v=(new Array(5184).fill(1),new Array(5184).fill(1)),I=0,x=(new S.h,72),y=72,w=100,C=new S.p;function O(){i=document.getElementById("canvas"),(l=new S.V(40,window.innerWidth/window.innerHeight,1,15e4)).position.z=300,l.position.y=200,s=new S.fb;new b.a;!function(){var e=5184;d=new Float32Array(3*e),g=new Float32Array(e),h=new Float32Array(3*e);for(var t=0,n=0,i=0;i<x;i++)for(var l=0;l<y;l++)d[t]=i*w-3600+20*i,d[t+1]=0,d[t+2]=l*w-3600,g[n]=1,h[t]=0,h[t+1]=0,h[t+2]=1,t+=3,n++;(o=new S.e).setAttribute("position",new S.d(d,3));var s=(new S.lb).load("./circle.png");r=new S.Z({vertexColors:!0,transparent:!0,map:s,size:2}),o.setAttribute("scale",new S.d(g,1)),o.setAttribute("color",new S.d(h,3)),(a=new S.Y(o,r)).scale.x=.0062,a.scale.y=.0062,a.scale.z=.0062,a.rotation.x=Math.PI/2,C.add(a)}(),C.rotation.x=-2*Math.PI/12,C.position.x=-15,C.position.y=150,C.position.z=230,s.add(C);var e=new S.o(2e3,100);e.position.y=-199,e.material.opacity=.25,e.material.transparent=!0,s.add(e);var t=new S.q(16777215,4473924);t.position.set(0,200,0),s.add(t);var n=new S.j(16777215);n.position.set(0,200,10),s.add(n);var p=new S.j(16777215);p.position.set(0,10,200),s.add(p),(c=new S.rb({antialias:!0})).setPixelRatio(window.devicePixelRatio),c.setSize(window.innerWidth,window.innerHeight),c.outputEncoding=S.sb,0==i.childNodes.length&&i.appendChild(c.domElement),c.setClearColor(0),(u=new j.a(l,c.domElement)).dynamicDampingFactor=.2,u.domElement=i,u.mouseButtons={LEFT:S.G.PAN,MIDDLE:S.G.ZOOM,RIGHT:S.G.ROTATE},u.keys=[18,17,91],window.addEventListener("resize",E),c.domElement.addEventListener("click",(function(){}),!1)}function E(){c.setSize(window.innerWidth,window.innerHeight),l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix()}function B(){Me=requestAnimationFrame(B);(new Date).getTime();!function(){M(),u.update();c.render(s,l)}()}function M(){F(Je,f,Ne,2),V(k(f,64,64,4,4),m,72,72,Ue);for(var e=0,t=0,n=0;n<x;n++)for(var r=0;r<y;r++){var i=10*m[t];v[t]=v[t]+(i-v[t]+.5)/Le,d[e]=n*w-3600,d[e+1]=v[t]/Ke,d[e+2]=r*w-3600;var l=Q(0,Re,v[t]);h[e]=l[0]/255,h[e+1]=l[1]/255,h[e+2]=l[2]/255,e+=3,t++}a.geometry.attributes.position.needsUpdate=!0,a.geometry.attributes.color.needsUpdate=!0,o.setAttribute("position",new S.d(d,3)),o.setAttribute("color",new S.d(h,3))}function P(e){var t=e.wsPointData;e.valuej,e.valueg,e.value,e.valuel,e.valuef,e.valuelInit;(De=t).reduce((function(e,t){return e+t}),0),De=De.map((function(e,t){return e-ze<0?0:e-ze}))}function N(e){var t=e.valuej,a=e.valueg,n=e.value,r=e.valuel,o=e.valuef,i=e.valuelInit;t&&t,a&&a,n&&n,r&&r,o&&(ze=o),i&&i,De=De.map((function(e,t){return e-ze<0?0:e-ze})),De.reduce((function(e,t){return e+t}),0)}function D(e){var t=e.valuej,a=e.valueg,n=e.value,r=e.valuel,o=e.valuef,i=e.valuelInit;t&&(Re=t),a&&(Ue=a),n&&(Ke=n),r&&(Le=r),o&&(Te=o),i&&(qe=i),Je=Je.map((function(e,t){return e-Te<0?0:e-Te})),Je.reduce((function(e,t){return e+t}),0)<qe&&(Je=new Array(1024).fill(0)),console.log(Je,111)}function J(e){I<50?I++:I=0;var t=e.wsPointData,a=(e.valuej,e.valueg,e.value,e.valuel,e.valuef,e.valuelInit);Je=(Je=t).map((function(e,t){return e-Te<0?0:e-Te})),Je.reduce((function(e,t){return e+t}),0)<a&&(Je=new Array(1024).fill(0))}function R(e){console.log(C.rotation),"number"===typeof e.x&&(C.rotation.x=-(2*Math.PI+4*e.x)/12),"number"===typeof e.y&&(C.rotation.y=6*-e.y/12)}function U(){console.log(l),console.log(111111),l.position.z=300,l.position.y=200,l.position.x=0,l.rotation._x=0,l.rotation._y=0,l.rotation._z=0,C.rotation.x=-2*Math.PI/12,C.rotation.y=0,C.position.x=-15,C.position.y=150,C.position.z=230}function K(e){"Shift"===e.key&&(u.mouseButtons=null,u.keys=null)}function L(e){"Shift"===e.key&&(u.mouseButtons={LEFT:S.G.PAN,MIDDLE:S.G.ZOOM,RIGHT:S.G.ROTATE},u.keys=[18,17,91])}Object(n.useImperativeHandle)(t,(function(){return{backData:P,sitData:J,changeDataFlag:p,sitValue:D,backValue:N,sitRenew:M,changeGroupRotate:R,reset:U}}));return Object(n.useEffect)((function(){return O(),B(),window.addEventListener("keydown",K),window.addEventListener("keyup",L),function(){cancelAnimationFrame(Me)}}),[]),Object(A.jsx)("div",{children:Object(A.jsx)("div",{id:"canvas"})})}))),He=(new S.p,64),Ge=32,We=!0,Ye=(new Array(512).fill(0),new Array(512).fill(0),new Array(2048).fill(0)),Ze=new Array(2048).fill(0),_e=!0,$e=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,et=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,tt=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,at=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,nt=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,rt=(localStorage.getItem("carValuej")&&JSON.parse(localStorage.getItem("carValuej")),localStorage.getItem("carValueg")&&JSON.parse(localStorage.getItem("carValueg")),localStorage.getItem("carValue")&&JSON.parse(localStorage.getItem("carValue")),localStorage.getItem("carValuel")&&JSON.parse(localStorage.getItem("carValuel")),localStorage.getItem("carValuef")&&JSON.parse(localStorage.getItem("carValuef")),localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2),ot=(localStorage.getItem("carValueInit")&&JSON.parse(localStorage.getItem("carValueInit")),r.a.forwardRef((function(e,t){var a,r,o,i,l,s,u,d,h,g,p,f,m,v,I,x=[],y=[],w=[],C=[],O=[],E=[0,0],F=[],M=[],N=function(){!0},D=(new Array(2048).fill(1),new Array(2880).fill(1),new Array(2880).fill(1),new Array(2880).fill(1),new Array(8192).fill(1)),R=new Array(9792).fill(1),z=(new Array(9792).fill(1),new Array(9792).fill(1)),q=(new S.h,136),X=72,H=100,G=new S.p;function W(){d=document.getElementById("canvas"),(h=new S.V(40,window.innerWidth/window.innerHeight,1,15e4)).position.z=10,h.position.y=200,g=new S.fb;new b.a;!function(){var e=9792;m=new Float32Array(3*e),I=new Float32Array(e),v=new Float32Array(3*e);for(var t=0,a=0,n=0;n<q;n++)for(var r=0;r<X;r++)m[t]=n*H-6800+20*n,m[t+1]=0,m[t+2]=r*H-3600,I[a]=1,v[t]=0,v[t+1]=0,v[t+2]=1,t+=3,a++;(u=new S.e).setAttribute("position",new S.d(m,3));var o=(new S.lb).load("./circle.png");s=new S.Z({vertexColors:!0,transparent:!0,map:o,size:1}),u.setAttribute("scale",new S.d(I,1)),u.setAttribute("color",new S.d(v,3)),(i=new S.Y(u,s)).scale.x=.0062,i.scale.y=.0062,i.scale.z=.0062,G.add(i)}(),function(){var e=new S.W(2,2),t=(new S.lb).load("./circle.png"),a=new S.L({color:10034170,map:t,transparent:!0});(l=new S.K(e,a)).rotation.x=-Math.PI/2,l.position.y=10,l.position.x=38,l.position.z=19.5,G.add(l)}(),G.position.x=3,G.position.y=110,G.position.z=5,g.add(G);var e=new S.o(2e3,100);e.position.y=-199,e.material.opacity=.25,e.material.transparent=!0,g.add(e);var t=new S.q(16777215,4473924);t.position.set(0,200,0),g.add(t);var a=new S.j(16777215);a.position.set(0,200,10),g.add(a);var n=new S.j(16777215);n.position.set(0,10,200),g.add(n),(p=new S.rb({antialias:!0})).setPixelRatio(window.devicePixelRatio),p.setSize(window.innerWidth,window.innerHeight),p.outputEncoding=S.sb,0==d.childNodes.length&&d.appendChild(p.domElement),p.setClearColor(0),(f=new j.a(h,p.domElement)).dynamicDampingFactor=.2,f.domElement=d,f.mouseButtons={LEFT:S.G.PAN,MIDDLE:S.G.ZOOM,RIGHT:S.G.ROTATE},f.keys=[18,17,91],window.addEventListener("resize",$),p.domElement.addEventListener("click",(function(){}),!1),o=new J(p,f,"selectBox"),document.addEventListener("pointerdown",Y),document.addEventListener("pointermove",Z),document.addEventListener("pointerup",_)}function Y(t){o.isShiftPressed&&(F=[],M=[],e.changeSelect({sit:F,back:M}),x=[t.clientX,t.clientY],a=U({particles:i,camera:h,position:{x:-10,y:110,z:5}}),r=K({particles:undefined,camera:h,position:{x:-10,y:110,z:5},width:40}),w=[a[0].x,a[0].y,a[1].x,a[1].y],C=[r[1].x,r[0].y,r[0].x,r[1].y])}function Z(t){if(o.isShiftPressed&&(y=[t.clientX,t.clientY],O=[].concat(Object(c.a)(x),Object(c.a)(y)),x[0]>y[0]?(O[0]=y[0],O[2]=x[0]):(O[0]=x[0],O[2]=y[0]),x[1]>y[1]?(O[1]=y[1],O[3]=x[1]):(O[1]=x[1],O[3]=y[1]),!We)){var a=L(O,w),n=L(O,C);a&&(F=T(w,a,q,X)),n&&(M=T(C,n,40,72)),e.changeSelect({sit:F,back:M})}}function _(e){o.isShiftPressed&&(x=[],y=[])}function $(){p.setSize(window.innerWidth,window.innerHeight),h.aspect=window.innerWidth/window.innerHeight,h.updateProjectionMatrix()}function ee(){Pe=requestAnimationFrame(ee);(new Date).getTime();!function(){l&&(l.position.x=48*E[0]/32-10,l.position.z=38.5*E[1]/32-19);l.visible=!_e;te(),We?(f.mouseButtons={LEFT:S.G.PAN,MIDDLE:S.G.ZOOM,RIGHT:S.G.ROTATE},f.keys=[18,17,91],f.update()):We||(f.keys=[],f.mouseButtons=[]);p.render(g,h)}()}function te(){Ze=Object(c.a)(Ye).map((function(e,t){return e-nt<0?0:e})),Ze.reduce((function(e,t){return e+t}),0)<rt&&(Ze=new Array(2048).fill(0)),B(Ze,D,He,Ge,2),V(k(D,64,128,4,4),R,72,136,et);for(var e=0,t=0,a=0;a<q;a++)for(var n=0;n<X;n++){var r=10*R[t];z[t]=z[t]+(r-z[t]+.5)/at,m[e]=a*H-6800,m[e+1]=z[t]/tt,m[e+2]=n*H-3600;var o=void 0;o=F&&!F.every((function(e){return 0==e}))?a>=F[0]&&a<F[1]&&n>=F[2]&&n<F[3]?Q(0,$e,z[t]):P(0,$e,z[t]):Q(0,$e,z[t]),v[e]=o[0]/255,v[e+1]=o[1]/255,v[e+2]=o[2]/255,e+=3,t++}i.geometry.attributes.position.needsUpdate=!0,i.geometry.attributes.color.needsUpdate=!0,u.setAttribute("position",new S.d(m,3)),u.setAttribute("color",new S.d(v,3))}function ae(e){var t=e.wsPointData;t}function ne(e){var t=e.valuej,a=e.valueg,n=e.value,r=e.valuel,o=e.valuef,i=e.valuelInit;t&&($e=t),a&&(et=a),n&&(tt=n),r&&(at=r),o&&(nt=o),i&&(rt=i)}function re(e){var t=e.wsPointData,a=e.arr;a&&(E=a),Ye=t}function oe(e){"number"===typeof e.x&&(G.rotation.x=-6*e.x/12),"number"===typeof e.z&&(G.rotation.z=6*e.z/12)}function ie(e){_e=e}function le(e){We=e,o.isShiftPressed=!e}function se(){h.position.z=300,h.position.y=200,h.position.x=0,h.rotation._x=0,h.rotation._y=0,h.rotation._z=0,G.rotation.x=-2*Math.PI/12,G.rotation.y=0,G.position.x=-15,G.position.y=150,G.position.z=230}function ce(e){"Shift"===e.key&&(f.mouseButtons=null,f.keys=null)}function ue(e){"Shift"===e.key&&(f.mouseButtons={LEFT:S.G.PAN,MIDDLE:S.G.ZOOM,RIGHT:S.G.ROTATE},f.keys=[18,17,91])}Object(n.useImperativeHandle)(t,(function(){return{backData:ae,sitData:re,changeDataFlag:N,sitValue:ne,sitRenew:te,changeGroupRotate:oe,reset:se,changeSelectFlag:le,changeCenterFlag:ie}}));return Object(n.useEffect)((function(){return W(),ee(),window.addEventListener("keydown",ce),window.addEventListener("keyup",ue),function(){cancelAnimationFrame(Pe),document.removeEventListener("pointerdown",Y),document.removeEventListener("pointermove",Z),document.removeEventListener("pointup",_),o.dispose()}}),[]),Object(A.jsx)("div",{children:Object(A.jsx)("div",{id:"canvas"})})}))),it=(a(152),a(48));a(153);var lt,st,ct=[{color:"#2A99FF",data:"\u8db3\u5f13\u5206\u7c7b"},{color:"#FF2A2A",data:"\u811a\u957f"}],ut=["footType","footLength"],dt=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this)).state={total:0,leftValue:0,rightValue:0,leftProp:0,rightProp:0,footType:"\u6b63\u5e38",footLength:0},n.initCanvasrotate=n.initCanvasrotate.bind(Object(it.a)(n)),n.initCanvasrotate1=n.initCanvasrotate1.bind(Object(it.a)(n)),n.changeState=n.changeState.bind(Object(it.a)(n)),n}return Object(d.a)(a,[{key:"initCanvasrotate",value:function(e){st.clearRect(0,0,lt.width,lt.height);var t=document.querySelector(".canvasContent").getBoundingClientRect().width,a=(t-40)/2;st.width=t;st.save(),st.translate(20+a,20+a),st.rotate(e*Math.PI),st.lineWidth="".concat(10),st.beginPath(),st.arc(0,0,a,13*Math.PI/24,35*Math.PI/24),st.strokeStyle="#991BFA",st.stroke(),st.lineWidth="".concat(10),st.beginPath(),st.arc(0,0,a,37*Math.PI/24,11*Math.PI/24),st.strokeStyle="#01F1E3",st.stroke(),st.lineWidth="".concat(5),st.beginPath(),st.arc(a*(0-Math.sin(1*Math.PI/24)),a*(0-Math.cos(1*Math.PI/24)),2.5,35*Math.PI/24,11*Math.PI/24),st.strokeStyle="#991BFA",st.stroke(),st.beginPath(),st.arc(a*(0+Math.sin(1*Math.PI/24)),a*(0-Math.cos(1*Math.PI/24)),2.5,13*Math.PI/24,37*Math.PI/24),st.strokeStyle="#01F1E3",st.stroke(),st.rotate(-e*Math.PI),st.clearRect(-a-10,0,260,260),st.beginPath(),st.lineWidth="".concat(5),st.arc(a,0,2.5,0,Math.PI),st.strokeStyle="#01F1E3",st.stroke(),st.beginPath(),st.arc(-a,0,2.5,0,Math.PI),st.strokeStyle="#991BFA",st.stroke()}},{key:"initCanvasrotate1",value:function(e){st.clearRect(0,0,lt.width,lt.height);var t=document.querySelector(".canvasContent").getBoundingClientRect().width,a=(t-40)/2;st.width=t;st.save(),st.translate(20+a,20+a),st.rotate(e*Math.PI),st.lineWidth="".concat(10),st.beginPath(),st.arc(0,0,a,13*Math.PI/24,35*Math.PI/24),st.strokeStyle="#991BFA",st.stroke(),st.lineWidth="".concat(10),st.beginPath(),st.arc(0,0,a,37*Math.PI/24,11*Math.PI/24),st.strokeStyle="#01F1E3",st.stroke(),st.lineWidth="".concat(5),st.beginPath(),st.arc(a*(0-Math.sin(1*Math.PI/24)),a*(0-Math.cos(1*Math.PI/24)),2.5,35*Math.PI/24,11*Math.PI/24),st.strokeStyle="#991BFA",st.stroke(),st.beginPath(),st.arc(a*(0+Math.sin(1*Math.PI/24)),a*(0-Math.cos(1*Math.PI/24)),2.5,13*Math.PI/24,37*Math.PI/24),st.strokeStyle="#01F1E3",st.stroke(),st.rotate(-e*Math.PI),st.clearRect(-a-10,0,260,260),st.beginPath(),st.lineWidth="".concat(5),st.arc(a,0,2.5,0,Math.PI),st.strokeStyle="#01F1E3",st.stroke(),st.beginPath(),st.arc(-a,0,2.5,0,Math.PI),st.strokeStyle="#991BFA",st.stroke(),st.translate(-(20+a),-(20+a))}},{key:"changeState",value:function(e){this.setState(e)}},{key:"componentDidMount",value:function(){lt=document.getElementById("time_graph_canvas"),st=lt.getContext("2d"),this.initCanvasrotate1(-1/3)}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.width,n=t.height,r=(t.canvaswidth,t.canvasheight);return Object(A.jsxs)("div",{style:{width:a,height:n,padding:10},children:[Object(A.jsxs)("div",{className:"canvasContent",children:[Object(A.jsx)("canvas",{id:"time_graph_canvas",height:r}),Object(A.jsxs)("div",{style:{position:"absolute",left:"50%",top:"70%",transform:"translate(-50% , -50%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(A.jsx)("div",{children:"Total Press"}),Object(A.jsx)("h2",{style:{color:"#fff"},children:this.state.total})]})]}),Object(A.jsxs)("div",{className:"customInfo",children:[Object(A.jsxs)("div",{className:"chartCircleContentCloumn",children:[Object(A.jsxs)("div",{className:"chartCircleContent",children:[Object(A.jsx)("div",{className:"chartCircle"}),Object(A.jsx)("div",{children:"left"})]}),Object(A.jsxs)("div",{children:[this.state.leftValue,"+",this.state.leftProp,"%"]})]}),Object(A.jsxs)("div",{className:"chartCircleContentCloumn",children:[Object(A.jsxs)("div",{className:"chartCircleContent",children:[Object(A.jsx)("div",{className:"chartCircleright"}),Object(A.jsx)("div",{children:"right"})]}),Object(A.jsxs)("div",{children:[this.state.rightValue,"+",this.state.rightProp,"%"]})]})]}),Object(A.jsx)("div",{children:ct.map((function(t,a){return Object(A.jsxs)("div",{className:"dataItem",children:[Object(A.jsxs)("div",{className:"dataItemCircle",children:[Object(A.jsx)("div",{className:"circleItem",style:{backgroundColor:t.color}}),Object(A.jsx)("div",{children:t.data})]}),Object(A.jsx)("div",{children:e.state[ut[a]]})]},t.eng)}))})]})}}]),a}(r.a.Component);dt.defaultProps={canvaswidth:200,canvasheight:130,x0:80,y0:80,r:72,lineWidth:16,strokeStyle:"rgba(248, 248, 248, 1)",LinearGradientColor1:"#3EECED",LinearGradientColor2:"#499BE6"};var ht,gt,pt=[{color:"#FFA63F",data:"\u70b9\u6570",eng:"Points"},{color:"#2A99FF",data:"\u9762\u79ef",eng:"Area"}],ft=[{color:"#2A99FF",data:"\u5e73\u5747\u538b\u529b",eng:"Mean Pres"},{color:"#FF2A2A",data:"\u6700\u5927\u538b\u529b",eng:"Max Pres"},{color:"#FFA63F",data:"\u70b9\u6570",eng:"Points"},{color:"#2A99FF",data:"\u9762\u79ef",eng:"Area"}],mt=[{color:"#2A99FF",data:"\u5e73\u5747\u538b\u529b",eng:"Mean Pres"},{color:"#FF2A2A",data:"\u6700\u5927\u538b\u529b",eng:"Max Pres"},{color:"#FF2A2A",data:"\u538b\u529b\u603b\u548c",eng:"Pressure"}],vt=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"render",value:function(){return console.log(this.props),Object(A.jsx)(A.Fragment,{children:this.props.children})}}]),a}(r.a.Component),At=["meanPres","maxPres","totalPres","presStan"],It=["point","area"],xt=["meanPres","maxPres","point","area"],yt=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={totalPres:0,meanPres:0,minPres:0,point:0,maxPres:0,area:0,pressure:0,presStan:0},e.canvas=r.a.createRef(),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=document.getElementById("myChart1");e&&(ht=e.getContext("2d"));var t=document.getElementById("myChart2");t&&(gt=t.getContext("2d"))}},{key:"componentDidUpdate",value:function(){var e=document.getElementById("myChart1");e&&(ht=e.getContext("2d"));var t=document.getElementById("myChart2");t&&(gt=t.getContext("2d"))}},{key:"drawChart",value:function(e){var t=e.ctx,a=e.arr,n=e.max,r=e.canvas,o=e.index,i=a.map((function(e){return 150*e/n}));t.clearRect(0,0,r.width,r.height);var l=r.width/(i.length+1);t.beginPath(),t.setLineDash([]),t.moveTo(l,r.height-i[0]);for(var s=1;s<i.length-2;s++){var c=(l*(s+1)+l*(s+2))/2,u=(r.height-i[s+1]+r.height-i[s+2])/2;t.quadraticCurveTo(l*(s+1),r.height-i[s+1],c,u)}t.quadraticCurveTo(l*(i.length-1),r.height-i[i.length-1],l*i.length,r.height-i[i.length-1]),t.strokeStyle="#991BFA",t.lineWidth=2,t.stroke(),null!=o&&(t.beginPath(),t.moveTo(l*o,r.height),t.lineTo(l*o,0),t.strokeStyle="#01F1E3",t.lineWidth=2,t.setLineDash([3,3]),t.stroke())}},{key:"componentWillUnmount",value:function(){}},{key:"handleCharts",value:function(e,t,a){var n=document.getElementById("myChart1");this.drawChart({ctx:ht,arr:e,max:t,canvas:n,index:a})}},{key:"handleChartsArea",value:function(e,t,a){var n=document.getElementById("myChart2");this.drawChart({ctx:gt,arr:e,max:t,canvas:n,index:a})}},{key:"initCharts",value:function(){var e=document.getElementById("myChart1");ht&&ht.clearRect(0,0,e.width,e.height);var t=document.getElementById("myChart2");gt&&gt.clearRect(0,0,t.width,t.height)}},{key:"changeData",value:function(e){this.setState(e)}},{key:"render",value:function(){var e=this;return Object(A.jsxs)("div",{className:"aside",children:[Object(A.jsx)("div",{className:"asideContent firstAside",children:"foot"!=this.props.matrixName?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h2",{className:"asideTitle",children:"Pressure Area"}),Object(A.jsx)("canvas",{id:"myChart1",style:{height:"150px",width:"100%"}}),Object(A.jsx)(A.Fragment,{children:pt.map((function(t,a){return Object(A.jsxs)("div",{className:"dataItem",children:[Object(A.jsxs)("div",{className:"dataItemCircle",children:[Object(A.jsx)("div",{className:"circleItem",style:{backgroundColor:t.color}}),Object(A.jsx)("div",{children:t.data})]}),Object(A.jsxs)("div",{className:"dataIteminfo",children:[Object(A.jsx)("div",{className:"standardColor",children:t.eng}),Object(A.jsx)("div",{children:e.state[It[a]]})]})]},t.eng)}))})," "]}):Object(A.jsxs)(vt,{children:[" ",Object(A.jsx)(dt,{ref:this.canvas})]})}),Object(A.jsxs)("div",{className:"asideContent",children:[Object(A.jsx)("h2",{className:"asideTitle",children:"Pressure Data"}),Object(A.jsx)("h1",{className:"pressData",children:this.state.pressure}),"foot"!=this.props.matrixName?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"pressTitle standardColor",children:"\u603b\u4f53\u538b\u529b Total Pres"}),Object(A.jsx)("canvas",{id:"myChart2",style:{height:"150px",width:"100%"}}),mt.map((function(t,a){return Object(A.jsxs)("div",{className:"dataItem",children:[Object(A.jsxs)("div",{className:"dataItemCircle",children:[Object(A.jsx)("div",{className:"circleItem",style:{backgroundColor:t.color}}),Object(A.jsx)("div",{children:t.data})]}),Object(A.jsxs)("div",{className:"dataIteminfo",children:[Object(A.jsx)("div",{className:"standardColor",children:t.eng}),Object(A.jsx)("div",{children:e.state[At[a]]})]})]},t.eng)}))]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"pressTitle standardColor",children:"\u603b\u4f53\u9762\u79ef Total Area"}),Object(A.jsx)("canvas",{id:"myChart2",style:{height:"150px",width:"100%"}}),ft.map((function(t,a){return Object(A.jsxs)("div",{className:"dataItem",children:[Object(A.jsxs)("div",{className:"dataItemCircle",children:[Object(A.jsx)("div",{className:"circleItem",style:{backgroundColor:t.color}}),Object(A.jsx)("div",{children:t.data})]}),Object(A.jsxs)("div",{className:"dataIteminfo",children:[Object(A.jsx)("div",{className:"standardColor",children:t.eng}),Object(A.jsx)("div",{children:e.state[xt[a]]})]})]},t.eng)}))]})]})]})}}]),a}(r.a.Component);function wt(e){var t=e.wsPointData,a=e.pressFlag,n=e.pressNumFlag,r=t.splice(0,32),o=t.splice(0,480);t=r.concat(t,o);for(var i=[],l=0;l<32;l++)for(var s=0;s<1;s++)i[32*l+s]=t[32*l+s];for(var u=0;u<32;u++)for(var d=16;d<32;d++)i[32*u+d]=t[32*u+d-15];for(var h=0;h<32;h++)for(var g=1;g<16;g++)i[32*h+g]=t[32*h+16+g];for(var p=function(e,t,a){for(var n=Object(c.a)(e).map((function(e){return e<10?0:e})),r=[],o=[],i=0;i<a;i++){for(var l=0,s=0,u=0;u<t;u++)l+=n[i*t+u],s+=n[i+a*u];r.push(l),o.push(s)}var d=jt(r);return[jt(o),d]}(t=function(e){for(var t=Object(c.a)(e),a=[],n=[],r=0;r<32;r++){for(var o=0,i=0,l=0;l<32;l++)o+=t[32*l+r],i+=t[32*r+l];a.push(o),n.push(i)}for(var s=1;s<31;s++)if(n[s+1]>100&&n[s]<40&&n[s-1]>100)for(var u=0;u<32;u++)t[32*s+u]=(t[32*(s-1)+u]+t[32*(s+1)+u])/2;for(var d=0;d<32;d++)if(a[d+1]>100&&a[d]<40&&a[d-1]>100)for(var h=1;h<31;h++)t[32*h+d]=(t[32*(h-1)+d]+t[32*(h+1)+d])/2;return t}(t=i),32,32),f=[],m=[],v=0;v<32;v++){for(var A=0,I=0,x=0;x<32;x++)A+=t[32*x+v],I+=t[32*v+x];f.push(A),m.push(I)}a&&(t=bt(t)),n&&(t=St(t));for(var y=[],w=[],S=0;S<32;S++)for(var b=0;b<32;b++)b<16?y.push(t[32*S+b]):w.push(t[32*S+b]);return{sitData:y,backData:w,arr:p,realData:t}}function St(e){var t=1.0572246920183572*Math.pow(10,-10),a=-5.855702965038056*Math.pow(10,-8),n=1.0252295732636971*Math.pow(10,-5);return e.map((function(e,r){return t*Math.pow(e,5)+a*Math.pow(e,4)+n*Math.pow(e,3)+.00023350459149557124*Math.pow(e,2)+-.01396799876544018*e+0}))}function bt(e){for(var t=Object(c.a)(e),a=[],n=0;n<32;n++){for(var r=0,o=0;o<32;o++)r+=t[32*o+n];a.push(r)}for(var i=0;i<32;i++)for(var l=0;l<32;l++)t[32*l+i]=parseInt(t[32*l+i]/(1245-a[i]==0?1:1245-a[i])*1e3);return t}function jt(e){for(var t=function(e){for(var t=[],a=-1,n=0;n<e.length;n++)0!==e[n]?-1===a&&(a=n):-1!==a&&(t.push(e.slice(a,n)),a=-1);-1!==a&&t.push(e.slice(a));return t}(e),a=function(e){for(var t=[],a=-1,n=0;n<e.length;n++)0!==e[n]?-1===a&&(a=n):-1!==a&&(t.push({start:a,end:n-1}),a=-1);-1!==a&&t.push({start:a,end:e.length-1});return t}(e),n=[{value:1,index:0}],r=0;r<t.length;r++){var o=t[r].reduce((function(e,t){return e+t}),0),i=Ct(t[r],a[r].start,a[r].end);n.push({value:o,index:i})}return n.push({value:1,index:31}),function(e){var t,a=e;for(;a.length>1;){for(var n=[],r=0;r<a.length-1;r++){var o=a[r].value-(a[r].value-a[r+1].value)*a[r+1].value/(a[r].value+a[r+1].value),i=a[r].index+Math.abs(a[r].index-a[r+1].index)*a[r+1].value/(a[r].value+a[r+1].value);n.push({value:o,index:i})}a=n}return null===(t=a[0])||void 0===t?void 0:t.index}(n)}function Ct(e,t,a){if(t===a)return t;for(var n,r,o=e.reduce((function(e,t){return e+t}),0),i=0,l=0,s=t;s<a;){if(!((i+=e[s])<o/2)){n=s;break}s++}for(var c=a-1;c>=t;){if(!((l+=e[c])<o/2)){r=c;break}c--}return parseInt((r+n)/2)?parseInt((r+n)/2):1}var Ot,Et,Ft,Bt,kt,Vt,Qt=a(164),Mt=a(166),Pt=a(167),Nt=a(1),Dt=(a(154),localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200),Jt=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,Rt=(localStorage.getItem("carValue")&&JSON.parse(localStorage.getItem("carValue")),localStorage.getItem("carValuel")&&JSON.parse(localStorage.getItem("carValuel")),localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2),Ut=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,Kt=r.a.forwardRef((function(e,t){var a=Object(n.useState)(new Array(32).fill(new Array(32).fill(0))),r=Object(R.a)(a,2),o=r[0],i=r[1],l=Object(n.useState)(1),s=Object(R.a)(l,2),u=s[0],d=s[1],h=function(e){console.log(e.length,Rt);var t=Object(c.a)(e),a=[],n=Object(c.a)(t).map((function(e,t){return e-Rt<0?0:e}));n.reduce((function(e,t){return e+t}),0)<Ut&&(n=new Array(1024).fill(1)),function(e,t,a,n,r){var o=function(e,t){var a=Math.sqrt(12*e*e/t+1),n=Math.floor(a);n%2==0&&n--;for(var r=n+2,o=(12*e*e-t*n*n-4*t*n-3*t)/(-4*n-4),i=Math.round(o),l=[],s=0;s<t;s++)l.push(s<i?n:r);return l}(r,3);m(e,t,a,n,(o[0]-1)/2),m(t,e,a,n,(o[1]-1)/2),m(e,t,a,n,(o[2]-1)/2)}(n,a,32,32,Jt),e=a;for(var r=[],o=0;o<32;o++){r[o]=[];for(var l=0;l<32;l++)r[o].push(e[32*o+l])}i(r)},g=function(e){console.log(e);var t=e.valuej,a=e.valueg,n=e.value,r=e.valuel,o=e.valuef,i=e.valuelInit;t&&(Dt=t),a&&(Jt=a),n&&n,r&&r,o&&(Rt=o),i&&(Ut=i)},p=function(){};function f(e,t,a){var n,r,o,i;n=1,r=1,o=1,a<e&&(a=e),a>t&&(a=t),a<e+.25*(i=t-e)?(n=0,r=4*(a-e)/i):a<e+.5*i?(n=0,o=1+4*(e+.25*i-a)/i):a<e+.75*i?(n=4*(a-e-.5*i)/i,o=0):(r=1+4*(e+.75*i-a)/i,o=0);var l=new Array;return l[0]=parseInt(255*n),l[1]=parseInt(255*r),l[2]=parseInt(255*o),l}function m(e,t,a,n,r){for(var o=0;o<n;o++)for(var i=0;i<a;i++){for(var l=0,s=o-r;s<o+r+1;s++)for(var c=i-r;c<i+r+1;c++){var u=Math.min(a-1,Math.max(0,c));l+=e[Math.min(n-1,Math.max(0,s))*a+u]}t[o*a+i]=l/((r+r+1)*(r+r+1))}}return Object(n.useImperativeHandle)(t,(function(){return{changeWsData:h,drawContent:p,sitValue:g}})),Object(n.useEffect)((function(){var e=document.documentElement.clientWidth;d(e/1920)}),[]),Object(A.jsx)("div",{style:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",backgroundColor:"#000"},children:Object(A.jsx)("div",{className:"threeBoxF",style:{color:"blue",transformStyle:"preserve-3d",perspective:"500px"},children:Object(A.jsx)("div",{className:"threeBox",style:{transform:"rotateX(35deg)"},children:o.map((function(e,t){return Object(A.jsx)("div",{style:{display:"flex"},children:e&&e.length?e.map((function(e,t){return Object(A.jsx)("div",{style:Object(Nt.a)({width:"2rem",color:"blue",fontSize:"".concat(20*u*.8,"px"),lineHeight:"1.5rem",transform:"translateY(".concat(3*-e,"px)")},"color","rgb(".concat(f(0,Dt,5*e),")")),children:parseInt(e)},t)})):null},t)}))})})})})),Lt=[],Tt={min:0,max:localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,size:13},zt=!0,qt=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,Xt=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,Ht=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,Gt=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,Wt=32,Yt=new Array(4096).fill(1),Zt=new Array(5184).fill(1),_t=(new Array(5184).fill(1),new Array(5184).fill(1)),$t=r.a.forwardRef((function(e,t){function a(e,t){var a=document.createElement("canvas");return a.width=e,a.height=t,a}function r(e,t){var n=function(e){var t=e/2,n=e+t,r=1e4,o=new a(2*n,2*n),i=o.getContext("2d");return zt&&(i.shadowBlur=t),i.shadowColor="black",i.shadowOffsetX=i.shadowOffsetY=r,i.beginPath(),i.arc(n-r,n-r,e,0,2*Math.PI,!0),i.closePath(),i.fill(),o}(Tt.size),r=n.width/2,i=n.height/2,l={};for(var c in t.forEach((function(e,t){var a=Math.min(1,e.value/Tt.max).toFixed(2);l[a]=l[a]||[],l[a].push(e)})),l)if(!isNaN(c)){var u=l[c];e.beginPath(),e.globalAlpha=c,u.forEach((function(t){e.drawImage(n,t.x-r,t.y-i)}))}var d=new s,h=e.getImageData(0,0,e.canvas.width,e.canvas.height);!function(e,t){var a=Tt.max,n=Tt.min,r=a-n,i=Tt.range||null,l=0,s=1024;i&&2===i.length&&(l=(i[0]-n)/r*1024);i&&2===i.length&&(s=(i[1]-n)/r*1024);for(var c,u=Tt.maxOpacity||1,d=(i=Tt.range,3),h=e.length;d<h;d+=4){c=4*e[d],e[d]/256>u&&(e[d]=256*u);o();c&&c>=l&&c<=s?(e[d-3]=t[c],e[d-2]=t[c+1],e[d-1]=t[c+2]):e[d]=0,e[d]=256}}(h.data,d.getImageData()),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillStyle="#666",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.putImageData(h,0,0)}function o(e,t,a){var n,r,o,i;n=1,r=1,o=1,a<e&&(a=e),a>t&&(a=t),a<e+.25*(i=t-e)?(n=0,r=4*(a-e)/i):a<e+.5*i?(n=0,o=1+4*(e+.25*i-a)/i):a<e+.75*i?(n=4*(a-e-.5*i)/i,o=0):(r=1+4*(e+.75*i-a)/i,o=0);var l=new Array;return l[0]=255*n,l[1]=255*r,l[2]=255*o,l[3]=1,l}function i(e){!function(e){var t=Object(c.a)(e).map((function(e,t){return e>Xt?e:0}));F(t.reduce((function(e,t){return e+t}),0)<Ht?new Array(1024).fill(0):t,Yt,Wt,2),V(k(Yt,64,64,4,4),Zt,72,72,qt);for(var a=0,n=0;a<72;a++)for(var r=0;r<72;r++){var o=10*Zt[n];_t[n]=_t[n]+(o-_t[n]+.5)/Gt;var i={};i.x=a*Ot.width/72,i.y=r*Ot.height/72,i.value=_t[72*a+r],Lt.push(i),n++}Lt=[];for(var l=0;l<72;l++)for(var s=0;s<72;s++){var u={};u.x=l*Ot.width/72,u.y=s*Ot.height/72,u.value=Zt[72*l+s],Lt.push(u)}}(e);var t=Ot.getContext("2d");t.clearRect(0,0,Ot.width,Ot.height),zt=!0,r(t,Lt),zt=!1}function l(e){var t=e.valuej,a=e.valueg,n=(e.value,e.valuel),r=e.valuef,o=e.valuelInit;t&&(Tt.max=t),a&&(qt=a),n&&(Gt=n),r&&(Xt=r),o&&(Ht=o)}function s(e){e=e||{},this.gradient=e.gradient||{0:"rgba(0, 0, 0, 1)",.05:"rgba(0, 0, 0, 1)",.25:"rgba(0, 0, 255, 1)",.5:"rgba(0, 255, 0, 1)",.75:"rgba(255, 255, 0, 1)",.95:"rgba(255, 0, 0, 1)",1:"rgba(255, 0, 0, 1)"},this.maxSize=e.maxSize||35,this.minSize=e.minSize||0,this.max=e.max||100,this.min=e.min||0,this.initPalette()}window.onload=function(){},s.prototype.setMax=function(e){this.max=e||100},s.prototype.setMin=function(e){this.min=e||0},s.prototype.setMaxSize=function(e){this.maxSize=e||35},s.prototype.setMinSize=function(e){this.minSize=e||0},s.prototype.initPalette=function(){var e=this.gradient,t=new a(256,1),n=this.paletteCtx=t.getContext("2d",{willReadFrequently:!0}),r=n.createLinearGradient(0,0,256,1);for(var o in e)r.addColorStop(parseFloat(o),e[o]);n.fillStyle=r,n.fillRect(0,0,256,1)},s.prototype.getImageData=function(e){var t=this.paletteCtx.getImageData(0,0,256,1).data;if(void 0===e)return t;var a=this.max,n=this.min;e>a&&(e=a),e<n&&(e=n);var r=Math.floor((e-n)/(a-n)*255);return[t[r],t[r+1],t[r+2],t[r+3]]},s.prototype.getSize=function(e){var t=this.max,a=this.min,n=this.maxSize,r=this.minSize;return e>t&&(e=t),e<a&&(e=a),r+(e-a)/(t-a)*(n-r)},s.prototype.getLegend=function(e){var t=this.gradient,n=e.width||20,r=e.height||180,o=new a(n,r),i=o.getContext("2d"),l=i.createLinearGradient(0,r,0,0);for(var s in t)l.addColorStop(parseFloat(s),t[s]);return i.fillStyle=l,i.fillRect(0,0,n,r),o};return Object(n.useImperativeHandle)(t,(function(){return{bthClickHandle:i,sitValue:l}})),Object(n.useEffect)((function(){(Ot=document.getElementById("heatmapcanvas")).width=window.innerHeight/2,Ot.height=window.innerHeight/2,Ot.getContext("2d")}),[]),Object(A.jsx)("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(A.jsx)("canvas",{id:"heatmapcanvas"})})})),ea=0,ta=0,aa=new Array(4).fill(0),na=new Array(4).fill(0),ra=0,oa=0,ia=0,la=0,sa=0,ca=0,ua=0,da=0,ha=0,ga=0,pa=0,fa=0,ma=(r.a.Component,function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.matrixName!=e.matrixName}},{key:"render",value:function(){return console.log(this.props),Object(A.jsx)(A.Fragment,{children:this.props.children})}}]),a}(r.a.Component)),va=(r.a.Component,[]),Aa=[],Ia=0,xa=!1,ya=0,wa=0,Sa=0,ba=0,ja=0,Ca=0,Oa=[16,16],Ea=0,Fa=0,Ba=0,ka=0,Va=0,Qa=0,Ma=0,Pa=0,Na=0,Da=300,Ja=Object(A.jsx)("div",{children:Object(A.jsx)("p",{children:"\u7ed5x\u8f74\u65cb\u8f6c30\xb0"})}),Ra=Object(A.jsx)("div",{children:Object(A.jsx)("p",{children:"\u7ed5y\u8f74\u65cb\u8f6c30\xb0"})}),Ua=Object(A.jsx)("div",{children:Object(A.jsx)("p",{children:"\u6846\u9009\u4e00\u4e2a\u77e9\u5f62\u533a\u57df"})}),Ka=Object(A.jsx)("div",{children:Object(A.jsx)("p",{children:"\u5237\u65b0\u8f68\u8ff9\u56fe"})}),La=Object(A.jsx)("div",{children:Object(A.jsx)("p",{children:"\u4e0b\u8f7d\u8f68\u8ff9\u56fe"})}),Ta=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).wsSendObj=function(e){Et&&1===Et.readyState&&Et.send(JSON.stringify(e))},e.playData=function(t){Et&&1===Et.readyState&&(Et.send(JSON.stringify({play:t})),e.setState({playflag:t}))},e.changeMatrix=function(t){console.log(t),e.setState({matrixName:t}),t},e.changeLocal=function(t){e.setState({local:t}),Et&&1===Et.readyState&&(t?Et.send(JSON.stringify({local:!0})):Et.send(JSON.stringify({local:!1})))},e.changeValue=function(e){return e<4?0:e>=68?31:Math.round((e-4)/2-1)},e.changeFootValue=function(e){return e<4?0:e>=36?15:Math.round((e-4)/2-1)},e.changeSelect=function(t,a){var n=t.sit,r=t.back,o=n.length?n.map((function(t,a){return"foot"===e.state.matrixName&&(0==a||1==a)?e.changeFootValue(t):e.changeValue(t)})):new Array(4).fill(0),i=r.length?r.map((function(t,a){return"foot"===e.state.matrixName&&(0==a||1==a)?e.changeFootValue(t):e.changeValue(t)})):new Array(4).fill(0);aa=o,na=i},e.changeStateData=function(t){e.setState(t)},e.setColValueFlag=function(e){xa=e},e.state={valueg1:localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,valuej1:localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,valuel1:localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,valuef1:localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,value1:localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,valuelInit1:localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,port:[{value:" ",label:" "}],portname:"",portnameBack:"",matrixName:"car",length:0,local:!1,dataArr:[],index:0,playflag:!1,selectFlag:!1,colFlag:!0,colNum:0,history:"now",numMatrixFlag:"normal",centerFlag:!1,carState:"all",leftFlag:!1,rightFlag:!1,lineFlag:!1,pressNum:!1,press:!1,dataTime:""},e.com=r.a.createRef(),e.data=r.a.createRef(),e.title=r.a.createRef(),e.line=r.a.createRef(),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(console.log(window.innerWidth,document.documentElement.style),document.documentElement.style.fontSize="".concat(window.innerWidth/120,"px"),document.getElementById("myCanvasTrack")){var t=document.getElementById("myCanvasTrack");Bt=t.getContext("2d");var a=document.getElementById("myCanvasCircle");kt=a.getContext("2d"),Da=t.getBoundingClientRect().width,console.log(Bt.width,Bt.height),this.canvasInit1(Bt,Da)}(Et=new WebSocket(" ws://127.0.0.1:19999")).onopen=function(){console.info("connect success")},Et.onmessage=function(t){0;var a=JSON.parse(t.data);if(!1,null!=a.sitData){var n,r;if(xa)Ia++,null===(n=e.title.current)||void 0===n||n.changeNum(Ia);else Ia=0;var o,i=a.sitData;if(Array.isArray(i)||(i=JSON.parse(i)),"foot"==e.state.matrixName){var l,s,u,d,h=wt({wsPointData:i,pressFlag:e.state.press,pressNumFlag:e.state.pressNum}),g=h.sitData,p=h.backData,f=h.arr,m=h.realData;f[0]=f[0]?f[0]:0,f[1]=f[1]?f[1]:0;for(var v=0;v<Oa.length;v++)Oa[v]=Oa[v]+(f[v]-Oa[v])/4;r=[];for(var A=aa[2];A<=aa[3];A++)for(var I=aa[0];I<=aa[1];I++)r.push(g[16*A+I]);for(var x=na[2];x<=na[3];x++)for(var y=na[0];y<=na[1];y++)r.push(p[16*x+y]);var w=(d=aa.every((function(e){return 0==e}))&&na.every((function(e){return 0==e}))?Object(c.a)(m):Object(c.a)(r)).reduce((function(e,t){return e+t}),0),S=d.filter((function(e){return e>10})).length,b=parseInt(w/(S||1)),j=N(d),C=4*S,O=1e3*j/(C||1);ya=parseInt(ya+(b-ya)/10),wa=parseInt(wa+(j-wa)/10),Sa=parseInt(Sa+(S-Sa)/10),ba=parseInt(ba+(C-ba)/10),ja=parseInt(ja+(w-ja)/10),Ca=parseInt(Ca+(O-Ca)/10);var E,F=g.reduce((function(e,t){return e+t}),0),B=p.reduce((function(e,t){return e+t}),0),k=parseInt(100*F/(F+B)),V=100-k,Q=Object(c.a)(g).slice(0,256).reduce((function(e,t){return e+t}),0),M=parseInt(100*Q/F),P=Object(c.a)(p).slice(0,256).reduce((function(e,t){return e+t}),0),J=parseInt(100*P/B),R=d.reduce((function(e,t){return e+t}),0);if(Ea=parseInt(Ea+(R-Ea)/10),Ba=parseInt(Ba+(k-Ba)/10),Fa=parseInt(Fa+(F-Fa)/10),ka=parseInt(ka+(B-ka)/10),Qa=parseInt(Qa+(M-Qa)/10),Ma=parseInt(Ma+(J-Ma)/10),Va=100-Ba,Pa=100-Qa,Na=100-Ma,S<10&&aa.every((function(e){return 0==e}))&&na.every((function(e){return 0==e}))&&(ya=0,wa=0,Sa=0,ba=0,ja=0,Ca=0,Ea=0,Fa=0,ka=0,Ba=0,Va=0,Qa=0,Pa=0,Ma=0,Na=0,Oa=[16,16],k=50,V=50,S=0),"num"==e.state.numMatrixFlag)null===(E=e.com.current)||void 0===E||E.changeWsData(m);else if("normal"==e.state.numMatrixFlag){var U,K,L;null===(U=e.com.current)||void 0===U||U.backData({wsPointData:p}),null===(K=e.com.current)||void 0===K||K.sitData({wsPointData:g,arr:Oa}),null===(L=e.com.current)||void 0===L||L.changeDataFlag()}else{var T;null===(T=e.com.current)||void 0===T||T.bthClickHandle(m)}if(null===(l=e.data.current)||void 0===l||l.changeData({meanPres:ya,maxPres:wa,point:Sa,area:ba,totalPres:ja,pressure:Ca}),null===(s=e.data.current)||void 0===s||s.canvas.current.initCanvasrotate1((V-50)/100),null===(u=e.data.current)||void 0===u||u.canvas.current.changeState({total:Ea,leftValue:Fa,rightValue:ka,leftProp:Ba,rightProp:Va}),e.state.centerFlag&&(Bt.strokeStyle="#01F1E3",Bt.lineTo(Oa[0]*Da/32,Oa[1]*Da/32),Bt.stroke(),kt.clearRect(0,0,Da,Da),kt.beginPath(),kt.fillStyle="#991BFA",kt.arc(Oa[0]*Da/32,Oa[1]*Da/32,5,0,2*Math.PI),kt.fill(),e.canvasText2(kt,Da,window.innerWidth)),va.length<20||va.shift(),va.push(w),!e.state.local){var z;Aa.length<20||Aa.shift(),Aa.push(S);var q=N(Aa);null===(z=e.data.current)||void 0===z||z.handleChartsArea(Aa,q+100)}}else if("hand"==e.state.matrixName){if(e.state.press&&(i=bt(i)),e.state.pressNum&&(i=St(i)),"normal"==e.state.numMatrixFlag){var X;null===(X=e.com.current)||void 0===X||X.sitData({wsPointData:i});for(var H=[],G=[],W=0;W<32;W++)for(var Y=0;Y<32;Y++)Y<16?H.push(i[32*W+Y]):G.push(i[32*W+Y]);var Z=function(e,t,a){for(var n=[],r=0;r<a;r++){for(var o=0,i=0;i<t;i++)e[16*r+i]>15&&o++;n[r]=o}for(var l=0,s=0,c=0;c<a;c++)if(n[c]>1){l=c;break}for(var u=31;u>=0;u--)if(n[u]>1){s=u;break}return s-l}(H,16,32);console.log(Z)}}else if("car"==e.state.matrixName){var _;if(e.state.press&&(i=bt(i)),e.state.pressNum&&(i=St(i)),"sit"==e.state.carState&&"num"==e.state.numMatrixFlag)null===(_=e.com.current)||void 0===_||_.changeWsData(i);else if("sit"==e.state.carState&&"heatmap"==e.state.numMatrixFlag){var $;null===($=e.com.current)||void 0===$||$.bthClickHandle(i)}else{var ee;if("normal"==e.state.numMatrixFlag)null===(ee=e.com.current)||void 0===ee||ee.sitData({wsPointData:i})}r=[];for(var te=aa[0];te<aa[1];te++)for(var ae=aa[2];ae<aa[3];ae++)r.push(i[32*te+ae])}else if("bigBed"==e.state.matrixName){var ne;null===(ne=e.com.current)||void 0===ne||ne.sitData({wsPointData:i})}o=aa.every((function(e){return 0==e}))&&na.every((function(e){return 0==e}))?Object(c.a)(i):Object(c.a)(r),pa=o.filter((function(t){return t>.02*e.state.valuej1})).length,ua=o.reduce((function(e,t){return e+t}),0),da=parseInt(ua/(pa||1)),ha=N(o),ga=D(o.filter((function(e){return e>10}))),fa=4*pa,pa<80&&aa.every((function(e){return 0==e}))&&na.every((function(e){return 0==e}))&&(da=0,ha=0,ua=0,pa=0,fa=0)}if(null!=a.port){var re=[];a.port.forEach((function(e,t){re.push({value:e.path,label:e.path})})),e.setState({port:re})}if(null!=a.length&&e.setState({length:a.length}),null!=a.time&&e.setState({time:a.time}),null!=a.timeArr){var oe=a.timeArr.map((function(e,t){return e.date})),ie=[];oe.forEach((function(e,t){ie.push({value:e,label:e})})),e.setState({dataArr:ie})}if(null!=a.index&&a.index<=e.state.length){var le,se,ce=document.querySelector(".progressLine"),ue=20+560*a.index/(e.state.length?e.state.length:1),de=(document.querySelector(".progress").getBoundingClientRect().x,parseInt(document.querySelector(".leftProgress").style.left)),he=parseInt(document.querySelector(".rightProgress").style.left);if(ce.style.left="".concat(20+560*a.index/(e.state.length?e.state.length:1),"px"),document.querySelector(".progressLine").style.left="".concat(e.moveValue(ue<de+20?de+20:ue>he?he:ue),"px"),e.setState({index:a.index}),e.areaArr)null===(le=e.data.current)||void 0===le||le.handleChartsArea(e.areaArr,e.max+100,a.index),a.index==e.areaArr.length&&(e.wsSendObj({play:!1}),e.setState({playflag:!1}));if(e.pressArr&&"car"==e.state.matrixName)null===(se=e.data.current)||void 0===se||se.handleCharts(e.pressArr,e.pressMax+100,a.index)}if(null!=a.areaArr){var ge,pe=N(a.areaArr);null===(ge=e.data.current)||void 0===ge||ge.handleChartsArea(a.areaArr,pe+100),e.max=pe,e.areaArr=a.areaArr}if(null!=a.pressArr){var fe,me=N(a.pressArr);if("car"==e.state.matrixName)null===(fe=e.data.current)||void 0===fe||fe.handleCharts(a.pressArr,me+100),e.pressMax=me,e.pressArr=a.pressArr}null!=a.download&&Qt.a.info(a.download)},Et.onerror=function(e){},Et.onclose=function(e){},(Ft=new WebSocket(" ws://127.0.0.1:19998")).onopen=function(){console.info("connect success")},Ft.onmessage=function(t){var a=JSON.parse(t.data);if(null!=a.backData&&"car"==e.state.matrixName){var n,r,o;0;var i,l=a.backData;if(Array.isArray(l)||(l=JSON.parse(l)),e.state.press&&(l=bt(l)),e.state.pressNum&&(l=St(l)),"back"==e.state.carState&&"num"==e.state.numMatrixFlag)l=function(e,t,a){for(var n=[],r=0;r<t;r++){n[r]=[];for(var o=0;o<a;o++)n[r].push(e[r*t+o])}for(var i=[],l=n.length,s=0;s<l;s++)for(var c=0;c<l;c++){var u=l-1-c;i[u]||(i[u]=[]),i[u][s]=n[s][c]}for(var d=[],h=0;h<i.length;h++)d=d.concat(i[h]);return d}(l,32,32),null===(i=e.com.current)||void 0===i||i.changeWsData(l);else if("back"==e.state.carState&&"heatmap"==e.state.numMatrixFlag){var s;l=function(e,t,a){for(var n=[],r=0;r<t;r++){n[r]=[];for(var o=0;o<a;o++)n[r].push(e[r*a+o])}for(var i=[],l=n.length,s=0;s<l;s++)for(var c=0;c<l;c++){var u=l-1-s;i[u]||(i[u]=[]),i[u][l-1-c]=n[s][c]}for(var d=[],h=0;h<i.length;h++)d=d.concat(i[h]);return d}(l,32,32),null===(s=e.com.current)||void 0===s||s.bthClickHandle(l)}else{var u;"normal"==e.state.numMatrixFlag&&(null===(u=e.com.current)||void 0===u||u.backData({wsPointData:l}))}for(var d,h=[],g=na[0];g<na[1];g++)for(var p=31-na[3];p<31-na[2];p++)h.push(l[32*g+p]);d=aa.every((function(e){return 0==e}))&&na.every((function(e){return 0==e}))?Object(c.a)(l):[].concat(h),ra=d.reduce((function(e,t){return e+t}),0),sa=d.filter((function(e){return e>10})).length,oa=parseInt(ra/(sa||1)),ia=N(d),la=D(d.filter((function(e){return e>10}))),ca=4*sa,sa<80&&aa.every((function(e){return 0==e}))&&na.every((function(e){return 0==e}))&&(oa=0,ia=0,ra=0,sa=0,ca=0);var f=ra+ua,m=((oa+da)/2).toFixed(0);0==oa&&(m=da),0==da&&(m=oa);var v=Math.max(ia,ha),A=sa+pa,I=ca+fa,x=(Math.min(la,ga),1e3*ha/(fa||1));ya=parseInt(ya+(m-ya)/10)?parseInt(ya+(m-ya)/10):1,wa=parseInt(wa+(v-wa)/10)?parseInt(wa+(v-wa)/10):1,Sa=parseInt(Sa+(A-Sa)/10)?parseInt(Sa+(A-Sa)/10):1,ba=parseInt(ba+(I-ba)/10)?parseInt(ba+(I-ba)/10):1,ja=parseInt(ja+(f-ja)/10)?parseInt(ja+(f-ja)/10):1,Ca=parseInt(Ca+(x-Ca)/10)?parseInt(Ca+(x-Ca)/10):1,pa<100&&(Ca=0),null===(n=e.data.current)||void 0===n||n.changeData({meanPres:ya,maxPres:wa,point:Sa,area:ba,totalPres:ja,pressure:Ca}),va.length<20||va.shift(),va.push(f);var y=N(va);"car"!=e.state.matrixName||e.state.local||null===(r=e.data.current)||void 0===r||r.handleCharts(va,y+1e3),Aa.length<20||Aa.shift(),Aa.push(A);var w=N(Aa);"car"!=e.state.matrixName||e.state.local||null===(o=e.data.current)||void 0===o||o.handleChartsArea(Aa,w+100)}},Ft.onerror=function(e){},Ft.onclose=function(e){},window.addEventListener("mousemove",this.changeLeftProgress.bind(this)),window.addEventListener("mouseup",this.changeLeftProgressFalse.bind(this))}},{key:"canvasText1",value:function(e,t,a){e.clearRect(260,110,35,35),e.fillStyle="#333",e.fillRect(260,110,35,35),e.font="20px Arial",e.fillStyle="#fff",e.fillText(Ma,265,140),e.clearRect(260,155,35,35),e.fillStyle="#333",e.fillRect(260,155,35,35),e.font="20px Arial",e.fillStyle="#fff",e.fillText(Na,265,175),e.clearRect(5,110,35,35),e.fillStyle="#333",e.fillRect(5,110,35,35),e.font="20px Arial",e.fillStyle="#fff",e.fillText(Qa,5,140),e.clearRect(5,155,35,35),e.fillStyle="#333",e.fillRect(5,155,35,35),e.font="20px Arial",e.fillStyle="#fff",e.fillText(Pa,5,175),e.clearRect(110,260,35,35),e.fillStyle="#333",e.fillRect(110,260,36,36),e.font="20px Arial",e.fillStyle="#fff",e.fillText(Ba,Ba<10?135:120,290),e.clearRect(155,260,35,35),e.fillStyle="#333",e.fillRect(155,260,35,35),e.font="20px Arial",e.fillStyle="#fff",e.fillText(Va,155,290)}},{key:"canvasText2",value:function(e,t,a){e.font="".concat(a/100,"px Arial"),e.fillStyle="#fff",e.fillText(Ma,265*t/300,140*t/300),e.font="".concat(a/100,"px Arial"),e.fillStyle="#fff",e.fillText(Na,265*t/300,175*t/300),e.font="".concat(a/100,"px Arial"),e.fillStyle="#fff",e.fillText(Qa,5*t/300,140*t/300),e.font="".concat(a/100,"px Arial"),e.fillStyle="#fff",e.fillText(Pa,5*t/300,175*t/300),e.font="".concat(a/100,"px Arial"),e.fillStyle="#fff",e.fillText(Ba,Ba<10?135*t/300:120*t/300,290*t/300),e.font="".concat(a/100,"px Arial"),e.fillStyle="#fff",e.fillText(Va,155*t/300,290*t/300)}},{key:"canvasInit1",value:function(e,t){e.clearRect(0,0,t,t),e.beginPath(),e.fillStyle="#191932",e.fillRect(1,1,t-1,t-1),e.beginPath(),e.strokeStyle="#5A5A89";for(var a=0;a<9;a++)e.moveTo(1,30*(a+1)*t/300),e.lineTo(t-1,30*(a+1)*t/300);for(var n=0;n<9;n++)e.moveTo(30*(n+1)*t/300,1),e.lineTo(30*(n+1)*t/300,t-1);e.stroke(),e.beginPath(),e.moveTo(1*t/300,150*t/300),e.lineTo(299*t/300,150*t/300),e.moveTo(150*t/300,1*t/300),e.lineTo(150*t/300,299*t/300),e.stroke(),e.strokeStyle="#01F1E3",e.moveTo(150*t/300,150*t/300)}},{key:"canvasInit",value:function(){this.canvasInit1(Bt,Da),kt&&kt.clearRect(0,0,Da,Da)}},{key:"componentDidUpdate",value:function(e,t,a){if(this.state.matrixName!=t.matrixName&&document.getElementById("myCanvasTrack")){var n=document.getElementById("myCanvasTrack");Bt=n.getContext("2d");var r=document.getElementById("myCanvasCircle");kt=r.getContext("2d"),Da=n.getBoundingClientRect().width,console.log(Bt.width,Bt.height),this.canvasInit1(Bt,Da)}}},{key:"saveCanvasAsImage",value:function(){Bt.beginPath(),Bt.fillStyle="#991BFA",Bt.arc(300*Oa[0]/32,300*Oa[1]/32,5,0,2*Math.PI),Bt.fill();var e=document.getElementById("myCanvasTrack").toDataURL("image/png"),t=document.createElement("a");t.href=e,t.download="canvas_image.png",t.click()}},{key:"moveValue",value:function(e){return e<0?0:e>580?580:e}},{key:"thrott",value:function(e){var t=this;this.timer||(this.timer=setTimeout((function(){e(),t.timer=null}),100))}},{key:"changePxToValue",value:function(e,t){return"line"===t?Math.floor((e-20)/560*(this.state.length-1)):Math.floor(e/580*(this.state.length-1))}},{key:"changeLeftProgress",value:function(e){var t=this;if(this.state.leftFlag){var a=document.querySelector(".progress").getBoundingClientRect().x,n=parseInt(document.querySelector(".rightProgress").style.left),r=(e.clientX,this.moveValue(e.clientX-a-10));document.querySelector(".leftProgress").style.left="".concat(r>n-20?n-20:r,"px");var o=parseInt(document.querySelector(".leftProgress").style.left);if(parseInt(document.querySelector(".progressLine").style.left)<e.clientX-a+10){document.querySelector(".progressLine").style.left="".concat(this.moveValue(o+20),"px");var i=this.changePxToValue(o,"line");this.thrott((function(){t.wsSendObj({value:i})}))}var l=[this.changePxToValue(o),this.changePxToValue(n)];this.thrott((function(){t.wsSendObj({indexArr:l})}))}if(this.state.rightFlag){var s=document.querySelector(".progress").getBoundingClientRect().x,c=parseInt(document.querySelector(".leftProgress").style.left),u=(e.clientX,this.moveValue(e.clientX-s-10));document.querySelector(".rightProgress").style.left="".concat(u<c+20?c+20:u,"px");var d=parseInt(document.querySelector(".rightProgress").style.left);if(parseInt(document.querySelector(".progressLine").style.left)>e.clientX-s-10){document.querySelector(".progressLine").style.left="".concat(this.moveValue(d),"px");var h=this.changePxToValue(d,"line");this.thrott((function(){t.wsSendObj({value:h})}))}var g=[this.changePxToValue(c),this.changePxToValue(d)];this.thrott((function(){t.wsSendObj({indexArr:g})}))}if(this.state.lineFlag){var p=document.querySelector(".progress").getBoundingClientRect().x,f=(e.clientX,parseInt(document.querySelector(".leftProgress").style.left)),m=parseInt(document.querySelector(".rightProgress").style.left);document.querySelector(".progressLine").style.left="".concat(this.moveValue(e.clientX-p<f+20?f+20:e.clientX-p>m?m:e.clientX-p),"px");var v,A,I=parseInt(document.querySelector(".progressLine").style.left),x=this.changePxToValue(I,"line");if(this.thrott((function(){t.wsSendObj({value:x})})),this.areaArr)null===(v=this.data.current)||void 0===v||v.handleChartsArea(this.areaArr,this.max+100,x+1);if(this.pressArr&&"car"==this.state.matrixName)null===(A=this.data.current)||void 0===A||A.handleCharts(this.pressArr,this.pressMax+100,x+1)}}},{key:"changeLeftProgressFalse",value:function(){this.setState({leftFlag:!1,rightFlag:!1,lineFlag:!1})}},{key:"changeCenterFlag",value:function(){}},{key:"render",value:function(){var e=this;return Object(A.jsxs)("div",{className:"home",children:[Object(A.jsxs)("div",{className:"setIcons",children:[Object(A.jsxs)("div",{className:"setIconItem setIconItem1",children:[Object(A.jsx)(Mt.a,{placement:"top",title:"\u65cb\u8f6c",content:Ja,children:Object(A.jsx)("div",{className:"setIcon marginB10",onClick:function(){var t,a,n,r;++ea<3?e.com.current&&e.com.current.changeGroupRotate&&(null===(t=e.com.current)||void 0===t||t.changeGroupRotate({x:ea})):(ea=0,e.com.current&&e.com.current.changeGroupRotate&&(null===(a=e.com.current)||void 0===a||a.changeGroupRotate({x:ea})));ea<3?e.com.current&&e.com.current.changePointRotation&&(null===(n=e.com.current)||void 0===n||n.changePointRotation({direction:"x",value:ea,type:e.state.carState})):(ea=0,e.com.current&&e.com.current.changePointRotation&&(null===(r=e.com.current)||void 0===r||r.changePointRotation({direction:"x",value:ea,type:e.state.carState})))},children:Object(A.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAAqSURBVCiRY2DAAaKiOv9HRXX+xyXPhEuCEBgJGhnxhRxNbMQJRuORAo0AADALRByhkEYAAAAASUVORK5CYII=",alt:""})})}),Object(A.jsx)(Mt.a,{placement:"top",title:"\u65cb\u8f6c",content:Ra,children:Object(A.jsx)("div",{className:"setIcon",onClick:function(){var t,a,n,r;++ta<3?e.com.current&&e.com.current.changeGroupRotate&&(null===(t=e.com.current)||void 0===t||t.changeGroupRotate({z:ta})):(ta=0,e.com.current&&e.com.current.changeGroupRotate&&(null===(a=e.com.current)||void 0===a||a.changeGroupRotate({z:ta})));ta<3?e.com.current&&e.com.current.changePointRotation&&(null===(n=e.com.current)||void 0===n||n.changePointRotation({direction:"z",value:ta,type:e.state.carState})):(ta=0,e.com.current&&e.com.current.changePointRotation&&(null===(r=e.com.current)||void 0===r||r.changePointRotation({direction:"z",value:ta,type:e.state.carState})))},children:Object(A.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAACCAYAAABoiu2qAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAAXSURBVAiZY4yK6vzPQAZgIkcTAwMDAwD5aQJANAgxoQAAAABJRU5ErkJggg==",alt:""})})})]}),"foot"==this.state.matrixName?Object(A.jsx)(Mt.a,{placement:"top",title:"\u5237\u65b0",content:Ka,children:Object(A.jsx)("div",{className:"setIconItem setIconItem2",children:Object(A.jsx)("div",{className:"setIcon",children:Object(A.jsx)("img",{src:"data:image/png;base64,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",alt:"",onClick:function(){e.canvasInit1(Bt,Da)}})})})}):null,Object(A.jsxs)("div",{className:"setIconItem setIconItem2",children:["foot"==this.state.matrixName?Object(A.jsx)(Mt.a,{placement:"top",title:"\u4e0b\u8f7d",content:La,children:Object(A.jsx)("div",{className:"setIcon marginB10",onClick:function(){e.canvasText2(Bt,Da,window.innerWidth),e.saveCanvasAsImage(),e.canvasInit1(Bt,Da)},children:Object(A.jsx)("img",{src:"data:image/png;base64,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",alt:""})})}):null,Object(A.jsx)(Mt.a,{placement:"top",title:"\u6846\u9009",content:Ua,children:Object(A.jsx)("div",{className:"setIcon",onClick:function(){var t,a=e.state.selectFlag;e.setState({selectFlag:!a}),null===(t=e.com.current)||void 0===t||t.changeSelectFlag(a)},children:Object(A.jsx)(Pt.a,{style:{color:this.state.selectFlag?"#fff":"#4c4671",fontSize:"20px"},color:this.state.selectFlag?"#fff":"#4c4671"})})})]})]}),Object(A.jsx)("div",{style:{position:"fixed",display:"flex",flexDirection:"column",right:"3%",height:"55%",bottom:"6%",boxSizing:"border-box"},children:O.slice(0,O.length-7).map((function(t,a){return Object(A.jsxs)("div",{style:{display:"flex",height:"".concat(100/O.slice(0,O.length-7).length,"%"),alignItems:"center",padding:"3px",boxSizing:"border-box"},children:[Object(A.jsxs)("div",{style:{display:"flex",alignItems:"center",flex:1,padding:"0px 10px"},children:[Object(A.jsxs)("div",{className:"switch",style:{color:"#ccc",textAlign:"left"},children:[(e.state.valuej1/100*(O.length-1-a)/O.length).toFixed(2),"N/cm^2"]}),Object(A.jsx)("div",{className:"switchLevels"})]}),Object(A.jsx)("div",{style:{width:50,height:"100%",backgroundColor:"rgb(".concat(t,")")}})]},"".concat(O[t]).concat(a))}))}),Object(A.jsx)(w,{valueg1:this.state.valueg1,value1:this.state.value1,valuef1:this.state.valuef1,valuel1:this.state.valuel1,valuej1:this.state.valuej1,valuelInit1:this.state.valuelInit1,ref:this.title,com:this.com,port:this.state.port,portname:this.state.portname,portnameBack:this.state.portnameBack,local:this.state.local,dataArr:this.state.dataArr,matrixName:this.state.matrixName,history:this.state.history,wsSendObj:this.wsSendObj,changeMatrix:this.changeMatrix,changeLocal:this.changeLocal,colFlag:this.state.colFlag,changeStateData:this.changeStateData,setColValueFlag:this.setColValueFlag,canvasInit:this.canvasInit.bind(this),numMatrixFlag:this.state.numMatrixFlag,centerFlag:this.state.centerFlag,data:this.data,dataTime:this.state.dataTime}),Object(A.jsx)(ma,{matrixName:this.state.matrixName,children:Object(A.jsx)(yt,{ref:this.data,matrixName:this.state.matrixName})}),"num"!=this.state.numMatrixFlag||"foot"!=this.state.matrixName&&"hand"!=this.state.matrixName&&"back"!=this.state.carState&&"sit"!=this.state.carState?"heatmap"!=this.state.numMatrixFlag||"foot"!=this.state.matrixName&&"hand"!=this.state.matrixName&&"back"!=this.state.carState&&"sit"!=this.state.carState?"foot"==this.state.matrixName?Object(A.jsxs)(ma,{matrixName:this.state.matrixName,children:[Object(A.jsx)(ge,{ref:this.com,changeSelect:this.changeSelect})," "]}):"hand"==this.state.matrixName?Object(A.jsx)(ma,{matrixName:this.state.matrixName,children:Object(A.jsx)(Xe,{ref:this.com})}):"car"==this.state.matrixName?Object(A.jsx)(ma,{matrixName:this.state.matrixName,children:Object(A.jsx)(q,{ref:this.com,changeSelect:this.changeSelect})}):Object(A.jsx)(ot,{ref:this.com}):Object(A.jsx)($t,{ref:this.com}):Object(A.jsx)(Kt,{ref:this.com}),this.state.local?Object(A.jsxs)("div",{style:{position:"fixed",bottom:15,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(A.jsxs)("div",{style:{width:600,display:"flex",justifyContent:"center",flexDirection:"column",position:"relative",border:"1px #01F1E3 solid",borderRadius:"8px",overflow:"hidden",height:"30px"},className:"progress",onClick:function(t){var a,n,r=document.querySelector(".progress").getBoundingClientRect().x,o=parseInt(document.querySelector(".leftProgress").style.left),i=parseInt(document.querySelector(".rightProgress").style.left);document.querySelector(".progressLine").style.left="".concat(e.moveValue(t.clientX-r<o+20?o+20:t.clientX-r>i?i:t.clientX-r),"px");var l=parseInt(document.querySelector(".progressLine").style.left),s=e.changePxToValue(l,"line");e.wsSendObj({value:s}),e.areaArr&&(null===(a=e.data.current)||void 0===a||a.handleChartsArea(e.areaArr,e.max+100,s+1)),e.pressArr&&"car"==e.state.matrixName&&(null===(n=e.data.current)||void 0===n||n.handleCharts(e.pressArr,e.pressMax+100,s+1))},children:[Object(A.jsx)("div",{style:{border:this.state.leftFlag?"1px solid #991BFA":"0px",position:"absolute",left:0,width:20,height:"30px",backgroundColor:"#01F1E3",display:"flex",alignItems:"center",justifyContent:"center"},className:"leftProgress",onMouseDown:function(t){t.stopPropagation(),e.setState({leftFlag:!0})},onClick:function(e){e.stopPropagation()}}),Object(A.jsx)("div",{style:{border:this.state.rightFlag?"1px solid #991BFA":"0px",position:"absolute",left:580,width:20,height:"30px",backgroundColor:"#01F1E3"},className:"rightProgress",onMouseDown:function(t){e.setState({rightFlag:!0})},onClick:function(e){e.stopPropagation()}}),Object(A.jsx)("div",{ref:this.line,className:"progressLine",onMouseDown:function(t){e.setState({lineFlag:!0})},style:{position:"absolute",left:20,height:36,width:2,transform:"translate('-50%')",backgroundColor:"#991BFA"}})]}),Object(A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(A.jsx)("img",{src:"data:image/png;base64,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",style:{width:"50px",display:this.state.playflag?"none":"unset"},onClick:function(){e.state.dataTime?e.playData(!0):Qt.a.info("\u8bf7\u5148\u9009\u62e9\u56de\u653e\u6570\u636e\u65f6\u95f4\u6bb5")},alt:""}),Object(A.jsx)("img",{src:"data:image/png;base64,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",style:{width:"50px",display:this.state.playflag?"unset":"none"},onClick:function(){e.playData(!1)},alt:""}),Object(A.jsx)("div",{style:{position:"absolute",right:"40%"},children:Object(A.jsx)(p.a,{defaultValue:"1.0X",style:{width:80},onChange:function(t){e.wsSendObj({speed:t})},placement:"topLeft",options:[{value:.25,label:"0.25X"},{value:.5,label:"0.5X"},{value:1,label:"1.0X"},{value:1.5,label:"1.5X"},{value:2,label:"2.0X"}]})})]})]}):null,"foot"==this.state.matrixName?Object(A.jsxs)(ma,{matrixName:this.state.matrixName,children:[Object(A.jsx)("canvas",{id:"myCanvasTrack",width:15*window.innerWidth/100,height:15*window.innerWidth/100,style:{position:"fixed",top:"6%",right:"calc(3% + 48px)",borderRadius:"10px"}}),Object(A.jsx)("canvas",{id:"myCanvasCircle",width:15*window.innerWidth/100,height:15*window.innerWidth/100,style:{position:"fixed",top:"6%",right:"calc(3% + 48px)",borderRadius:"10px"}})]}):null,Object(A.jsxs)("div",{style:{position:"fixed",bottom:"20px",color:"#fff"},children:[Object(A.jsx)("div",{style:{border:"1px solid #01F1E3"},onClick:function(){var t=e.state.press;e.setState({press:!t})},children:this.state.press?"\u5206\u538b":"\u4e0d\u5206\u538b"}),Object(A.jsx)("div",{style:{border:"1px solid #01F1E3"},onClick:function(){var t=e.state.pressNum;e.setState({pressNum:!t})},children:this.state.pressNum?"\u538b\u529b\u7b97\u6cd5":"\u4e0d\u538b\u529b\u7b97\u6cd5"})]})]})}}]),a}(r.a.Component);function za(){var e=Object(n.useState)([]),t=Object(R.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(0),i=Object(R.a)(o,2),l=i[0],s=i[1],c=Object(n.useState)(0),u=Object(R.a)(c,2),d=u[0],h=u[1];return Object(n.useEffect)((function(){(Vt=new WebSocket(" ws://localhost:19999")).onopen=function(){console.info("connect success")},Vt.onmessage=function(e){var t=JSON.parse(e.data);if(null!=t.sitData){var a=t.sitData,n=(a=a.map((function(e){return e<10?0:e}))).splice(0,32),o=a.splice(0,480);a=n.concat(a,o);for(var i=[],l=0;l<32;l++)for(var c=0;c<1;c++)i[32*l+c]=a[32*l+c];for(var u=0;u<32;u++)for(var d=16;d<32;d++)i[32*u+d]=a[32*u+d-15];for(var g=0;g<32;g++)for(var p=1;p<16;p++)i[32*g+p]=a[32*g+16+p];a=i;for(var f=[],m=[],v=0;v<32;v++){for(var A=0,I=0,x=0;x<32;x++)A+=a[32*x+v],I+=a[32*v+x];f.push(A),m.push(I)}var y=N(a),w=f[a.indexOf(y)%32];s(y),h(w);for(var S=[],b=0;b<32;b++){S[b]=[];for(var j=0;j<32;j++)S[b][j]=a[32*b+j]}r(S)}},Vt.onerror=function(e){},Vt.onclose=function(e){}}),[]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{children:a.map((function(e,t){return Object(A.jsx)("div",{style:{display:"flex"},children:e.map((function(e,t){return Object(A.jsx)("div",{style:{width:"30px"},children:e})}))})}))}),Object(A.jsx)("div",{style:{fontSize:"30px"},children:l}),Object(A.jsx)("div",{style:{fontSize:"30px"},children:d})]})}var qa=function(){return Object(A.jsx)(l.a,{children:Object(A.jsxs)(s.c,{children:[Object(A.jsx)(s.a,{exact:!0,path:"/",element:Object(A.jsx)(Ta,{})}),Object(A.jsx)(s.a,{exact:!0,path:"/heatmap",element:Object(A.jsx)($t,{})}),Object(A.jsx)(s.a,{exact:!0,path:"/num",element:Object(A.jsx)(za,{})})]})})},Xa=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,168)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),o(e),i(e)}))};i.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(qa,{})}),document.getElementById("root")),Xa()}},[[155,1,2]]]);