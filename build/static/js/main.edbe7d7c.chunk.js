(this.webpackJsonpbodyweb=this.webpackJsonpbodyweb||[]).push([[0],{140:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},169:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(47),i=a.n(o),l=(a(157),a(158),a(148)),c=a(19),s=a(1),u=a(11),h=a(42),d=a(6),g=a(10),p=a(12),m=a(13),f=a(182),v=a(181),x=a(150),b=a(183),A=(a(159),a(64)),S=a(108),y=a(3),I=(JSON.parse(localStorage.getItem("collection"))&&JSON.parse(localStorage.getItem("collection")),[{label:"\u5b9e\u65f6",key:"now"},{label:"\u56de\u653e",key:"playback"}]),w=[{label:"\u6574\u4f53",key:"all"},{label:"\u9760\u80cc",key:"back"},{label:"\u5ea7\u6905",key:"sit"}],j=[{label:"\u811a\u578b\u68c0\u6d4b",value:"foot"},{label:"\u624b\u90e8\u68c0\u6d4b",value:"hand"},{label:"\u6c7d\u8f66\u5ea7\u6905",value:"car"},{label:"\u5e8a\u57ab",value:"bigBed"},{label:"\u6c7d\u8f66\u9760\u80cc(\u91cf\u4ea7)",value:"car10"},{label:"\u672c\u5730\u81ea\u9002\u5e94",value:"localCar"},{label:"\u5e2d\u60a6\u5ea7\u6905",value:"sit10"}],O=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).onClick=function(t){var a,r,n;(console.log("click ",t.key),null===(a=e.props.data.current)||void 0===a||a.changeData({meanPres:0,maxPres:0,point:0,area:0,totalPres:0,pressure:0}),"foot"===e.props.matrixName)&&(null===(n=e.props.track.current)||void 0===n||n.canvasInit());null===(r=e.props.data.current)||void 0===r||r.initCharts(),"now"===t.key?(e.props.wsSendObj({local:!1,history:!1}),e.props.changeStateData({history:"now",local:!1})):"playback"===t.key?(e.props.wsSendObj({local:!0,history:!1}),e.props.changeStateData({history:"playback",index:0,local:!0})):(e.props.changeStateData({history:"history",index:0,local:!0}),""!=e.state.dataTime?e.props.wsSendObj({local:!0,history:!0}):e.props.wsSendObj({local:!0})),e.setState({current:t.key})},e.onCarClick=function(t){var a;if(e.state.clickState)if("sit"===t.key)e.setState({carCurrent:"sit",clickState:!1}),"normal"==e.props.numMatrixFlag&&(null===(a=e.props.com.current)||void 0===a||a.actionSit()),e.props.changeStateData({carState:"sit"});else if("back"===t.key){var r;e.setState({carCurrent:"back",clickState:!1}),"normal"==e.props.numMatrixFlag&&(null===(r=e.props.com.current)||void 0===r||r.actionBack()),e.props.changeStateData({carState:"back"})}else{var n;e.setState({carCurrent:"all",clickState:!1}),"normal"==e.props.numMatrixFlag&&(null===(n=e.props.com.current)||void 0===n||n.actionAll()),e.props.changeStateData({carState:"all"}),e.props.changeStateData({numMatrixFlag:"normal"})}setTimeout((function(){e.setState({clickState:!0})}),1e3)},e.changeNum=function(t){e.setState({num:t})},e.state={current:"now",carCurrent:"all",show:!1,num:0,dataTime:"",clickState:!0,colName:"",csvData:JSON.parse(localStorage.getItem("collection"))?JSON.parse(localStorage.getItem("collection")):[["hunch","front","\u6807\u7b7e"]],length:JSON.parse(localStorage.getItem("collection"))?JSON.parse(localStorage.getItem("collection")).length:1,ip:localStorage.getItem("ip")?localStorage.getItem("ip"):"",dataName:""},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"title",children:[Object(y.jsx)("h2",{children:"bodyta"}),Object(y.jsxs)("div",{className:"titleItems",children:[Object(y.jsx)(f.a,{placeholder:"\u8bf7\u9009\u62e9\u5bf9\u5e94\u4f20\u611f\u5668",onChange:function(t){console.log(t),e.props.wsSendObj({file:t}),e.props.changeMatrix(t),"bigBed"===t&&e.props.initBigCtx()},options:j}),Object(y.jsx)(v.a,{className:"menu",onClick:this.onClick,selectedKeys:[this.state.current],mode:"horizontal",items:I}),"localCar"!=this.props.matrixName?"now"===this.props.history?"car"!=this.props.matrixName&&"car10"!=this.props.matrixName?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.a,{style:{marginRight:20,width:160},placeholder:"\u8bf7\u9009\u62e9\u4e32\u53e3",value:this.props.portname?this.props.portname:null,onDropdownVisibleChange:function(){e.props.wsSendObj({serialReset:!0})},onSelect:function(t){e.props.wsSendObj({sitPort:t}),e.props.changeStateData({portname:t})},options:this.props.port})," ",Object(y.jsx)("div",{})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.a,{style:{marginRight:20,width:160},placeholder:"\u8bf7\u9009\u62e9\u5ea7\u6905\u4e32\u53e3",value:this.props.portname?"".concat(this.props.portname,"(\u5ea7\u6905)"):null,onDropdownVisibleChange:function(){e.props.wsSendObj({serialReset:!0})},onSelect:function(t){console.log(t),e.props.wsSendObj({sitPort:t}),e.props.changeStateData({portname:t})},options:this.props.port}),Object(y.jsx)("img",{src:"data:image/png;base64,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",onClick:function(){e.props.portname&&e.props.portnameBack&&(e.props.changeStateData({portname:e.props.portnameBack}),e.props.changeStateData({portnameBack:e.props.portname}),e.props.wsSendObj({exchange:!0}))},style:{height:"30px",marginRight:20},alt:""}),Object(y.jsx)(f.a,{placeholder:"\u8bf7\u9009\u62e9\u9760\u80cc\u4e32\u53e3",style:{width:160},value:this.props.portnameBack?"".concat(this.props.portnameBack,"(\u9760\u80cc)"):null,onDropdownVisibleChange:function(t){console.log(t),e.props.wsSendObj({serialReset:!0})},onSelect:function(t){console.log(t),e.props.wsSendObj({backPort:t}),e.props.changeStateData({portnameBack:t})},options:this.props.port})]}):Object(y.jsx)(f.a,{placeholder:"\u8bf7\u9009\u62e9\u56de\u653e\u6570\u636e\u65f6\u95f4",style:{marginRight:20},onChange:function(t){var a;"foot"===e.props.matrixName&&(null===(a=e.props.track.current)||void 0===a||a.canvasInit());console.log(t),e.props.changeStateData({dataTime:t}),e.setState({dataTime:t}),e.props.wsSendObj({getTime:t,index:0}),"history"===e.props.history?e.props.wsSendObj({getTime:t,index:0,history:!0}):e.props.wsSendObj({getTime:t,index:0})},value:this.state.dataTime?this.state.dataTime:null,options:this.props.dataArr}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(A.a,{value:this.state.ip,onChange:function(t){localStorage.setItem("ip",t.target.value),e.setState({ip:t.target.value})},placeholder:"\u8bf7\u8f93\u5165IP"}),Object(y.jsx)(x.a,{onClick:function(){e.props.changeWs(e.state.ip)},children:"\u8fde\u63a5"})]}),"car"==this.props.matrixName||"car10"==this.props.matrixName||"localCar"==this.props.matrixName?Object(y.jsx)(v.a,{className:"menu",onClick:this.onCarClick,selectedKeys:[this.state.carCurrent],mode:"horizontal",items:w}):null,this.props.local?Object(y.jsxs)(y.Fragment,{children:[" ",Object(y.jsx)(x.a,{className:"titleButton",onClick:function(){e.props.wsSendObj({download:e.state.dataTime})},children:"\u4e0b\u8f7d"}),Object(y.jsx)(x.a,{className:"titleButton",onClick:function(){e.props.wsSendObj({delete:e.state.dataTime})},children:"\u5220\u9664"})]}):Object(y.jsxs)(y.Fragment,{children:["car"==this.props.matrixName?Object(y.jsx)(A.a,{placeholder:"\u8f93\u5165\u91c7\u96c6\u6587\u4ef6\u540d\u79f0",onChange:function(t){e.setState({colName:t.target.value})}}):null,"localCar"==this.props.matrixName?Object(y.jsx)(A.a,{placeholder:"\u8f93\u5165\u91c7\u96c6\u6807\u7b7e",onChange:function(t){e.props.changeStateData({dataName:t.target.value})}}):null,Object(y.jsxs)(x.a,{className:"titleButton",onClick:function(){if("localCar"!==e.props.matrixName){var t=e.props.colFlag,a=Date.now();t?e.state.colName?e.props.wsSendObj({flag:!0,colName:e.state.colName+" "+a}):e.props.wsSendObj({flag:!0,time:a}):e.props.wsSendObj({flag:t}),e.props.changeStateData({colFlag:!t}),e.props.setColValueFlag(t)}else{var r=e.props.colWebFlag;console.log(r),e.props.changeStateData({colWebFlag:!r})}},children:[this.props.colFlag?"\u91c7\u96c6":"\u505c\u6b62","localCar"==this.props.matrixName?this.props.length-1:this.state.num]}),"localCar"==this.props.matrixName?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(x.a,{onClick:function(){e.props.colPushData()},className:"titleButton",children:"\u5355\u6b21\u91c7\u96c6"}),Object(y.jsxs)(x.a,{className:"titleButton",children:[Object(y.jsx)(S.CSVLink,{filename:"".concat((new Date).getTime(),".csv"),data:this.props.csvData,style:{color:"#5A5A89",textDecoration:"none"},children:"\u4e0b\u8f7d"})," "]})," "]}):null,"localCar"==this.props.matrixName?Object(y.jsx)(x.a,{className:"titleButton",onClick:function(){e.props.delPushData()},children:"\u5220\u9664"}):null]}),"car"===this.props.matrixName&&this.props.local?Object(y.jsx)(x.a,{className:"titleButton",onClick:function(){e.props.wsSendObj({variety:!0})},children:"\u538b\u529b\u53d8\u5316"}):null,"bigBed"===this.props.matrixName?Object(y.jsx)(x.a,{className:"titleButton",onClick:function(){var t=e.props.pressChart;e.props.changeStateData({pressChart:!t}),e.props.initBigCtx()},children:"\u538b\u529b\u66f2\u7ebf"}):null,"bigBed"===this.props.matrixName?Object(y.jsx)(x.a,{className:"titleButton",onClick:function(){e.props.com.current&&e.props.com.current.logData()},children:"\u6253\u5370\u66f2\u7ebf"}):null,"car10"!=this.props.matrixName?Object(y.jsx)(x.a,{className:"titleButton",onClick:function(){"normal"==e.props.numMatrixFlag?e.props.changeStateData({numMatrixFlag:"num"}):"num"==e.props.numMatrixFlag?e.props.changeStateData({numMatrixFlag:"heatmap"}):e.props.changeStateData({numMatrixFlag:"normal"})},children:"normal"==this.props.numMatrixFlag?"\u77e9\u9635":"num"==this.props.numMatrixFlag?"2D":"\u70ed\u529b\u56fe"}):Object(y.jsx)(x.a,{className:"titleButton",onClick:function(){var t,a=!e.props.pointFlag;e.props.changeStateData({pointFlag:a}),null===(t=e.props.com.current)||void 0===t||t.changeRect(a)},children:this.props.pointFlag?"\u77e9\u5f62":"\u70b9\u56fe"}),"foot"==this.props.matrixName?Object(y.jsx)(x.a,{className:"titleButton",onClick:function(){var t,a,r=e.props.centerFlag;(e.props.changeStateData({centerFlag:!r}),console.log(e.props.com.current),null===(t=e.props.com.current)||void 0===t||t.changeCenterFlag(r),r)&&(null===(a=e.props.track.current)||void 0===a||a.canvasInit())},children:this.props.centerFlag?"\u9690\u85cf":"\u91cd\u5fc3"}):null]}),Object(y.jsxs)("div",{style:{position:"relative"},children:[Object(y.jsx)("img",{onClick:function(){var t=e.state.show;e.setState({show:!t})},className:"optionImg",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAACjSURBVDiN7ZSxDcMwDAT/k0WygHZQ4yW0SMoopbdI5SlcxDNoIKaJC0uUQAE2nCLXEKAIAv96kFAIYXyI0JPiAcRpuj+1OY2rtgxAJHH7trxzA1KaF8tChjBK5S1m1cSlZ9gC88YqOWubfSw8TGlenBsAwIvwTeLV8ym7U0huYYlTIbm1DIY4tWJTI2Z1w/GxqWGNk9nD0+KkSv5fmy5+/9p8APi9YOuuAu/dAAAAAElFTkSuQmCC",alt:""}),this.state.show?Object(y.jsx)("div",{className:"slideContent",style:{position:"absolute",width:"300px",padding:"20px",backgroundColor:"rgba(21,18,42,0.8)",borderRadius:"20px",right:0,zIndex:100},children:Object(y.jsxs)("div",{className:"flexcenter",style:{flex:1,flexDirection:"column"},children:[Object(y.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(y.jsx)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:"\u6da6\u6ed1"}),Object(y.jsx)(b.a,{min:.1,max:8,onChange:function(t){localStorage.setItem("carValueg",t),e.props.changeStateData({valueg1:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({valueg:t}),e.props.com.current.backValue&&e.props.com.current.backValue({valueg:t}))},value:this.props.valueg1,step:.1,style:{width:"200px"}})]}),Object(y.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(y.jsx)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:"\u989c\u8272"}),Object(y.jsx)(b.a,{min:5,max:5e3,onChange:function(t){localStorage.setItem("carValuej",t),e.props.changeStateData({valuej1:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({valuej:t}),e.props.com.current.backValue&&e.props.com.current.backValue({valuej:t}))},value:this.props.valuej1,step:10,style:{width:"200px"}})]}),Object(y.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(y.jsxs)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:["\u8fc7\u6ee4\u503c"," "]}),Object(y.jsx)(b.a,{min:0,max:500,onChange:function(t){localStorage.setItem("carValuef",t),e.props.changeStateData({valuef1:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({valuef:t}),e.props.com.current.backValue&&e.props.com.current.backValue({valuef:t}))},value:this.props.valuef1,step:2,style:{width:"200px"}})]}),Object(y.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(y.jsx)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:"\u9ad8\u5ea6"}),Object(y.jsx)(b.a,{min:.1,max:15,onChange:function(t){localStorage.setItem("carValue",t),e.props.changeStateData({value1:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({value:t}),e.props.com.current.backValue&&e.props.com.current.backValue({value:t}))},value:this.props.value1,step:.02,style:{width:"200px"}})]}),Object(y.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(y.jsxs)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:["\u6570\u636e\u8fde\u8d2f\u6027"," "]}),Object(y.jsx)(b.a,{min:1,max:20,onChange:function(t){localStorage.setItem("carValuel",t),e.props.changeStateData({valuel1:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({valuel:t}),e.props.com.current.backValue&&e.props.com.current.backValue({valuel:t}))},value:this.props.valuel1,step:1,style:{width:"200px"}})]}),Object(y.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(y.jsxs)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:["\u521d\u59cb\u503c"," "]}),Object(y.jsx)(b.a,{min:1,max:1e4,onChange:function(t){localStorage.setItem("carValueInit",t),e.props.changeStateData({valuelInit1:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({valuelInit:t}),e.props.com.current.backValue&&e.props.com.current.backValue({valuelInit:t}))},value:this.props.valuelInit1,step:500,style:{width:"200px"}})]}),"car"!=this.props.matrixName?Object(y.jsxs)(y.Fragment,{children:[" ",Object(y.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(y.jsx)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:"yMax"}),Object(y.jsx)(b.a,{min:1,max:1e3,onChange:function(t){localStorage.setItem("ymax",t),e.props.changeStateData({ymax:t}),e.props.com.current&&(e.props.com.current.sitValue&&e.props.com.current.sitValue({ymax:t}),e.props.com.current.backValue&&e.props.com.current.backValue({ymax:t}))},value:this.props.ymax,step:10,style:{width:"200px"}})]}),Object(y.jsxs)("div",{className:"progerssSlide",style:{display:"flex",alignItems:"center"},children:[Object(y.jsx)("div",{style:{color:"#468493",minWidth:"80px",textAlign:"left"},children:"\u538b\u5f3a\u500d\u6570"}),Object(y.jsx)(b.a,{min:.5,max:3,onChange:function(t){localStorage.setItem("valueMult",t),e.props.changeStateData({valueMult:t}),e.props.data.current&&e.props.data.current.changePressMult(t)},value:this.props.valueMult,step:.1,style:{width:"200px"}})]})," "]}):null]})}):Object(y.jsx)("div",{})]})]})}}]),a}(n.a.Component),C=(a(169),a(2)),E=a(58),B=a(59),k=a(82),F=([[255,255,0],[204,255,0],[153,255,0],[102,255,0],[51,255,0],[0,255,0],[0,255,51],[0,255,102],[0,255,153],[0,255,204]].concat(Object(u.a)(new Array(3).fill([0,255,255])),Object(u.a)(new Array(3).fill([0,204,255])),Object(u.a)(new Array(3).fill([0,153,255])),Object(u.a)(new Array(3).fill([0,102,255])),[[255,255,255],[255,255,255]],Object(u.a)(new Array(5).fill([255,255,255]))),[[255,0,0],[255,69,0],[255,136,0],[255,170,0],[255,204,0],[255,255,0],[204,255,0],[153,255,0],[102,255,0],[51,255,0],[0,255,0],[0,255,51],[0,255,102],[0,255,153],[0,255,204]].concat(Object(u.a)(new Array(5).fill([0,255,255])),Object(u.a)(new Array(5).fill([0,204,255])),Object(u.a)(new Array(5).fill([0,153,255])),Object(u.a)(new Array(50).fill([0,102,255])),[[255,255,255],[255,255,255]],Object(u.a)(new Array(5).fill([255,255,255]))),[[255,0,0],[255,69,0],[255,136,0],[255,170,0],[255,204,0],[255,255,0],[204,255,0],[153,255,0],[102,255,0],[51,255,0],[0,255,0],[0,255,51],[0,255,102],[0,255,153],[0,255,204],[0,255,255],[0,204,255],[0,153,255]].concat(Object(u.a)(new Array(5).fill([0,102,255])),[[255,255,255],[255,255,255]],Object(u.a)(new Array(5).fill([255,255,255])))),P=([[255,255,0],[204,255,0],[153,255,0],[102,255,0],[51,255,0],[0,255,0],[0,255,51],[0,255,102],[0,255,153],[0,255,204]].concat(Object(u.a)(new Array(5).fill([0,255,255])),Object(u.a)(new Array(5).fill([0,204,255])),Object(u.a)(new Array(5).fill([0,153,255])),Object(u.a)(new Array(15).fill([0,102,255])),[[255,255,255],[255,255,255]],Object(u.a)(new Array(5).fill([255,255,255]))),[[0,0,0],[17,17,17],[34,34,34],[51,51,51],[68,68,68],[85,85,85]]);[[255,255,0],[204,255,0],[153,255,0],[102,255,0],[51,255,0],[0,255,0],[0,255,51],[0,255,102],[0,255,153],[0,255,204]].concat(Object(u.a)(new Array(5).fill([0,255,255])),Object(u.a)(new Array(5).fill([0,204,255])),Object(u.a)(new Array(5).fill([0,153,255])),Object(u.a)(new Array(50).fill([0,102,255])),[[255,255,255],[255,255,255]],Object(u.a)(new Array(5).fill([255,255,255]))),[[255,255,0],[204,255,0],[153,255,0],[102,255,0],[51,255,0],[0,255,0],[0,255,51],[0,255,102],[0,255,153],[0,255,204],[0,255,255],[0,204,255],[0,153,255]].concat(Object(u.a)(new Array(5).fill([0,102,255])),[[255,255,255],[255,255,255]],Object(u.a)(new Array(5).fill([255,255,255])));function V(e,t,a,r){for(var n=1;n<=a;n++)for(var o=1;o<=a;o++)t[a*r*(r*(o-1))+a*r*r/2+r*(n-1)+r/2]=10*e[a*(o-1)+n-1]}function N(e,t,a,r,n){for(var o=1;o<=a;o++)for(var i=1;i<=r;i++)t[r*n*(n*(o-1))+r*n*Math.floor(n/2)+n*(i-1)+Math.floor(n/2)]=10*e[a*(i-1)+o-1]}function M(e,t,a,r,n,o){for(var i=new Array(a),l=[],c=0;c<a;c++){i[c]=[];for(var s=0;s<t;s++){var h;if(0==s)(h=i[c]).push.apply(h,Object(u.a)(new Array(r).fill(o>=0?o:1)).concat([e[c*t+s]]));else if(s==t-1){var d;(d=i[c]).push.apply(d,[e[c*t+s]].concat(Object(u.a)(new Array(r).fill(o>=0?o:1))))}else i[c].push(e[c*t+s])}}for(var g=0;g<a;g++)l.push.apply(l,Object(u.a)(i[g]));return[].concat(Object(u.a)(new Array(n*(t+2*r)).fill(o>=0?o:1)),l,Object(u.a)(new Array(n*(t+2*r)).fill(o>=0?o:1)))}function D(e,t,a,r,n){for(var o=Math.ceil(2.57*n),i=0;i<r;i++)for(var l=0;l<a;l++){for(var c=0,s=0,u=i-o;u<i+o+1;u++)for(var h=l-o;h<l+o+1;h++){var d=Math.min(a-1,Math.max(0,h)),g=Math.min(r-1,Math.max(0,u)),p=(h-l)*(h-l)+(u-i)*(u-i),m=Math.exp(-p/(2*n*n))/(2*Math.PI*n*n);c+=e[g*a+d]*m,s+=m}t[i*a+l]=Math.round(c/s)}}function J(e,t,a){var r,n,o,i;r=1,n=1,o=1,a<e&&(a=e),a>t&&(a=t),a<e+.25*(i=t-e)?(r=0,n=4*(a-e)/i):a<e+.5*i?(r=0,o=1+4*(e+.25*i-a)/i):a<e+.75*i?(r=4*(a-e-.5*i)/i,o=0):(n=1+4*(e+.75*i-a)/i,o=0);var l=new Array;return l[0]=parseInt(255*r+""),l[1]=parseInt(255*n+""),l[2]=parseInt(255*o+""),l}function Q(e,t,a){var r,n,o,i;return r=1,n=1,o=1,a<e&&(a=e),a>t&&(a=t),a<e+.25*(i=t-e)?(r=0,n=4*(a-e)/i):a<e+.5*i?(r=0,o=1+4*(e+.25*i-a)/i):a<e+.75*i?(r=4*(a-e-.5*i)/i,o=0):(n=1+4*(e+.75*i-a)/i,o=0),{r:r,g:n,b:o}}function R(e,t,a){if(!a)return F[F.length-1];var r=F.length,n=2*(t-e)/r,o=Math.floor(a/n)>=r-1?r-1:Math.floor(a/n)<0?0:Math.floor(a/n);return F[r-1-o]}function L(e,t,a){if(!a)return P[P.length-1];var r=P.length,n=(t-e)/r,o=Math.floor(a/n)>=r-1?r-1:Math.floor(a/n)<0?0:Math.floor(a/n);return P[r-1-o]}function U(e){var t=0;return e.forEach((function(e){t=t>e?t:e})),t}function z(e,t){e.map((function(e){return e<t?0:e}));for(var a=[],r=0;r<32;r++){for(var n=0,o=0;o<16;o++)n+=e[16*r+o];a.push(n)}var i=[],l=[];a.forEach((function(e,a){e>2*t&&(i.push(a),l.push(e))}));l.reduce((function(e,t){return e+t}),0);for(var c=0,s=1;s<l.length;s++)if(l[s]-l[s-1]<0&&(l[s+1]-l[s])/l[s]>.2){c=s+1+i[0],s>.4*l.length&&(c=i[0]);break}c||(c=i[0]);var u=i[i.length-1],h=u-c;h%3==1&&(h-=1,u-=1),h%3==2&&(h-=2,u-=1,c-=1);for(var d=0,g=0,p=c;p<u;p++)for(var m=0;m<16;m++)e[16*p+m]>t&&d++,p>=c+Math.floor(h/3)&&p<c+Math.floor(2*h/3)&&e[16*p+m]>t&&g++;return{footType:g/(d||1),footLength:i.length}}var T=function(){function e(t){Object(d.a)(this,e),this.smoothValue=new Array(t).fill(0)}return Object(g.a)(e,[{key:"getSmooth",value:function(e,t){for(var a=0;a<e.length;a++)isNaN(e[a])&&(e[a]=0),this.smoothValue[a]=this.smoothValue[a]+(e[a]-this.smoothValue[a])/t}}]),e}();function K(e){if("number"!==typeof e)return"";var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1+"/")+(t.getDate()+" ")+((t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}var H,q=function(){function e(t,a,r){Object(d.a)(this,e),this.element=document.createElement("div"),this.element.classList.add(r),this.element.style.pointerEvents="none",this.renderer=t,this.controls=a,this.startPoint=new C.ob,this.pointTopLeft=new C.ob,this.pointBottomRight=new C.ob,this.isShiftPressed=!1,this.isDown=!1,this.isKey=!1,this.shiftFlag=0,this.elementDownFlag=!1,this.pointStart=new C.ob,this.onPointerDown=function(e){this.isDown=!0,this.isKey?this.setStartPoint(e):this.onSelectStart(e)}.bind(this),this.onPointerMove=function(e){this.isShiftPressed&&this.isDown&&this.onSelectMove(e)}.bind(this),this.onPointerUp=function(){this.isDown=!1}.bind(this),this.renderer.domElement.addEventListener("pointerdown",this.onPointerDown),this.renderer.domElement.addEventListener("pointermove",this.onPointerMove),this.renderer.domElement.addEventListener("pointerup",this.onPointerUp),document.addEventListener("keyup",(function(e){}))}return Object(g.a)(e,[{key:"dispose",value:function(){this.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown),this.renderer.domElement.removeEventListener("pointermove",this.onPointerMove),this.renderer.domElement.removeEventListener("pointerup",this.onPointerUp)}},{key:"onSelectStart",value:function(e){console.log(11111),this.isShiftPressed&&(this.renderer.domElement.parentElement.appendChild(this.element),this.element.style.left=e.clientX+"px",this.element.style.top=e.clientY+"px",this.element.style.width="0px",this.element.style.height="0px",this.startPoint.x=e.clientX,this.startPoint.y=e.clientY)}},{key:"onSelectMove",value:function(e){this.element.style.display="block",this.pointBottomRight.x=Math.max(this.startPoint.x,e.clientX),this.pointBottomRight.y=Math.max(this.startPoint.y,e.clientY),this.pointTopLeft.x=Math.min(this.startPoint.x,e.clientX),this.pointTopLeft.y=Math.min(this.startPoint.y,e.clientY),this.element.style.left=this.pointTopLeft.x+"px",this.element.style.top=this.pointTopLeft.y+"px",this.element.style.width=this.pointBottomRight.x-this.pointTopLeft.x+"px",this.element.style.height=this.pointBottomRight.y-this.pointTopLeft.y+"px"}},{key:"onSelectOver",value:function(){var e;this.element&&(null===(e=this.element.parentElement)||void 0===e||e.removeChild(this.element))}}]),e}(),W=a(8);function X(e){for(var t=e.particles,a=e.camera,r=e.position,n=t.geometry.attributes.position,o=[],i=[0,n.count-1],l=0;l<i.length;l++){var c=new C.pb;c.fromBufferAttribute(n,i[l]);var s=new C.e,u=new C.pb(c.x,c.y,c.z),h=new C.pb(c.x,c.y,0),d=u.clone();d.sub(h);var g=new C.pb(1,0,0),p=t.rotation.x,m=(new C.bb).setFromAxisAngle(g,p);d.applyQuaternion(m),d.add(h),s.setAttribute("position",new C.d(u,3));var f=new C.Z({color:16711680}),v=new C.Y(s,f);v.scale.x=t.scale.x,v.scale.y=t.scale.y,v.scale.z=t.scale.z,v.position.x=t.position.x+r.x+u.x*t.scale.x,v.position.y=t.position.y+r.y+(d.y-u.y)*t.scale.y,v.position.z=t.position.z+r.z+u.z*t.scale.z+(d.z-u.z)*t.scale.z;var x=new C.pb,b=.5*window.innerWidth,A=.5*window.innerHeight;v.updateMatrixWorld(),x.setFromMatrixPosition(v.matrixWorld),x.project(a),x.x=x.x*b+b,x.y=-x.y*A+A,o.push(x)}return o}function G(e){for(var t=e.particles,a=e.camera,r=e.position,n=(e.width,t.geometry.attributes.position),o=[],i=[0,n.count-1],l=0;l<i.length;l++){var c=new C.pb;c.fromBufferAttribute(n,i[l]);var s=new C.e,u=new C.pb(c.x,c.y,c.z),h=new C.pb(c.x,c.y,0),d=u.clone();d.sub(h);var g=new C.pb(1,0,0),p=t.rotation.x,m=(new C.bb).setFromAxisAngle(g,p);d.applyQuaternion(m),d.add(h),s.setAttribute("position",new C.d(u,3));var f=new C.Z({color:16711680}),v=new C.Y(s,f);v.scale.x=t.scale.x,v.scale.y=t.scale.y,v.scale.z=t.scale.z,v.position.x=t.position.x+r.x-(u.x+100)*t.scale.x,v.position.y=t.position.y+r.y+(d.y-u.y)*t.scale.y,v.position.z=t.position.z+r.z+u.z*t.scale.z+(d.z-u.z)*t.scale.z;var x=new C.pb,b=.5*window.innerWidth,A=.5*window.innerHeight;v.updateMatrixWorld(),x.setFromMatrixPosition(v.matrixWorld),x.project(a),x.x=x.x*b+b,x.y=-x.y*A+A,o.push(x)}return o}function Y(e,t){var a=Object(W.a)(e,4),r=a[0],n=a[1],o=a[2],i=a[3],l=Object(W.a)(t,4),c=l[0],s=l[1],u=l[2],h=l[3];return r<u&&o>c&&n<h&&i>s?[Math.max(r,c),Math.max(n,s),Math.min(o,u),Math.min(i,h)]:null}function Z(e,t,a,r){var n=Object(W.a)(e,4),o=n[0],i=n[1],l=n[2],c=n[3],s=Object(W.a)(t,4),u=s[0],h=s[1],d=c-i,g=l-o;return[(u-o)/g*a,(s[2]-o)/g*a,(h-i)/d*r,(s[3]-i)/d*r].map((function(e){return Math.round(e)}))}function _(e,t){H&&clearTimeout(H),H=setTimeout((function(){e()}),t)}var $,ee=n.a.forwardRef((function(e,t){var a,n,o,i,l,c,s,h,d,g,p,m,f,v,x,b,A,S,I,w,j,O=7*-Math.PI/12,F=[],P=[],N=[],J=[],Q=[],L=[],U=[],z=[],T=[],K=!1,H=32,W=32,$=!0,ee=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,te=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,ae=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,re=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,ne=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,oe=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,ie=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,le=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,ce=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,se=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,ue=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,he=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,de=new Array(1024).fill(0),ge=new Array(1024).fill(0),pe=new Array(1024).fill(0),me=new Array(1024).fill(0),fe=function(){!0},ve=new Array(4096).fill(1),xe=new Array(5184).fill(1),be=new Array(10368).fill(1),Ae=new Array(10368).fill(1),Se=new Array(4096).fill(1),ye=new Array(5184).fill(1),Ie=new Array(5184).fill(1),we=0,je=72,Oe=72,Ce=72,Ee=144,Be=100,ke=new C.p;function Fe(){var t=this;v=document.getElementById("canvas".concat(e.index)),(p=new C.V(40,window.innerWidth/window.innerHeight,1,15e4)).position.z=300,p.position.y=200,m=new C.fb,(new E.a).load("./model/chair3.glb",(function(t){g=t.scene,e.body&&(g.rotation.y=-Math.PI/2,g.position.x=145,g.position.y=-100,g.position.z=150),ke.add(g),m.add(ke),ke.position.x=-10,ke.position.y=-20})),function(){var e=5184;I=new Float32Array(3*e),j=new Float32Array(e),w=new Float32Array(3*e);for(var t=0,a=0,r=0;r<je;r++)for(var n=0;n<Oe;n++)I[t]=r*Be-3600,I[t+1]=0,I[t+2]=n*Be-3600,j[a]=1,w[t]=0,w[t+1]=0,w[t+2]=1,t+=3,a++;(d=new C.e).setAttribute("position",new C.d(I,3));var o=(new C.lb).load("./circle.png");s=new C.Z({vertexColors:!0,transparent:!0,map:o,size:2}),d.setAttribute("scale",new C.d(j,1)),d.setAttribute("color",new C.d(w,3)),(l=new C.Y(d,s)).scale.x=.005,l.scale.y=.005,l.scale.z=.005,l.position.z=148,l.position.y=70,l.position.x=-3,l.rotation.x=-Math.PI/48,l.rotation.y=0,ke.add(l)}(),function(){var e=10368;b=new Float32Array(3*e),S=new Float32Array(e),A=new Float32Array(3*e);for(var t=0,a=0,r=0;r<Ce;r++)for(var n=0;n<Ee;n++)b[t]=r*Be-3600,b[t+1]=0,b[t+2]=n*Be-7200,S[a]=1,A[t]=0,A[t+1]=0,A[t+2]=1,t+=3,a++;(h=new C.e).setAttribute("position",new C.d(b,3)),h.setAttribute("scale",new C.d(S,1)),h.setAttribute("color",new C.d(A,3));var o=(new C.lb).load("./circle.png"),i=new C.Z({vertexColors:!0,transparent:!0,map:o,size:1.6});(c=new C.Y(h,i)).geometry.attributes.position.needsUpdate=!0,c.geometry.attributes.color.needsUpdate=!0,c.geometry.attributes.scale.needsUpdate=!0,c.scale.x=.0048,c.scale.y=.0048,c.scale.z=.0048,c.position.z=118,c.position.y=100,c.position.x=1,c.rotation.x=O,ke.add(c)}();var a=new C.o(2e3,100);a.position.y=-199,a.material.opacity=.25,a.material.transparent=!0,m.add(a);var r=new C.q(16777215,4473924);r.position.set(0,200,0),m.add(r);var n=new C.j(16777215);n.position.set(0,200,10),m.add(n);var i=new C.j(16777215);i.position.set(0,10,200),m.add(i),(f=new C.rb({antialias:!0})).setPixelRatio(window.devicePixelRatio),f.setSize(window.innerWidth,window.innerHeight),f.outputEncoding=C.sb,0==v.childNodes.length&&v.appendChild(f.domElement),f.setClearColor(1053995),(x=new B.a(p,f.domElement)).dynamicDampingFactor=.1,x.domElement=v,x.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},window.addEventListener("resize",De),o=new q(f,x,"selectBox"),f.domElement.addEventListener("pointerdown",Pe),f.domElement.addEventListener("pointermove",Ve),f.domElement.addEventListener("pointerup",Ne),document.addEventListener("keydown",(function(a){if("ArrowUp"===a.key){o.element.style.top=parseInt(o.element.style.top)-1+"px";var r=o.element.getBoundingClientRect(),n=[r.left,r.top,r.right,r.bottom];if(!$){var i=Y(n,N),l=Y(n,J);i&&(L=Z(N,i,je,Oe)),l&&(z=Z(J,l,Ce,Ee)),_(e.changeSelect.bind(t,{sit:L,back:z}),500)}}if("ArrowDown"===a.key){o.element.style.top=parseInt(o.element.style.top)+1+"px";var c=o.element.getBoundingClientRect(),s=[c.left,c.top,c.right,c.bottom];if(!$){var u=Y(s,N),h=Y(s,J);u&&(L=Z(N,u,je,Oe)),h&&(z=Z(J,h,Ce,Ee)),_(e.changeSelect.bind(t,{sit:L,back:z}),500)}}if("ArrowLeft"===a.key){o.element.style.left=parseInt(o.element.style.left)-1+"px";var d=o.element.getBoundingClientRect(),g=[d.left,d.top,d.right,d.bottom];if(!$){var p=Y(g,N),m=Y(g,J);p&&(L=Z(N,p,je,Oe)),m&&(z=Z(J,m,Ce,Ee)),_(e.changeSelect.bind(t,{sit:L,back:z}),500)}}if("ArrowRight"===a.key){o.element.style.left=parseInt(o.element.style.left)+1+"px";var f=o.element.getBoundingClientRect(),v=[f.left,f.top,f.right,f.bottom];if(!$){var x=Y(v,N),b=Y(v,J);x&&(L=Z(N,x,je,Oe)),b&&(z=Z(J,b,Ce,Ee)),_(e.changeSelect.bind(t,{sit:L,back:z}),500)}}}))}function Pe(e){o.isShiftPressed&&(L=[],z=[],F=[e.clientX,e.clientY],a=X({particles:l,camera:p,position:{x:-10,y:-20,z:0}}),n=G({particles:c,camera:p,position:{x:-10,y:-20,z:0},width:Ce}),N=[a[0].x,a[0].y,a[1].x,a[1].y],J=[n[1].x,n[1].y,n[0].x,n[0].y],K=!0)}function Ve(t){if(o.isShiftPressed&&K){P=[t.clientX,t.clientY],Q=[].concat(Object(u.a)(F),Object(u.a)(P));var a=Math.abs(Math.round(P[0]-F[0])),r=Math.abs(Math.round(P[1]-F[1]));if(F[0]>P[0]?(Q[0]=P[0],Q[2]=F[0]):(Q[0]=F[0],Q[2]=P[0]),F[1]>P[1]?(Q[1]=P[1],Q[3]=F[1]):(Q[1]=F[1],Q[3]=P[1]),!$){var n=Y(Q,N),i=Y(Q,J);n&&(L=Z(N,n,je,Oe),U=Object(u.a)(L)),i&&(z=Z(J,i,Ce,Ee),T=Object(u.a)(z)),e.changeStateData({width:a,height:r})}}}function Ne(t){o.isShiftPressed&&(e.changeSelect({sit:U,back:T}),F=[],P=[],K=!1)}function Me(t,a){$=t,o.isShiftPressed=!t,t&&(o.onSelectOver(),a&&e.changeSelect({sit:[0,72,0,72],back:[0,72,0,144]}))}function De(){f.setSize(window.innerWidth,window.innerHeight),p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix()}function Je(e){e-we>=25&&(!function(){(function(){ge=Object(u.a)(me).map((function(e,t){return e-se<0?0:e})),ge.reduce((function(e,t){return e+t}),0)<he&&(ge=new Array(1024).fill(1));V(ge,ve,W,2);D(M(ve,64,64,4,4),xe,72,72,ie);for(var e=0;e<72;e++)for(var t=0;t<72;t++)be[2*e*72+2*t]=xe[72*e+t],be[2*e*72+(2*t+1)]=xe[72*e+t];for(var a=0,r=0,n=0;n<Ce;n++)for(var o=0;o<Ee;o++){var i=10*be[r];Ae[r]=Ae[r]+(i-Ae[r]+.5)/ce,b[a+1]=-Ae[r]*le;var l=void 0;l=R(0,oe,Ae[r]),A[a]=l[0]/255,A[a+1]=l[1]/255,A[a+2]=l[2]/255,a+=3,r++}c.geometry.attributes.position.needsUpdate=!0,c.geometry.attributes.color.needsUpdate=!0,c.geometry.attributes.scale.needsUpdate=!0,h.setAttribute("position",new C.d(b,3)),h.setAttribute("scale",new C.d(S,1)),h.setAttribute("color",new C.d(A,3))})(),function(){de=Object(u.a)(pe).map((function(e,t){return e-ne<0?0:e})),de.reduce((function(e,t){return e+t}),0)<ue&&(de=new Array(1024).fill(1));V(de,Se,H,2),D(M(Se,64,64,4,4),ye,72,72,te);for(var e=0,t=0,a=0;a<je;a++)for(var r=0;r<Oe;r++){var n=10*ye[t];Ie[t]=Ie[t]+(n-Ie[t]+.5)/re,I[e]=a*Be-3600+20*a,I[e+1]=Ie[t]*ae,I[e+2]=r*Be-3600;var o=void 0;o=R(0,ee,Ie[t]),w[e]=o[0]/255,w[e+1]=o[1]/255,w[e+2]=o[2]/255,e+=3,t++}l.geometry.attributes.position.needsUpdate=!0,l.geometry.attributes.color.needsUpdate=!0,d.setAttribute("position",new C.d(I,3)),d.setAttribute("color",new C.d(w,3))}(),k.a.update(),$?(x.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},x.keys=[18,17,91],x.update()):$||(x.keys=[],x.mouseButtons=[]);f.render(m,p)}(),we=e),i=requestAnimationFrame(Je)}function Qe(e,t,a){var r={x:a.position.x,y:a.position.y,z:a.position.z,rotationx:a.rotation.x,rotationy:a.rotation.y,rotationz:a.rotation.z},n=new k.a.Tween(r).to(e,t).easing(k.a.Easing.Quadratic.InOut);return n.onUpdate((function(){a.position.set(r.x,r.y,r.z),r.rotationx&&(a.rotation.x=r.rotationx),r.rotationz&&(a.rotation.z=r.rotationz)})),n}function Re(){console.log("sit"),x.dynamicDampingFactor=1,l.visible=!0,x.reset(),Qe({x:0,y:170,z:220,rotationx:Math.PI/3},1e3,l).start(),c.visible=!1,g.visible=!1}function Le(){x.dynamicDampingFactor=1,c.visible=!0,x.reset(),Qe({x:2,y:165,z:225,rotationx:-Math.PI/2-4.5*Math.PI/24},1e3,c).start(),l.visible=!1,g.visible=!1}function Ue(){(x.dynamicDampingFactor=.1,c.visible=!0,l.visible=!0,g.visible=!0,x.reset(),220==l.position.z)&&Qe({x:-3,y:70,z:148,rotationx:-Math.PI/48,rotationz:0},1e3,l).start();225==c.position.z&&Qe({x:1,y:100,z:118,rotationx:O,rotationz:0},1e3,c).start();console.log("actionAll")}function ze(e){var t=e.wsPointData;me=t}function Te(e){var t=e.valuej,a=e.valueg,r=e.value,n=e.valuel,o=e.valuef,i=e.valuelInit;t&&(oe=t),a&&(ie=a),r&&(le=r),n&&(ce=n),o&&(se=o),i&&(he=i)}function Ke(e){var t=e.valuej,a=e.valueg,r=e.value,n=e.valuel,o=e.valuef,i=e.valuelInit;t&&(ee=t),a&&(te=a),r&&(ae=r),n&&(re=n),o&&(ne=o),i&&(ue=i)}function He(e){var t=e.wsPointData;pe=t}function qe(e){var t=e.direction,a=e.value,r=e.type;"back"===r?c.rotation[t]="x"==t?-Math.PI/2-4*Math.PI/24-6*a/12:-6*a/12:"sit"===r&&(l.rotation[t]="x"==t?Math.PI/3-6*a/12:6*a/12)}function We(t){var a=t.width,r=t.height,n=o.pointTopLeft.x?o.pointTopLeft.x:window.innerWidth/2,i=o.pointTopLeft.y?o.pointTopLeft.y:window.innerHeight/2;if(o.element.style.left=n+"px",o.element.style.top=i+"px",a&&(o.element.style.width=a+"px"),r&&(o.element.style.height=r+"px"),P=[n+Number(a),i+Number(r)],F=[n,i],Q=[].concat(Object(u.a)(F),Object(u.a)(P)),F[0]>P[0]?(Q[0]=P[0],Q[2]=F[0]):(Q[0]=F[0],Q[2]=P[0]),F[1]>P[1]?(Q[1]=P[1],Q[3]=F[1]):(Q[1]=F[1],Q[3]=P[1]),!$){var l=Y(Q,N),c=Y(Q,J);l&&(L=Z(N,l,je,Oe)),c&&(z=Z(J,c,Ce,Ee)),e.changeSelect({sit:L,back:z})}}function Xe(){o.onSelectOver()}return Object(r.useImperativeHandle)(t,(function(){return{backData:ze,sitData:He,changeDataFlag:fe,sitValue:Ke,backValue:Te,changeSelectFlag:Me,actionAll:Ue,actionSit:Re,actionBack:Le,changePointRotation:qe,changeBox:We,cancelSelect:Xe}})),Object(r.useEffect)((function(){return window.removeEventListener("keydown",(function(){})),window.removeEventListener("keyup",(function(){})),Fe(),Je(),function(){var e;i&&cancelAnimationFrame(i),document.removeEventListener("pointerdown",Pe),document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",Ne),null===(e=o)||void 0===e||e.dispose()}}),[]),Object(y.jsx)("div",{children:Object(y.jsx)("div",{style:{width:"100%",height:"100%"},id:"canvas".concat(e.index)})})})),te=n.a.forwardRef((function(e,t){var a=102,n=118,o=7*-Math.PI/12;console.log("canvas");var i,l,c,s,h,d,g,p,m,f,v,x,b,A,S,I,w,j,O,F,P,N=[],J=[],U=[],z=[],T=[],K=[],H=[],W=10,_=10,$=!0,ee=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):335,te=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):3.6,ae=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,re=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,ne=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,oe=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):335,ie=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):3.6,le=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,ce=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,se=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,ue=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2e3,he=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2e3,de=new Array(100).fill(0),ge=new Array(100).fill(0),pe=new Array(100).fill(0),me=new Array(100).fill(0),fe=function(){!0},ve=new Array(1600).fill(1),xe=new Array(2304).fill(1),be=new Array(4608).fill(1),Ae=new Array(4608).fill(1),Se=new Array(1600).fill(1),ye=new Array(2304).fill(1),Ie=new Array(2304).fill(1),we=0,je=48,Oe=48,Ce=48,Ee=96,Be=100,ke=new C.p,Fe=new C.p;function Pe(){A=document.getElementById("canvas".concat(e.index)),(v=new C.V(40,window.innerWidth/window.innerHeight,1,15e4)).position.z=300,v.position.y=200,x=new C.fb,(new E.a).load("./model/chair3.glb",(function(t){f=t.scene,e.body&&(f.rotation.y=-Math.PI/2,f.position.x=145,f.position.y=-100,f.position.z=150),ke.add(f),x.add(ke),ke.position.x=-10,ke.position.y=-20})),function(){var e=2304;O=new Float32Array(3*e),P=new Float32Array(e),F=new Float32Array(3*e);for(var t=0,a=0,r=0;r<je;r++)for(var n=0;n<Oe;n++)O[t]=150*r-2400,O[t+1]=0,O[t+2]=150*n-2400,P[a]=1,F[t]=0,F[t+1]=0,F[t+2]=1,t+=3,a++;(m=new C.e).setAttribute("position",new C.d(O,3));var o=(new C.lb).load("./circle.png");g=new C.Z({vertexColors:!0,transparent:!0,map:o,size:2}),m.setAttribute("scale",new C.d(P,1)),m.setAttribute("color",new C.d(F,3)),(h=new C.Y(m,g)).scale.x=.005,h.scale.y=.005,h.scale.z=.005,h.position.z=148,h.position.y=75,h.position.x=-5,h.rotation.x=-Math.PI/48,h.rotation.y=0,ke.add(h)}(),function(){var e=4608;I=new Float32Array(3*e),j=new Float32Array(e),w=new Float32Array(3*e);for(var t=0,r=0,i=0;i<Ce;i++)for(var l=0;l<Ee;l++)I[t]=i*Be-2400,I[t+1]=0,I[t+2]=l*Be-4800,j[r]=1,w[t]=0,w[t+1]=0,w[t+2]=1,t+=3,r++;(p=new C.e).setAttribute("position",new C.d(I,3)),p.setAttribute("scale",new C.d(j,1)),p.setAttribute("color",new C.d(w,3));var c=(new C.lb).load("./circle.png"),s=new C.Z({vertexColors:!0,transparent:!0,map:c,size:2});(d=new C.Y(p,s)).geometry.attributes.position.needsUpdate=!0,d.geometry.attributes.color.needsUpdate=!0,d.geometry.attributes.scale.needsUpdate=!0,d.scale.x=.006,d.scale.y=.006,d.scale.z=.006,d.position.z=n,d.position.y=a,d.position.x=0,d.rotation.x=o,ke.add(d)}(),function(){var e=20;new Float32Array(3*e),new Float32Array(e),new Float32Array(3*e);for(var t=0;t<5;t++)for(var a=0;a<5;a++){var r=new C.W(50,100),n=new C.L({side:C.k,color:255}),o=new C.K(r,n);Fe.add(o),o.scale.x=.1,o.scale.y=.1,o.scale.z=.1,o.position.z=131,o.position.y=124+12*(a-5),o.position.x=6*(t-1)-2}Fe.rotation.x=-Math.PI/24,ke.add(Fe),Fe.visible=!1}();var t=new C.o(2e3,100);t.position.y=-199,t.material.opacity=.25,t.material.transparent=!0,x.add(t);var r=new C.q(16777215,4473924);r.position.set(0,200,0),x.add(r);var i=new C.j(16777215);i.position.set(0,200,10),x.add(i);var l=new C.j(16777215);l.position.set(0,10,200),x.add(l),(b=new C.rb({antialias:!0})).setPixelRatio(window.devicePixelRatio),b.setSize(window.innerWidth,window.innerHeight),b.outputEncoding=C.sb,0==A.childNodes.length&&A.appendChild(b.domElement),b.setClearColor(1053995),(S=new B.a(v,b.domElement)).dynamicDampingFactor=.1,S.domElement=A,S.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},window.addEventListener("resize",Je),c=new q(b,S,"selectBox"),document.addEventListener("pointerdown",Ve),document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",Me)}function Ve(t){c.isShiftPressed&&(K=[],H=[],e.changeSelect({sit:K,back:H}),N=[t.clientX,t.clientY],i=X({particles:h,camera:v,position:{x:ke.position.x,y:ke.position.y,z:ke.position.z}}),l=G({particles:d,camera:v,position:{x:ke.position.x,y:ke.position.y,z:ke.position.z},width:Ce}),U=[i[0].x,i[0].y,i[1].x,i[1].y],z=[l[1].x,l[1].y,l[0].x,l[0].y])}function Ne(t){if(c.isShiftPressed&&(J=[t.clientX,t.clientY],T=[].concat(Object(u.a)(N),Object(u.a)(J)),N[0]>J[0]?(T[0]=J[0],T[2]=N[0]):(T[0]=N[0],T[2]=J[0]),N[1]>J[1]?(T[1]=J[1],T[3]=N[1]):(T[1]=N[1],T[3]=J[1]),!$)){var a=Y(T,U),r=Y(T,z);a&&(K=Z(U,a,je,Oe)),r&&(H=Z(z,r,Ce,Ee)),e.changeSelect({sit:K,back:H})}}function Me(e){c.isShiftPressed&&(N=[],J=[])}function De(e){$=e,c.isShiftPressed=!e}function Je(){b.setSize(window.innerWidth,window.innerHeight),v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix()}function Qe(e){e-we>=25&&(!function(){(function(){ge=Object(u.a)(me).map((function(e,t){return e-se<0?0:e})),ge.reduce((function(e,t){return e+t}),0)<he&&(ge=new Array(100).fill(1));V(ge,ve,_,4);D(M(ve,40,40,4,4),xe,48,48,ie);for(var e=0;e<72;e++)for(var t=0;t<72;t++)be[2*e*72+2*t]=xe[72*e+t],be[2*e*72+(2*t+1)]=xe[72*e+t];for(var a=0,r=0,n=0;n<Ce;n++)for(var o=0;o<Ee;o++){var i=10*be[r];Ae[r]=Ae[r]+(i-Ae[r]+.5)/ce,I[a+1]=-Ae[r]/le;var l=void 0;H&&!H.every((function(e){return 0==e}))?n>=H[0]&&n<H[1]&&o<Ee-H[2]&&o>=Ee-H[3]?(l=R(0,oe,Ae[r]+50),j[r]=2):(l=L(0,oe,Ae[r]),j[r]=1):(l=R(0,oe,Ae[r]),j[r]=1),w[a]=l[0]/255,w[a+1]=l[1]/255,w[a+2]=l[2]/255,a+=3,r++}d.geometry.attributes.position.needsUpdate=!0,d.geometry.attributes.color.needsUpdate=!0,d.geometry.attributes.scale.needsUpdate=!0,p.setAttribute("position",new C.d(I,3)),p.setAttribute("scale",new C.d(j,1)),p.setAttribute("color",new C.d(w,3))})(),function(){de=Object(u.a)(pe).map((function(e,t){return e-ne<0?0:e})),de.reduce((function(e,t){return e+t}),0)<ue&&(de=new Array(100).fill(1));V(de,Se,W,4),D(M(Se,40,40,4,4),ye,48,48,te);for(var e=0,t=0,a=0;a<je;a++)for(var r=0;r<Oe;r++){var n=10*ye[t];Ie[t]=Ie[t]+(n-Ie[t]+.5)/re,O[e+1]=Ie[t]/ae;var o=void 0;o=K&&!K.every((function(e){return 0==e}))?a>=K[0]&&a<K[1]&&r>=K[2]&&r<K[3]?R(0,ee,Ie[t]):L(0,ee,Ie[t]):R(0,ee,Ie[t]),F[e]=o[0]/255,F[e+1]=o[1]/255,F[e+2]=o[2]/255,e+=3,t++}h.geometry.attributes.position.needsUpdate=!0,h.geometry.attributes.color.needsUpdate=!0,m.setAttribute("position",new C.d(O,3)),m.setAttribute("color",new C.d(F,3))}(),function(){ge=Object(u.a)(me).map((function(e,t){return e-se<0?0:e})),ge.reduce((function(e,t){return e+t}),0)<he&&(ge=new Array(100).fill(1));for(var e=[],t=0;t<5;t++)for(var a=0;a<5;a++){for(var r=0,n=0;n<2;n++)for(var o=0;o<2;o++)r+=ge[10*(2*t+n)+2*a+o];e.push(Number((r/4).toFixed(1)))}for(var i=0;i<25;i++)Fe.children[i].material.color.r=Q(0,ee,e[i]).r,Fe.children[i].material.color.g=Q(0,ee,e[i]).g,Fe.children[i].material.color.b=Q(0,ee,e[i]).b}(),k.a.update(),$?(S.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},S.keys=[18,17,91],S.update()):$||(S.keys=[],S.mouseButtons=[]);b.render(x,v)}(),we=e),s=requestAnimationFrame(Qe)}function Re(e,t,a){var r={x:a.position.x,y:a.position.y,z:a.position.z,rotationx:a.rotation.x,rotationy:a.rotation.y,rotationz:a.rotation.z},n=new k.a.Tween(r).to(e,t).easing(k.a.Easing.Quadratic.InOut);return n.onUpdate((function(){a.position.set(r.x,r.y,r.z),r.rotationx&&(a.rotation.x=r.rotationx),r.rotationz&&(a.rotation.z=r.rotationz)})),n}function Le(){console.log("sit"),h.visible=!0,S.reset(),Re({x:0,y:170,z:220,rotationx:Math.PI/3},1e3,h).start(),d.visible=!1,f.visible=!1}function Ue(){d.visible=!0,S.reset(),Re({x:2,y:165,z:225,rotationx:-Math.PI/2-4*Math.PI/24},1e3,d).start(),h.visible=!1,f.visible=!1}function ze(){(d.visible=!0,h.visible=!0,f.visible=!0,S.reset(),220==h.position.z)&&Re({x:-5,y:75,z:148,rotationx:-Math.PI/48,rotationz:0},1e3,h).start();225==d.position.z&&Re({x:0,y:a,z:n,rotationx:o,rotationz:0},1e3,d).start();console.log("actionAll")}function Te(e){var t=e.wsPointData;me=t}function Ke(e){var t=e.valuej,a=e.valueg,r=e.value,n=e.valuel,o=e.valuef,i=e.valuelInit;t&&(oe=t),a&&(ie=a),r&&(le=r),n&&(ce=n),o&&(se=o),i&&(he=i)}function He(e){var t=e.valuej,a=e.valueg,r=e.value,n=e.valuel,o=e.valuef,i=e.valuelInit;t&&(ee=t),a&&(te=a),r&&(ae=r),n&&(re=n),o&&(ne=o),i&&(ue=i)}function qe(e){var t=e.wsPointData;pe=t}function We(e){e?(d.visible=!1,Fe.visible=!0):(Fe.visible=!1,d.visible=!0)}function Xe(e){var t=e.direction,a=e.value,r=e.type;"back"===r?d.rotation[t]="x"==t?-Math.PI/2-4*Math.PI/24-6*a/12:-6*a/12:"sit"===r&&(h.rotation[t]="x"==t?Math.PI/3-6*a/12:6*a/12)}return Object(r.useImperativeHandle)(t,(function(){return{backData:Te,sitData:qe,changeDataFlag:fe,sitValue:He,backValue:Ke,changeSelectFlag:De,actionAll:ze,actionSit:Le,actionBack:Ue,changePointRotation:Xe,changeRect:We}})),Object(r.useEffect)((function(){return window.removeEventListener("keydown",(function(){})),window.removeEventListener("keyup",(function(){})),Pe(),Qe(),function(){var e;s&&cancelAnimationFrame(s),document.removeEventListener("pointerdown",Ve),document.removeEventListener("pointermove",Ne),document.removeEventListener("pointup",Me),null===(e=c)||void 0===e||e.dispose()}}),[]),Object(y.jsx)("div",{children:Object(y.jsx)("div",{style:{width:"100%",height:"100%"},id:"canvas".concat(e.index)})})})),ae=(a(140),new C.p,16),re=32,ne=16,oe=32,ie=!0,le=new Array(512).fill(0),ce=new Array(512).fill(0),se=new Array(512).fill(0),ue=new Array(512).fill(0),he=!0,de=(localStorage.getItem("carValuej")&&JSON.parse(localStorage.getItem("carValuej")),localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2),ge=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,pe=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,me=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,fe=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,ve=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,xe=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,be=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,Ae=(localStorage.getItem("carValuef")&&JSON.parse(localStorage.getItem("carValuef")),localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2),Se=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,ye=n.a.forwardRef((function(e,t){var a,n,o,i,l,c,s,h,d,g,p,m,f,v,x,b,A,S,I,w,j=[],O=[],k=[],F=[],P=[],V=[0,0],Q=[],R=[],U=function(){!0},z=new Array(2048).fill(1),T=new Array(2880).fill(1),K=(new Array(2880).fill(1),new Array(2880).fill(1)),H=new Array(2048).fill(1),W=new Array(2880).fill(1),_=(new Array(2880).fill(1),new Array(2880).fill(1)),ee=(new C.h,40),te=72,ye=40,Ie=72,we=100,je=new C.p;function Oe(){g=document.getElementById("canvas"),(p=new C.V(40,window.innerWidth/window.innerHeight,1,15e4)).position.z=10,p.position.y=200,m=new C.fb;new E.a;!function(){var e=2880;S=new Float32Array(3*e),w=new Float32Array(e),I=new Float32Array(3*e);for(var t=0,a=0,r=0;r<ee;r++)for(var n=0;n<te;n++)S[t]=r*we-2e3+20*r,S[t+1]=0,S[t+2]=n*we-3600,w[a]=1,I[t]=0,I[t+1]=0,I[t+2]=1,t+=3,a++;(d=new C.e).setAttribute("position",new C.d(S,3));var o=(new C.lb).load("./circle.png");s=new C.Z({vertexColors:!0,transparent:!0,map:o,size:1.5}),d.setAttribute("scale",new C.d(w,1)),d.setAttribute("color",new C.d(I,3)),(i=new C.Y(d,s)).scale.x=.0062,i.scale.y=.0062,i.scale.z=.0062,je.add(i)}(),function(){var e=2880;x=new Float32Array(3*e),A=new Float32Array(e),b=new Float32Array(3*e);for(var t=0,a=0,r=0;r<ye;r++)for(var n=0;n<Ie;n++)x[t]=r*we-2e3,x[t+1]=0,x[t+2]=n*we-3600,A[a]=1,b[t]=0,b[t+1]=0,b[t+2]=1,t+=3,a++;(h=new C.e).setAttribute("position",new C.d(x,3)),h.setAttribute("scale",new C.d(A,1)),h.setAttribute("color",new C.d(b,3));var o=(new C.lb).load("./circle.png"),i=new C.Z({vertexColors:!0,transparent:!0,map:o,size:1.5});(l=new C.Y(h,i)).geometry.attributes.position.needsUpdate=!0,l.geometry.attributes.color.needsUpdate=!0,l.scale.x=.0062,l.scale.y=.0062,l.scale.z=.0062,l.position.x=30,je.add(l)}(),function(){var e=new C.W(2,2),t=(new C.lb).load("./circle.png"),a=new C.L({color:10034170,map:t,transparent:!0});(c=new C.K(e,a)).rotation.x=-Math.PI/2,c.position.y=10,c.position.x=38,c.position.z=19.5,je.add(c)}(),je.position.x=-10,je.position.y=110,je.position.z=5,m.add(je);var e=new C.o(2e3,100);e.position.y=-199,e.material.opacity=.25,e.material.transparent=!0,m.add(e);var t=new C.q(16777215,4473924);t.position.set(0,200,0),m.add(t);var a=new C.j(16777215);a.position.set(0,200,10),m.add(a);var r=new C.j(16777215);r.position.set(0,10,200),m.add(r),(f=new C.rb({antialias:!0})).setPixelRatio(window.devicePixelRatio),f.setSize(window.innerWidth,window.innerHeight),f.outputEncoding=C.sb,0==g.childNodes.length&&g.appendChild(f.domElement),f.setClearColor(0),(v=new B.a(p,f.domElement)).dynamicDampingFactor=.2,v.domElement=g,v.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},v.keys=[18,17,91],window.addEventListener("resize",ke),f.domElement.addEventListener("click",(function(){}),!1),o=new q(f,v,"selectBox"),document.addEventListener("pointerdown",Ce),document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Be)}function Ce(t){o.isShiftPressed&&(Q=[],R=[],e.changeSelect({sit:Q,back:R}),j=[t.clientX,t.clientY],a=X({particles:i,camera:p,position:{x:-10,y:110,z:5}}),n=G({particles:l,camera:p,position:{x:-10,y:110,z:5},width:ye}),k=[a[0].x,a[0].y,a[1].x,a[1].y],F=[n[1].x,n[0].y,n[0].x,n[1].y])}function Ee(t){if(o.isShiftPressed&&(O=[t.clientX,t.clientY],P=[].concat(Object(u.a)(j),Object(u.a)(O)),j[0]>O[0]?(P[0]=O[0],P[2]=j[0]):(P[0]=j[0],P[2]=O[0]),j[1]>O[1]?(P[1]=O[1],P[3]=j[1]):(P[1]=j[1],P[3]=O[1]),!ie)){var a=Y(P,k),r=Y(P,F);a&&(Q=Z(k,a,ee,te)),r&&(R=Z(F,r,ye,Ie)),e.changeSelect({sit:Q,back:R})}}function Be(e){o.isShiftPressed&&(j=[],O=[])}function ke(){f.setSize(window.innerWidth,window.innerHeight),p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix()}function Fe(){$=requestAnimationFrame(Fe);(new Date).getTime();!function(){c&&(c.position.x=48*V[0]/32-10,c.position.z=38.5*V[1]/32-19);c.visible=!he;Pe(),Ve(),ie?(v.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},v.keys=[18,17,91],v.update()):ie||(v.keys=[],v.mouseButtons=[]);f.render(m,p)}()}function Pe(){le=Object(u.a)(ce).map((function(e,t){return e-me<0?0:e})),le.reduce((function(e,t){return e+t}),0)<Se&&(le=new Array(512).fill(0)),N(le,z,ne,oe,2);D(M(z,64,32,4,4),T,72,40,ve);for(var e=0,t=0,a=0;a<ye;a++)for(var r=0;r<Ie;r++){var n=10*T[t];K[t]=K[t]+(n-K[t]+.5)/be,x[e+1]=K[t]/xe;var o=void 0;R&&!R.every((function(e){return 0==e}))?a>=R[0]&&a<R[1]&&r>=R[2]&&r<R[3]?o=J(0,fe,K[t]):(o=L(0,fe,K[t]),A[t]=1):(o=J(0,fe,K[t]),A[t]=1),b[e]=o[0]/255,b[e+1]=o[1]/255,b[e+2]=o[2]/255,e+=3,t++}l.geometry.attributes.position.needsUpdate=!0,l.geometry.attributes.color.needsUpdate=!0,h.setAttribute("position",new C.d(x,3)),h.setAttribute("color",new C.d(b,3))}function Ve(){ue=Object(u.a)(se).map((function(e,t){return e-me<0?0:e})),ue.reduce((function(e,t){return e+t}),0)<Ae&&(ue=new Array(512).fill(0)),N(ue,H,ae,re,2),D(M(H,64,32,4,4),W,72,40,de);for(var e=0,t=0,a=0;a<ee;a++)for(var r=0;r<te;r++){var n=10*W[t];_[t]=_[t]+(n-_[t]+.5)/pe,S[e]=a*we-2e3,S[e+1]=_[t]/ge,S[e+2]=r*we-3600;var o=void 0;Q&&!Q.every((function(e){return 0==e}))?a>=Q[0]&&a<Q[1]&&r>=Q[2]&&r<Q[3]?o=J(0,fe,_[t]):(o=L(0,fe,_[t]),A[t]=1):(o=J(0,fe,_[t]),A[t]=1),I[e]=o[0]/255,I[e+1]=o[1]/255,I[e+2]=o[2]/255,e+=3,t++}i.geometry.attributes.position.needsUpdate=!0,i.geometry.attributes.color.needsUpdate=!0,d.setAttribute("position",new C.d(S,3)),d.setAttribute("color",new C.d(I,3))}function Ne(e){var t=e.wsPointData;ce=t}function Me(e){var t=e.valuej,a=e.valueg,r=e.value,n=e.valuel,o=e.valuef,i=e.valuelInit;t&&(fe=t),a&&(ve=a),r&&(xe=r),n&&(be=n),o&&o,i&&(Se=i)}function De(e){var t=e.valuej,a=e.valueg,r=e.value,n=e.valuel,o=e.valuef,i=e.valuelInit;t&&t,a&&(de=a),r&&(ge=r),n&&(pe=n),o&&(me=o),i&&(Ae=i)}function Je(e){var t=e.wsPointData,a=e.arr;a&&(V=a),se=t}function Qe(e){"number"===typeof e.x&&(je.rotation.x=-6*e.x/12),"number"===typeof e.z&&(je.rotation.z=6*e.z/12)}function Re(e){he=e}function Le(e){ie=e,o.isShiftPressed=!e}function Ue(){p.position.z=300,p.position.y=200,p.position.x=0,p.rotation._x=0,p.rotation._y=0,p.rotation._z=0,je.rotation.x=-2*Math.PI/12,je.rotation.y=0,je.position.x=-15,je.position.y=150,je.position.z=230}function ze(e){"Shift"===e.key&&(v.mouseButtons=null,v.keys=null)}function Te(e){"Shift"===e.key&&(v.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},v.keys=[18,17,91])}Object(r.useImperativeHandle)(t,(function(){return{backData:Ne,sitData:Je,changeDataFlag:U,sitValue:De,backValue:Me,backRenew:Pe,sitRenew:Ve,changeGroupRotate:Qe,reset:Ue,changeSelectFlag:Le,changeCenterFlag:Re}}));return Object(r.useEffect)((function(){return Oe(),Fe(),window.addEventListener("keydown",ze),window.addEventListener("keyup",Te),function(){cancelAnimationFrame($),document.removeEventListener("pointerdown",Ce),document.removeEventListener("pointermove",Ee),document.removeEventListener("pointup",Be),o.dispose()}}),[]),Object(y.jsx)("div",{children:Object(y.jsx)("div",{id:"canvas"})})})),Ie=.13,we=.2,je=.6,Oe=.5,Ce=.2,Ee=.16,Be=.2,ke=.16,Fe=.2,Pe=.16,Ve=[];Ve.push(we);for(var Ne=0;Ne<2;Ne++)Ve.push(we+(Ie-we)*(Ne+1)/3);Ve.push(Ie);var Me=[];Ve.push(Oe);for(var De=0;De<2;De++)Me.push(Oe+(je-Oe)*(De+1)/3);Me.push(je);var Je=[];Ve.push(Ee);for(var Qe=0;Qe<2;Qe++)Je.push(Ee+(Ce-Ee)*(Qe+1)/3);Je.push(Ce);var Re=[];Ve.push(ke);for(var Le=0;Le<2;Le++)Re.push(ke+(Be-ke)*(Le+1)/3);Re.push(Be);var Ue=[];Ve.push(Pe);for(var ze=0;ze<2;ze++)Ue.push(Pe+(Fe-Pe)*(ze+1)/3);Ue.push(Fe);Ve[0],Ve[1],Ve[2],Ve[3],Me[0],Me[1],Me[2],Me[3],Je[0],Je[1],Je[2],Je[3],Re[0],Re[1],Re[2],Re[3],Ue[0],Ue[1],Ue[2],Ue[3],new C.p;var Te,Ke,He,qe,We,Xe=32,Ge=new Array(512).fill(0),Ye=new Array(1024).fill(0),Ze=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,_e=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,$e=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,et=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,tt=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,at=(localStorage.getItem("carValuej")&&JSON.parse(localStorage.getItem("carValuej")),localStorage.getItem("carValueg")&&JSON.parse(localStorage.getItem("carValueg")),localStorage.getItem("carValue")&&JSON.parse(localStorage.getItem("carValue")),localStorage.getItem("carValuel")&&JSON.parse(localStorage.getItem("carValuel")),localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2),rt=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,nt=(localStorage.getItem("carValueInit")&&JSON.parse(localStorage.getItem("carValueInit")),n.a.forwardRef((function(e,t){var a,n,o,i,l,c,s,u,h,d,g,p=function(){!0},m=(new Array(2048).fill(1),new Array(2880).fill(1),new Array(2880).fill(1),new Array(2880).fill(1),new Array(4096).fill(1)),f=new Array(5184).fill(1),v=(new Array(5184).fill(1),new Array(5184).fill(1)),x=0,b=(new C.h,72),A=72,S=100,I=new C.p;function w(){i=document.getElementById("canvas"),(l=new C.V(40,window.innerWidth/window.innerHeight,1,15e4)).position.z=300,l.position.y=200,c=new C.fb;new E.a;!function(){var e=5184;h=new Float32Array(3*e),g=new Float32Array(e),d=new Float32Array(3*e);for(var t=0,r=0,i=0;i<b;i++)for(var l=0;l<A;l++)h[t]=i*S-3600+20*i,h[t+1]=0,h[t+2]=l*S-3600,g[r]=1,d[t]=0,d[t+1]=0,d[t+2]=1,t+=3,r++;(o=new C.e).setAttribute("position",new C.d(h,3));var c=(new C.lb).load("./circle.png");n=new C.Z({vertexColors:!0,transparent:!0,map:c,size:2}),o.setAttribute("scale",new C.d(g,1)),o.setAttribute("color",new C.d(d,3)),(a=new C.Y(o,n)).scale.x=.0062,a.scale.y=.0062,a.scale.z=.0062,a.rotation.x=Math.PI/2,I.add(a)}(),I.rotation.x=-2*Math.PI/12,I.position.x=-15,I.position.y=150,I.position.z=230,c.add(I);var e=new C.o(2e3,100);e.position.y=-199,e.material.opacity=.25,e.material.transparent=!0,c.add(e);var t=new C.q(16777215,4473924);t.position.set(0,200,0),c.add(t);var r=new C.j(16777215);r.position.set(0,200,10),c.add(r);var p=new C.j(16777215);p.position.set(0,10,200),c.add(p),(s=new C.rb({antialias:!0})).setPixelRatio(window.devicePixelRatio),s.setSize(window.innerWidth,window.innerHeight),s.outputEncoding=C.sb,0==i.childNodes.length&&i.appendChild(s.domElement),s.setClearColor(0),(u=new B.a(l,s.domElement)).dynamicDampingFactor=.2,u.domElement=i,u.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},u.keys=[18,17,91],window.addEventListener("resize",j),s.domElement.addEventListener("click",(function(){}),!1)}function j(){s.setSize(window.innerWidth,window.innerHeight),l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix()}function O(){Te=requestAnimationFrame(O);(new Date).getTime();!function(){k(),u.update();s.render(c,l)}()}function k(){V(Ye,m,Xe,2),D(M(m,64,64,4,4),f,72,72,_e);for(var e=0,t=0,r=0;r<b;r++)for(var n=0;n<A;n++){var i=10*f[t];v[t]=v[t]+(i-v[t]+.5)/et,h[e]=r*S-3600,h[e+1]=v[t]/$e,h[e+2]=n*S-3600;var l=J(0,Ze,v[t]);d[e]=l[0]/255,d[e+1]=l[1]/255,d[e+2]=l[2]/255,e+=3,t++}a.geometry.attributes.position.needsUpdate=!0,a.geometry.attributes.color.needsUpdate=!0,o.setAttribute("position",new C.d(h,3)),o.setAttribute("color",new C.d(d,3))}function F(e){var t=e.wsPointData;e.valuej,e.valueg,e.value,e.valuel,e.valuef,e.valuelInit;(Ge=t).reduce((function(e,t){return e+t}),0),Ge=Ge.map((function(e,t){return e-at<0?0:e-at}))}function P(e){var t=e.valuej,a=e.valueg,r=e.value,n=e.valuel,o=e.valuef,i=e.valuelInit;t&&t,a&&a,r&&r,n&&n,o&&(at=o),i&&i,Ge=Ge.map((function(e,t){return e-at<0?0:e-at})),Ge.reduce((function(e,t){return e+t}),0)}function N(e){var t=e.valuej,a=e.valueg,r=e.value,n=e.valuel,o=e.valuef,i=e.valuelInit;t&&(Ze=t),a&&(_e=a),r&&($e=r),n&&(et=n),o&&(tt=o),i&&(rt=i),Ye=Ye.map((function(e,t){return e-tt<0?0:e-tt})),Ye.reduce((function(e,t){return e+t}),0)<rt&&(Ye=new Array(1024).fill(0)),console.log(Ye,111)}function Q(e){x<50?x++:x=0;var t=e.wsPointData,a=(e.valuej,e.valueg,e.value,e.valuel,e.valuef,e.valuelInit);Ye=(Ye=t).map((function(e,t){return e-tt<0?0:e-tt})),Ye.reduce((function(e,t){return e+t}),0)<a&&(Ye=new Array(1024).fill(0))}function R(e){console.log(I.rotation),"number"===typeof e.x&&(I.rotation.x=-(2*Math.PI+4*e.x)/12),"number"===typeof e.y&&(I.rotation.y=6*-e.y/12)}function L(){console.log(l),console.log(111111),l.position.z=300,l.position.y=200,l.position.x=0,l.rotation._x=0,l.rotation._y=0,l.rotation._z=0,I.rotation.x=-2*Math.PI/12,I.rotation.y=0,I.position.x=-15,I.position.y=150,I.position.z=230}function U(e){"Shift"===e.key&&(u.mouseButtons=null,u.keys=null)}function z(e){"Shift"===e.key&&(u.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},u.keys=[18,17,91])}Object(r.useImperativeHandle)(t,(function(){return{backData:F,sitData:Q,changeDataFlag:p,sitValue:N,backValue:P,sitRenew:k,changeGroupRotate:R,reset:L}}));return Object(r.useEffect)((function(){return w(),O(),window.addEventListener("keydown",U),window.addEventListener("keyup",z),function(){cancelAnimationFrame(Te)}}),[]),Object(y.jsx)("div",{children:Object(y.jsx)("div",{id:"canvas"})})}))),ot=(new C.p,0),it=64,lt=32,ct=!0,st=(new Array(512).fill(0),new Array(512).fill(0),new Array(2048).fill(0)),ut=new Array(2048).fill(0),ht=!0,dt=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,gt=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,pt=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,mt=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,ft=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,vt=localStorage.getItem("ymax")?JSON.parse(localStorage.getItem("ymax")):200,xt=(localStorage.getItem("carValuej")&&JSON.parse(localStorage.getItem("carValuej")),localStorage.getItem("carValueg")&&JSON.parse(localStorage.getItem("carValueg")),localStorage.getItem("carValue")&&JSON.parse(localStorage.getItem("carValue")),localStorage.getItem("carValuel")&&JSON.parse(localStorage.getItem("carValuel")),localStorage.getItem("carValuef")&&JSON.parse(localStorage.getItem("carValuef")),localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2),bt=(localStorage.getItem("carValueInit")&&JSON.parse(localStorage.getItem("carValueInit")),n.a.forwardRef((function(e,t){var a,n,o,i,l,c,s,h,d,g,p,m,f,v,x,b=[],A=[],S=[],I=[],w=[0,0],j=[],O=function(){!0},k=(new Array(2048).fill(1),new Array(2880).fill(0),new Array(2880).fill(0),new Array(2880).fill(0),new Array(8192).fill(1)),F=new Array(9792).fill(0),P=(new Array(9792).fill(0),new Array(9792).fill(0)),V=(new C.h,136),Q=72,R=100,z=new C.p;function T(){h=document.getElementById("canvas"),(d=new C.V(40,window.innerWidth/window.innerHeight,1,15e4)).position.z=10,d.position.y=200,g=new C.fb;new E.a;!function(){var e=9792;f=new Float32Array(3*e),x=new Float32Array(e),v=new Float32Array(3*e);for(var t=0,a=0,r=0;r<V;r++)for(var n=0;n<Q;n++)f[t]=r*R-6800+20*r,f[t+1]=0,f[t+2]=n*R-3600,x[a]=1,v[t]=0,v[t+1]=0,v[t+2]=1,t+=3,a++;(c=new C.e).setAttribute("position",new C.d(f,3));var i=(new C.lb).load("./circle.png");l=new C.Z({vertexColors:!0,transparent:!0,map:i,size:1}),c.setAttribute("scale",new C.d(x,1)),c.setAttribute("color",new C.d(v,3)),(o=new C.Y(c,l)).scale.x=.0062,o.scale.y=.0062,o.scale.z=.0062,z.add(o)}(),function(){var e=new C.W(2,2),t=(new C.lb).load("./circle.png"),a=new C.L({color:10034170,map:t,transparent:!0});(i=new C.K(e,a)).rotation.x=-Math.PI/2,i.position.y=10,i.position.x=38,i.position.z=19.5,z.add(i)}(),z.position.x=3,z.position.y=110,z.position.z=5,g.add(z);var e=new C.o(2e3,100);e.position.y=-199,e.material.opacity=.25,e.material.transparent=!0,g.add(e);var t=new C.q(16777215,4473924);t.position.set(0,200,0),g.add(t);var a=new C.j(16777215);a.position.set(0,200,10),g.add(a);var r=new C.j(16777215);r.position.set(0,10,200),g.add(r),(p=new C.rb({antialias:!0})).setPixelRatio(window.devicePixelRatio),p.setSize(window.innerWidth,window.innerHeight),p.outputEncoding=C.sb,0==h.childNodes.length&&h.appendChild(p.domElement),p.setClearColor(0),(m=new B.a(d,p.domElement)).dynamicDampingFactor=.2,m.domElement=h,m.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},m.keys=[18,17,91],window.addEventListener("resize",G),p.domElement.addEventListener("click",(function(){}),!1),n=new q(p,m,"selectBox"),document.addEventListener("pointerdown",K),document.addEventListener("pointermove",H),document.addEventListener("pointerup",W)}function K(e){b=[],A=[],n.isShiftPressed&&(j=[],[],b=[e.clientX,e.clientY],a=X({particles:o,camera:d,position:{x:z.position.x,y:z.position.y,z:z.position.z}}),S=[a[0].x,a[0].y,a[1].x,a[1].y])}function H(e){n.isShiftPressed&&(A=[e.clientX,e.clientY],I=[].concat(Object(u.a)(b),Object(u.a)(A)),b[0]>A[0]?(I[0]=A[0],I[2]=b[0]):(I[0]=b[0],I[2]=A[0]),b[1]>A[1]?(I[1]=A[1],I[3]=b[1]):(I[1]=b[1],I[3]=A[1]))}function W(t){console.log("up");var a=Y(I,S);a&&(j=Z(S,a,V,Q)),e.changeSelect({sit:Object(u.a)(j)}),n.isShiftPressed&&(b=[],A=[])}function G(){p.setSize(window.innerWidth,window.innerHeight),d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix()}function _(){Ke=requestAnimationFrame(_);(new Date).getTime();!function(){i&&(i.position.x=48*w[0]/32-10,i.position.z=38.5*w[1]/32-19);i.visible=!ht;$(),ct?(m.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},m.keys=[18,17,91],m.update()):ct||(m.keys=[],m.mouseButtons=[]);p.render(g,d)}()}function $(){var t;ut=Object(u.a)(st).map((function(e,t){return e-ft<0?0:e}));for(var a=[],r=0;r<64;r++){for(var n=0,i=0;i<32;i++)n+=ut[64*i+r];ot+=(n/32-ot)/3,a.push(ot)}e.handleChartsBody1(a,vt/2),ut.reduce((function(e,t){return e+t}),0)<xt&&(ut=new Array(2048).fill(0)),N(ut,k,it,lt,2),D(M(k,64,128,4,4),F,72,136,gt),s=[];for(var l=0;l<V;l++){for(var h=0,d=0;d<Q;d++)h+=F[l*Q+d];s.push(parseInt(h/Q))}e.handleChartsBody(s,vt);for(var g=[],p=0,m=0,x=0;x<V;x++)for(var b=0;b<Q;b++){var A=10*F[m];P[m]=P[m]+(A-P[m])/mt,f[p]=x*R-6800,f[p+1]=P[m]/pt,f[p+2]=b*R-3600;var S=void 0;j&&!j.every((function(e){return 0==e}))?x>=j[0]&&x<j[1]&&b>=j[2]&&b<j[3]?(S=J(0,dt,P[m]),g.push(F[m])):S=L(0,dt,P[m]):S=J(0,dt,P[m]),v[p]=S[0]/255,v[p+1]=S[1]/255,v[p+2]=S[2]/255,p+=3,m++}j.length&&!j.every((function(e){return 0==e}))||(g=F);var y=U(g=g.filter((function(e){return e>.025*dt}))),I=g.filter((function(e){return e>0})).length,w=g.reduce((function(e,t){return e+t}),0),O=w/(0==I?1:I);null===(t=e.data.current)||void 0===t||t.changeData({meanPres:O.toFixed(2),maxPres:y,point:I,totalPres:w}),o.geometry.attributes.position.needsUpdate=!0,o.geometry.attributes.color.needsUpdate=!0,c.setAttribute("position",new C.d(f,3)),c.setAttribute("color",new C.d(v,3))}function ee(){console.log(JSON.stringify(s))}function te(e){var t=e.wsPointData;t}function ae(e){var t=e.valuej,a=e.valueg,r=e.value,n=e.valuel,o=e.valuef,i=e.valuelInit,l=e.ymax;t&&(dt=t),a&&(gt=a),r&&(pt=r),n&&(mt=n),o&&(ft=o),i&&(xt=i),l&&(vt=l)}function re(e){var t=e.wsPointData,a=e.arr;a&&(w=a),st=t}function ne(e){"number"===typeof e.x&&(z.rotation.x=-6*e.x/12),"number"===typeof e.z&&(z.rotation.z=6*e.z/12)}function oe(e){ht=e}function ie(e){ct=e,n.isShiftPressed=!e}function le(){d.position.z=300,d.position.y=200,d.position.x=0,d.rotation._x=0,d.rotation._y=0,d.rotation._z=0,z.rotation.x=-2*Math.PI/12,z.rotation.y=0,z.position.x=-15,z.position.y=150,z.position.z=230}function ce(e){"Shift"===e.key&&(m.mouseButtons=null,m.keys=null)}function se(e){"Shift"===e.key&&(m.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},m.keys=[18,17,91])}Object(r.useImperativeHandle)(t,(function(){return{backData:te,sitData:re,changeDataFlag:O,sitValue:ae,logData:ee,sitRenew:$,changeGroupRotate:ne,reset:le,changeSelectFlag:ie,changeCenterFlag:oe}}));return Object(r.useEffect)((function(){return T(),_(),window.addEventListener("keydown",ce),window.addEventListener("keyup",se),function(){cancelAnimationFrame(Ke),document.removeEventListener("pointerdown",K),document.removeEventListener("pointermove",H),document.removeEventListener("pointup",W),n.dispose()}}),[]),Object(y.jsx)("div",{children:Object(y.jsx)("div",{id:"canvas"})})}))),At=(new C.p,[]),St=[],yt=[],It=[],wt=[],jt=[],Ot=[],Ct=10,Et=!0,Bt=new Array(512).fill(0),kt=new Array(100).fill(0),Ft=localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,Pt=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,Vt=localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,Nt=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,Mt=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,Dt=(localStorage.getItem("carValuej")&&JSON.parse(localStorage.getItem("carValuej")),localStorage.getItem("carValueg")&&JSON.parse(localStorage.getItem("carValueg")),localStorage.getItem("carValue")&&JSON.parse(localStorage.getItem("carValue")),localStorage.getItem("carValuel")&&JSON.parse(localStorage.getItem("carValuel")),localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2),Jt=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,Qt=(localStorage.getItem("carValueInit")&&JSON.parse(localStorage.getItem("carValueInit")),n.a.forwardRef((function(e,t){var a,n,o,i,l,c,s,h,d,g,p,m=function(){!0},f=(new Array(2048).fill(1),new Array(2448).fill(1),new Array(2448).fill(1),new Array(2448).fill(1),new Array(1600).fill(1)),v=new Array(1936).fill(1),x=(new Array(1936).fill(1),new Array(1936).fill(1)),b=0,A=(new C.h,44),S=44,I=100,w=new C.p;function j(){i=document.getElementById("canvas"),(l=new C.V(40,window.innerWidth/window.innerHeight,1,15e4)).position.z=300,l.position.y=200,c=new C.fb;new E.a;!function(){var e=1936;d=new Float32Array(3*e),p=new Float32Array(e),g=new Float32Array(3*e);for(var t=0,r=0,i=0;i<A;i++)for(var l=0;l<S;l++)d[t]=i*I-2200,d[t+1]=0,d[t+2]=l*I-2200+30*l,p[r]=1,g[t]=0,g[t+1]=0,g[t+2]=1,t+=3,r++;(o=new C.e).setAttribute("position",new C.d(d,3));var c=(new C.lb).load("./circle.png");n=new C.Z({vertexColors:!0,transparent:!0,map:c,size:2}),o.setAttribute("scale",new C.d(p,1)),o.setAttribute("color",new C.d(g,3)),(a=new C.Y(o,n)).scale.x=.0062,a.scale.y=.0062,a.scale.z=.0062,a.rotation.x=Math.PI/2,w.add(a)}(),w.rotation.x=-2*Math.PI/12,w.position.x=-15,w.position.y=150,w.position.z=230,c.add(w);var e=new C.o(2e3,100);e.position.y=-199,e.material.opacity=.25,e.material.transparent=!0,c.add(e);var t=new C.q(16777215,4473924);t.position.set(0,200,0),c.add(t);var r=new C.j(16777215);r.position.set(0,200,10),c.add(r);var u=new C.j(16777215);u.position.set(0,10,200),c.add(u),(s=new C.rb({antialias:!0})).setPixelRatio(window.devicePixelRatio),s.setSize(window.innerWidth,window.innerHeight),s.outputEncoding=C.sb,0==i.childNodes.length&&i.appendChild(s.domElement),s.setClearColor(0),(h=new B.a(l,s.domElement)).dynamicDampingFactor=.2,h.domElement=i,h.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},h.keys=[18,17,91],window.addEventListener("resize",P),s.domElement.addEventListener("click",(function(){}),!1),We=new q(s,h,"selectBox"),document.addEventListener("pointerdown",O),document.addEventListener("pointermove",k),document.addEventListener("pointerup",F)}function O(t){We.isShiftPressed&&(jt=[],Ot=[],e.changeSelect({sit:jt,back:Ot}),At=[t.clientX,t.clientY],He=X({particles:a,camera:l,position:{x:-10,y:-20,z:0}}),yt=[He[0].x,He[0].y,He[1].x,He[1].y])}function k(t){if(We.isShiftPressed&&(St=[t.clientX,t.clientY],wt=[].concat(Object(u.a)(At),Object(u.a)(St)),At[0]>St[0]?(wt[0]=St[0],wt[2]=At[0]):(wt[0]=At[0],wt[2]=St[0]),At[1]>St[1]?(wt[1]=St[1],wt[3]=At[1]):(wt[1]=At[1],wt[3]=St[1]),!Et)){var a=Y(wt,yt),r=Y(wt,It);a&&(jt=Z(yt,a,A,S)),r&&(Ot=Z(It,r,36,68)),e.changeSelect({sit:jt,back:Ot})}}function F(e){We.isShiftPressed&&(At=[],St=[])}function P(){s.setSize(window.innerWidth,window.innerHeight),l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix()}function N(){qe=requestAnimationFrame(N);(new Date).getTime();!function(){Q(),h.update();s.render(c,l)}()}function Q(){V(kt,f,Ct,4),D(M(f,40,40,2,2),v,44,44,Pt);for(var e=0,t=0,r=0;r<A;r++)for(var n=0;n<S;n++){var i=10*v[t];x[t]=x[t]+(i-x[t]+.5)/Nt,d[e+1]=x[t]/Vt;var l=J(0,Ft,x[t]);g[e]=l[0]/255,g[e+1]=l[1]/255,g[e+2]=l[2]/255,e+=3,t++}a.geometry.attributes.position.needsUpdate=!0,a.geometry.attributes.color.needsUpdate=!0,o.setAttribute("position",new C.d(d,3)),o.setAttribute("color",new C.d(g,3))}function R(e){Et=e,We.isShiftPressed=!e}function L(e){var t=e.wsPointData;e.valuej,e.valueg,e.value,e.valuel,e.valuef,e.valuelInit;(Bt=t).reduce((function(e,t){return e+t}),0),Bt=Bt.map((function(e,t){return e-Dt<0?0:e-Dt}))}function U(e){var t=e.valuej,a=e.valueg,r=e.value,n=e.valuel,o=e.valuef,i=e.valuelInit;t&&t,a&&a,r&&r,n&&n,o&&(Dt=o),i&&i,Bt=Bt.map((function(e,t){return e-Dt<0?0:e-Dt})),Bt.reduce((function(e,t){return e+t}),0)}function z(e){var t=e.valuej,a=e.valueg,r=e.value,n=e.valuel,o=e.valuef,i=e.valuelInit;t&&(Ft=t),a&&(Pt=a),r&&(Vt=r),n&&(Nt=n),o&&(Mt=o),i&&(Jt=i),kt=kt.map((function(e,t){return e-Mt<0?0:e-Mt})),kt.reduce((function(e,t){return e+t}),0)<Jt&&(kt=new Array(100).fill(0)),console.log(kt,111)}function T(e){b<50?b++:b=0;var t=e.wsPointData,a=(e.valuej,e.valueg,e.value,e.valuel,e.valuef,e.valuelInit);kt=(kt=t).map((function(e,t){return e-Mt<0?0:e-Mt})),kt.reduce((function(e,t){return e+t}),0)<a&&(kt=new Array(100).fill(0))}function K(e){console.log(w.rotation),"number"===typeof e.x&&(w.rotation.x=-(2*Math.PI+4*e.x)/12),"number"===typeof e.y&&(w.rotation.y=6*-e.y/12)}function H(){console.log(l),console.log(111111),l.position.z=300,l.position.y=200,l.position.x=0,l.rotation._x=0,l.rotation._y=0,l.rotation._z=0,w.rotation.x=-2*Math.PI/12,w.rotation.y=0,w.position.x=-15,w.position.y=150,w.position.z=230}function W(e){"Shift"===e.key&&(h.mouseButtons=null,h.keys=null)}function G(e){"Shift"===e.key&&(h.mouseButtons={LEFT:C.G.PAN,MIDDLE:C.G.ZOOM,RIGHT:C.G.ROTATE},h.keys=[18,17,91])}Object(r.useImperativeHandle)(t,(function(){return{backData:L,sitData:T,changeDataFlag:m,sitValue:z,backValue:U,sitRenew:Q,changeGroupRotate:K,reset:H,changeSelectFlag:R}}));return Object(r.useEffect)((function(){return j(),N(),window.addEventListener("keydown",W),window.addEventListener("keyup",G),function(){cancelAnimationFrame(qe)}}),[]),Object(y.jsx)("div",{children:Object(y.jsx)("div",{id:"canvas"})})})));a(171),a(172);var Rt,Lt,Ut=[{color:"#2A99FF",data:"\u8db3\u5f13\u5206\u7c7b"},{color:"#FF2A2A",data:"\u811a\u957f"}],zt=["footType","footLength"],Tt=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this)).state={total:0,leftValue:0,rightValue:0,leftProp:0,rightProp:0,footType:"\u6b63\u5e38",footLength:0},r.initCanvasrotate=r.initCanvasrotate.bind(Object(h.a)(r)),r.initCanvasrotate1=r.initCanvasrotate1.bind(Object(h.a)(r)),r.changeState=r.changeState.bind(Object(h.a)(r)),r}return Object(g.a)(a,[{key:"initCanvasrotate",value:function(e){Lt.clearRect(0,0,Rt.width,Rt.height);var t=document.querySelector(".canvasContent").getBoundingClientRect().width,a=(t-40)/2;Lt.width=t;Lt.save(),Lt.translate(20+a,20+a),Lt.rotate(e*Math.PI),Lt.lineWidth="".concat(10),Lt.beginPath(),Lt.arc(0,0,a,13*Math.PI/24,35*Math.PI/24),Lt.strokeStyle="#991BFA",Lt.stroke(),Lt.lineWidth="".concat(10),Lt.beginPath(),Lt.arc(0,0,a,37*Math.PI/24,11*Math.PI/24),Lt.strokeStyle="#01F1E3",Lt.stroke(),Lt.lineWidth="".concat(5),Lt.beginPath(),Lt.arc(a*(0-Math.sin(1*Math.PI/24)),a*(0-Math.cos(1*Math.PI/24)),2.5,35*Math.PI/24,11*Math.PI/24),Lt.strokeStyle="#991BFA",Lt.stroke(),Lt.beginPath(),Lt.arc(a*(0+Math.sin(1*Math.PI/24)),a*(0-Math.cos(1*Math.PI/24)),2.5,13*Math.PI/24,37*Math.PI/24),Lt.strokeStyle="#01F1E3",Lt.stroke(),Lt.rotate(-e*Math.PI),Lt.clearRect(-a-10,0,260,260),Lt.beginPath(),Lt.lineWidth="".concat(5),Lt.arc(a,0,2.5,0,Math.PI),Lt.strokeStyle="#01F1E3",Lt.stroke(),Lt.beginPath(),Lt.arc(-a,0,2.5,0,Math.PI),Lt.strokeStyle="#991BFA",Lt.stroke()}},{key:"initCanvasrotate1",value:function(e){Lt.clearRect(0,0,Rt.width,Rt.height);var t=document.querySelector(".canvasContent").getBoundingClientRect().width,a=(t-40)/2;Lt.width=t;Lt.save(),Lt.translate(20+a,20+a),Lt.rotate(e*Math.PI),Lt.lineWidth="".concat(10),Lt.beginPath(),Lt.arc(0,0,a,13*Math.PI/24,35*Math.PI/24),Lt.strokeStyle="#991BFA",Lt.stroke(),Lt.lineWidth="".concat(10),Lt.beginPath(),Lt.arc(0,0,a,37*Math.PI/24,11*Math.PI/24),Lt.strokeStyle="#01F1E3",Lt.stroke(),Lt.lineWidth="".concat(5),Lt.beginPath(),Lt.arc(a*(0-Math.sin(1*Math.PI/24)),a*(0-Math.cos(1*Math.PI/24)),2.5,35*Math.PI/24,11*Math.PI/24),Lt.strokeStyle="#991BFA",Lt.stroke(),Lt.beginPath(),Lt.arc(a*(0+Math.sin(1*Math.PI/24)),a*(0-Math.cos(1*Math.PI/24)),2.5,13*Math.PI/24,37*Math.PI/24),Lt.strokeStyle="#01F1E3",Lt.stroke(),Lt.rotate(-e*Math.PI),Lt.clearRect(-a-10,0,260,260),Lt.beginPath(),Lt.lineWidth="".concat(5),Lt.arc(a,0,2.5,0,Math.PI),Lt.strokeStyle="#01F1E3",Lt.stroke(),Lt.beginPath(),Lt.arc(-a,0,2.5,0,Math.PI),Lt.strokeStyle="#991BFA",Lt.stroke(),Lt.translate(-(20+a),-(20+a))}},{key:"changeState",value:function(e){this.setState(e)}},{key:"componentDidMount",value:function(){Rt=document.getElementById("time_graph_canvas"),Lt=Rt.getContext("2d"),this.initCanvasrotate1(-1/3)}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.width,r=t.height,n=(t.canvaswidth,t.canvasheight);return Object(y.jsxs)("div",{style:{width:a,height:r,padding:10},children:[Object(y.jsxs)("div",{className:"canvasContent",children:[Object(y.jsx)("canvas",{id:"time_graph_canvas",height:n}),Object(y.jsxs)("div",{style:{position:"absolute",left:"50%",top:"70%",transform:"translate(-50% , -50%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(y.jsx)("div",{children:"Total Press"}),Object(y.jsx)("h2",{style:{color:"#fff"},children:this.state.total})]})]}),Object(y.jsxs)("div",{className:"customInfo",children:[Object(y.jsxs)("div",{className:"chartCircleContentCloumn",children:[Object(y.jsxs)("div",{className:"chartCircleContent",children:[Object(y.jsx)("div",{className:"chartCircle"}),Object(y.jsx)("div",{children:"left"})]}),Object(y.jsxs)("div",{children:[this.state.leftValue,"+",this.state.leftProp,"%"]})]}),Object(y.jsxs)("div",{className:"chartCircleContentCloumn",children:[Object(y.jsxs)("div",{className:"chartCircleContent",children:[Object(y.jsx)("div",{className:"chartCircleright"}),Object(y.jsx)("div",{children:"right"})]}),Object(y.jsxs)("div",{children:[this.state.rightValue,"+",this.state.rightProp,"%"]})]})]}),Object(y.jsx)("div",{children:Ut.map((function(t,a){return Object(y.jsxs)("div",{className:"dataItem",children:[Object(y.jsxs)("div",{className:"dataItemCircle",children:[Object(y.jsx)("div",{className:"circleItem",style:{backgroundColor:t.color}}),Object(y.jsx)("div",{children:t.data})]}),Object(y.jsxs)("div",{children:[e.state[zt[a]]," ","\u8db3\u5f13\u5206\u7c7b"===Ut[a].data?Number(e.state.footValue).toFixed(2):null]})]},t.eng)}))})]})}}]),a}(n.a.Component);Tt.defaultProps={canvaswidth:200,canvasheight:130,x0:80,y0:80,r:72,lineWidth:16,strokeStyle:"rgba(248, 248, 248, 1)",LinearGradientColor1:"#3EECED",LinearGradientColor2:"#499BE6"};var Kt,Ht,qt,Wt,Xt=[{color:"#FFA63F",data:"\u70b9\u6570",eng:"Points"},{color:"#2A99FF",data:"\u9762\u79ef",eng:"Area"}],Gt=[{color:"#2A99FF",data:"\u5e73\u5747\u538b\u529b",eng:"Mean Pres"},{color:"#FF2A2A",data:"\u6700\u5927\u538b\u529b",eng:"Max Pres"},{color:"#FFA63F",data:"\u70b9\u6570",eng:"Points"},{color:"#2A99FF",data:"\u9762\u79ef",eng:"Area"}],Yt=[{color:"#2A99FF",data:"\u5e73\u5747\u538b\u529b",eng:"Mean Pres"},{color:"#FF2A2A",data:"\u6700\u5927\u538b\u529b",eng:"Max Pres"},{color:"#FF2A2A",data:"\u538b\u529b\u603b\u548c",eng:"Pressure"}],Zt=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(g.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!1}},{key:"render",value:function(){return console.log(this.props),Object(y.jsx)(y.Fragment,{children:this.props.children})}}]),a}(n.a.Component),_t=["meanPres","maxPres","totalPres","presStan"],$t=["point","area"],ea=["meanPres","maxPres","point","area"],ta=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={totalPres:0,meanPres:0,minPres:0,point:0,maxPres:0,area:0,pressure:0,presStan:0,pressMult:localStorage.getItem("valueMult")?JSON.parse(localStorage.getItem("valueMult")):1,fontSize:1},e.canvas=n.a.createRef(),e}return Object(g.a)(a,[{key:"changePressMult",value:function(e){this.setState({pressMult:e})}},{key:"componentDidMount",value:function(){this.setState({fontSize:window.innerWidth/1920});var e=document.getElementById("myChart1");e&&(Kt=e.getContext("2d"));var t=document.getElementById("myChart2");t&&(Ht=t.getContext("2d"));var a=document.getElementById("myChart3");a&&(qt=a.getContext("2d"))}},{key:"componentDidUpdate",value:function(){var e=document.getElementById("myChart1");e&&(Kt=e.getContext("2d"));var t=document.getElementById("myChart2");t&&(Ht=t.getContext("2d"));var a=document.getElementById("myChart3");a&&(qt=a.getContext("2d"))}},{key:"drawChart",value:function(e){var t=e.ctx,a=e.arr,r=e.max,n=e.canvas,o=e.index,i=a.map((function(e){return 150*e/r}));t.clearRect(0,0,n.width,n.height);var l=n.width/(i.length+1);t.beginPath(),t.setLineDash([]),t.moveTo(l,n.height-i[0]);for(var c=1;c<i.length-2;c++){var s=(l*(c+1)+l*(c+2))/2,u=(n.height-i[c+1]+n.height-i[c+2])/2;t.quadraticCurveTo(l*(c+1),n.height-i[c+1],s,u)}t.quadraticCurveTo(l*(i.length-1),n.height-i[i.length-1],l*i.length,n.height-i[i.length-1]),t.strokeStyle="#991BFA",t.lineWidth=2,t.stroke(),null!=o&&(t.beginPath(),t.moveTo(l*o,n.height),t.lineTo(l*o,0),t.strokeStyle="#01F1E3",t.lineWidth=2,t.setLineDash([3,3]),t.stroke(),t.font="48px serif",t.fillStyle="#01F1E3",t.fillText(a[o-1],l*o,n.height-30))}},{key:"componentWillUnmount",value:function(){}},{key:"handleCharts",value:function(e,t,a){var r=document.getElementById("myChart1");this.drawChart({ctx:Kt,arr:e,max:t,canvas:r,index:a})}},{key:"handleChartsArea",value:function(e,t,a){var r=document.getElementById("myChart2");this.drawChart({ctx:Ht,arr:e,max:t,canvas:r,index:a})}},{key:"handleChartsBody",value:function(e,t,a){var r=document.getElementById("myChart3");r&&this.drawChart({ctx:qt,arr:e,max:t,canvas:r,index:a})}},{key:"initCharts",value:function(){var e=document.getElementById("myChart1");Kt&&e&&Kt.clearRect(0,0,e.width,e.height);var t=document.getElementById("myChart2");Ht&&Ht.clearRect(0,0,t.width,t.height);var a=document.getElementById("myChart3");qt&&qt.clearRect(0,0,a.width,a.height)}},{key:"changeData",value:function(e){this.setState(e)}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"aside",children:[Object(y.jsx)("div",{className:"asideContent firstAside",children:"foot"!=this.props.matrixName?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h2",{className:"asideTitle",children:"Pressure Area"}),Object(y.jsx)("canvas",{id:"myChart2",style:{height:"".concat(150*this.state.fontSize,"px"),width:"100%"}}),Object(y.jsx)(y.Fragment,{children:Xt.map((function(t,a){return Object(y.jsxs)("div",{className:"dataItem",children:[Object(y.jsxs)("div",{className:"dataItemCircle",children:[Object(y.jsx)("div",{className:"circleItem",style:{backgroundColor:t.color}}),Object(y.jsx)("div",{children:t.data})]}),Object(y.jsxs)("div",{className:"dataIteminfo",children:[Object(y.jsx)("div",{className:"standardColor",children:t.eng}),Object(y.jsx)("div",{children:"area"===$t[a]?Object(y.jsxs)("div",{children:[parseInt(2.1*e.state[$t[a]])," ",Object(y.jsx)("span",{style:{color:"#999"},children:"cm\xb2"})]}):Object(y.jsxs)("div",{children:[e.state[$t[a]]," ",Object(y.jsx)("span",{style:{color:"#999"},children:"\u4e2a"})]})})]})]},t.eng)}))})," "]}):Object(y.jsxs)(Zt,{children:[" ",Object(y.jsx)(Tt,{ref:this.canvas})]})}),Object(y.jsxs)("div",{className:"asideContent firstAside",children:[Object(y.jsx)("h2",{className:"asideTitle",children:"Pressure Data"}),Object(y.jsx)("span",{className:"pressData",children:(this.state.pressure*this.state.pressMult).toFixed(2)})," ",Object(y.jsx)("span",{style:{color:"#999"},children:"mmgH"}),"foot"!=this.props.matrixName?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"pressTitle standardColor",children:"\u603b\u4f53\u538b\u529b Total Pres"}),Object(y.jsx)("canvas",{id:"myChart1",style:{height:"".concat(150*this.state.fontSize,"px"),width:"100%"}}),Yt.map((function(t,a){return Object(y.jsxs)("div",{className:"dataItem",children:[Object(y.jsxs)("div",{className:"dataItemCircle",children:[Object(y.jsx)("div",{className:"circleItem",style:{backgroundColor:t.color}}),Object(y.jsx)("div",{children:t.data})]}),Object(y.jsxs)("div",{className:"dataIteminfo",children:[Object(y.jsx)("div",{className:"standardColor",children:t.eng}),Object(y.jsxs)("div",{children:[e.state[_t[a]]," ",Object(y.jsx)("span",{style:{color:"#999"},children:"N"})]})]})]},t.eng)}))]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"pressTitle standardColor",children:"\u603b\u4f53\u9762\u79ef Total Area"}),Object(y.jsx)("canvas",{id:"myChart2",style:{height:"150px",width:"100%"}}),Gt.map((function(t,a){return Object(y.jsxs)("div",{className:"dataItem",children:[Object(y.jsxs)("div",{className:"dataItemCircle",children:[Object(y.jsx)("div",{className:"circleItem",style:{backgroundColor:t.color}}),Object(y.jsx)("div",{children:t.data})]}),Object(y.jsxs)("div",{className:"dataIteminfo",children:[Object(y.jsx)("div",{className:"standardColor",children:t.eng}),Object(y.jsx)("div",{children:e.state[ea[a]]})]})]},t.eng)}))]})]})]})}}]),a}(n.a.Component),aa=(a(173),a(184)),ra=function(e){return e<0?0:e>580?580:e},na=function(e){var t=e.value,a=e.type,r=e.length;return"line"===a?Math.floor((t-20)/560*(r-1)):Math.floor(t/580*(r-1))},oa=[{value:.25,label:"0.25X"},{value:.5,label:"0.5X"},{value:1,label:"1.0X"},{value:1.5,label:"1.5X"},{value:2,label:"2.0X"}],ia=n.a.forwardRef((function(e,t){var a=Object(r.useState)(!1),n=Object(W.a)(a,2),o=n[0],i=n[1],l=Object(r.useState)(!1),c=Object(W.a)(l,2),s=c[0],u=c[1],h=Object(r.useState)(!1),d=Object(W.a)(h,2),g=d[0],p=d[1],m=Object(r.useState)(!1),v=Object(W.a)(m,2),x=v[0],b=v[1],A=Object(r.useState)(),S=Object(W.a)(A,2),I=(S[0],S[1],function(e){Wt||(Wt=setTimeout((function(){e(),Wt=null}),100))}),w=function(t){if(s){var a=document.querySelector(".progress").getBoundingClientRect().x,r=parseInt(document.querySelector(".rightProgress").style.left),n=ra(t.clientX-a-10);document.querySelector(".leftProgress").style.left="".concat(n>r-20?r-20:n,"px");var o=parseInt(document.querySelector(".leftProgress").style.left),i=parseInt(document.querySelector(".progressLine").style.left);if(console.log(i,t.clientX-a+10,document.querySelector(".progressLine").style.left),i<t.clientX-a+10){document.querySelector(".progressLine").style.left="".concat(ra(o+20),"px");var l=na({value:o,type:"line",length:e.length});I((function(){e.wsSendObj({value:l})}))}var c=[na({value:o,length:e.length}),na({value:r,length:e.length})];I((function(){e.wsSendObj({indexArr:c})}))}if(g){var u=document.querySelector(".progress").getBoundingClientRect().x,h=parseInt(document.querySelector(".leftProgress").style.left),d=(t.clientX,ra(t.clientX-u-10));document.querySelector(".rightProgress").style.left="".concat(d<h+20?h+20:d,"px");var p=parseInt(document.querySelector(".rightProgress").style.left);if(parseInt(document.querySelector(".progressLine").style.left)>t.clientX-u-10){document.querySelector(".progressLine").style.left="".concat(ra(p),"px");var m=na({value:p,type:"line",length:e.length});I((function(){e.wsSendObj({value:m})}))}var f=[na({value:h,length:e.length}),na({value:p,length:e.length})];I((function(){e.wsSendObj({indexArr:f})}))}if(x){var v=document.querySelector(".progress").getBoundingClientRect().x,b=(t.clientX,parseInt(document.querySelector(".leftProgress").style.left)),A=parseInt(document.querySelector(".rightProgress").style.left);document.querySelector(".progressLine").style.left="".concat(ra(t.clientX-v<b+20?b+20:t.clientX-v>A?A:t.clientX-v),"px");var S,y,w=parseInt(document.querySelector(".progressLine").style.left),j=na({value:w,type:"line",length:e.length});if(I((function(){e.wsSendObj({value:j})})),e.areaArr)null===(S=e.data.current)||void 0===S||S.handleChartsArea(e.areaArr,e.max+100,j+1);if(e.pressArr&&("car"==e.matrixName||"bigBed"==e.matrixName))null===(y=e.data.current)||void 0===y||y.handleCharts(e.pressArr,e.pressMax+100,j+1)}},j=function(){u(!1),p(!1),b(!1)};Object(r.useEffect)((function(){return console.log("useEffect"),window.addEventListener("mousemove",w),window.addEventListener("mouseup",j),function(){console.log("remove"),window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",j)}}),[o,s,g,x]);var O=function(t){e.wsSendObj({play:t}),i(t)},C=function(t){if(t<=e.length){var a=document.querySelector(".progressLine"),r=20+560*t/(e.length?e.length:1),n=(document.querySelector(".progress").getBoundingClientRect().x,parseInt(document.querySelector(".leftProgress").style.left)),o=parseInt(document.querySelector(".rightProgress").style.left);a.style.left="".concat(20+560*t/(e.length?e.length:1),"px");var l,c,s=ra(r<n+20?n+20:r>o?o:r);if(document.querySelector(".progressLine").style.left="".concat(s,"px"),e.areaArr)null===(l=e.data.current)||void 0===l||l.handleChartsArea(e.areaArr,e.max+100,t+1),t==e.areaArr.length&&(e.wsSendObj({play:!1}),i(!1));if(e.pressArr&&("car"==e.matrixName||"bigBed"==e.matrixName||"car10"==e.matrixName||"sit10"==e.matrixName))null===(c=e.data.current)||void 0===c||c.handleCharts(e.pressArr,e.pressMax+100,t+1)}};return Object(r.useImperativeHandle)(t,(function(){return{changeIndex:C}})),Object(y.jsxs)("div",{className:"progressContent",children:[Object(y.jsxs)("div",{className:"progress",onClick:function(t){var a,r=document.querySelector(".progress").getBoundingClientRect().x,n=parseInt(document.querySelector(".leftProgress").style.left),o=parseInt(document.querySelector(".rightProgress").style.left),i=ra(t.clientX-r<n+20?n+20:t.clientX-r>o?o:t.clientX-r);document.querySelector(".progressLine").style.left="".concat(i,"px");var l,c=parseInt(document.querySelector(".progressLine").style.left),s=na({value:c,type:"line",length:e.length});(e.wsSendObj({value:s}),e.areaArr&&(null===(a=e.data.current)||void 0===a||a.handleChartsArea(e.areaArr,e.max+100,s+1)),!e.pressArr||"car"!=e.matrixName&&"bigBed"!=e.matrixName&&"sit10"!=e.matrixName)||(null===(l=e.data.current)||void 0===l||l.handleCharts(e.pressArr,e.pressMax+100,s+1))},children:[Object(y.jsx)("div",{style:{border:s?"1px solid #991BFA":"0px",left:0},className:"leftProgress",onMouseDown:function(e){e.stopPropagation(),u(!0)},onClick:function(e){e.stopPropagation()}}),Object(y.jsx)("div",{style:{border:g?"1px solid #991BFA":"0px",left:"580px"},className:"rightProgress",onMouseDown:function(e){p(!0)},onClick:function(e){e.stopPropagation()}}),Object(y.jsx)("div",{className:"progressLine",style:{left:20},onMouseDown:function(e){b(!0)}})]}),Object(y.jsxs)("div",{className:"playContent",children:[Object(y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAACW1JREFUeF7tnW9yE0cQR2eFuYc5SewPAVdBqrhB8A2cXCD4AqAb2NyAKkSVYz7gm+B7BLyppRBRbEk70zs92zP98i2l+bPzul/mJ8uxusA/EIDATgIdbCAAgd0EEITugMAeAghCe0AAQegBCMgIcIPIuDHLCQEEcVJojikjgCAybsxyQgBBnBSaY8oIIIiMG7OcEEAQJ4XmmDICCCLjxiwnBBDESaE5powAgsi4McsJAQRxUmiOKSOAIDJuzHJCoBpBXp6cHX4N4XCoy+pqeeOkPhxzZgKmBfnt1z9f3S3ufun67tV9Tn0It13oLw8W4d37q+XtzBzZvlECJgX5flt86y5CF47GuK9FWV0vz8fG8joEUgmYE+TFydlRuOs+px4EUVKJMT6GgClBpHJsHvS7KIv+lPcpMeVnzBgBU4I8f/rHl+7HG/GxB9/3OrfJFHrM3SRgRpDnz84utr0Zn1IuRJlCj7kDATuCZLo9tpV1EOXxoj/mp100fSoBE4IMP87tu/4i9eFTxnObpNBi7JqAG0HWB0YUmj+FgAlBNN5/jEEgdo0R4nUz70HmEGQ4PLcJEowRcHuDPPjsJPSXfBo/1i7+XkeQjZoTu/wJMHZiBLlHiNg11jK+XkeQHfVGFF8i7Dotgoz1QR9uDh71p3zIOAaqzdcRJKKu3CYRkBodgiAJhUWUBFiNDEUQSSGJXRJqVc5BEGHZuE2E4CqbhiATCzaIsui78w+f3lxOXIrpBgkgSKai9F1/+bgL5/y0KxNQI8sgSMZCELsywjSyFIIoFILYpQB1piURRBE8sUsRbqGlEUQZNLFLGbDy8giiDHi9PH+OqBDozNsgSGagY8sRu8YI2XodQWaoB7FrBujCLRFECC7HNGJXDoq6ayCILt+o1YldUZhmGYQgs2B/uCmxy0gh7j0GghirC7HLVkEQxFY9Np6mf82XA81fHASZvwY7n4DYNX9xEGT+Gow+AbFrFJHaAARRQ6uxMLFLg+q+NRGkNPGJ+xG7JgJMnI4gicCsDCd2lakEgpThrLILt4kK1v8tiiD6jNV3QBQ9xAiix7b4yvzx7fzIESQ/01lX5DbJix9B8vI0sxqi5CkFguThaHYVYte00iDINH5VzOY2kZcJQeTsqpuJKOklQ5B0ZtXPIHbFlxBB4lk1NZLbJK6cCBLHqdlRiLK/tAjSbOunHYzYtZ0XgqT1UdOjuU0elhdBmm552eEQ5T9uCCLrIR+z+Kq5gCA+Wl18Su+3CYKIW8fXRK/feYIgvvp88mm9/RVIBJncMv4W8BS7EMRff2c7sYfYhSDZ2sXvQi3HLgTx29dZT95q7EKQrG3CYq39OSIEoadVCLQSuxBEpT1YdCDQQuxCEHpZnUDNsQtB1NuDDdYEaoxdCEL/FiVQW+xCkKLtwWY/b5MQbrtFf7q6Wt5YpoIglqvj4Nmsxy4EcdCE1o9oOXYhiPXucfR8Fn/ahSCOGrCeo9r5qjkEqadrXD2pldiFIK7arr7Dzh27EKS+nnH3xHPeJgjirt3qPfAgysfrt09KngBBStJmr8kEhs9NPv69PJ28UOQCCBIJimF2CHR9d/rh05vLEk+EICUos0dWAiWjFoJkLR2LFSOw6I9L/B4XghSrKBtlJdCHm9Wnt8dZ19yyGIJoE2Z9FQKlYhaCqJSPRbUJIIg2YdavnsDq+q36f+DVN4ipwvNnZxdd372KGcsYCAwEuEHoAwjsIVDqA0NuENqwSgKlPixEkCrbg4cu8f5joIwg9Fp1BErdHghSXWvwwKHQB4Rr0twg9Fw9BArLwQ1ST2vwpKF/vbpenpcGwQ1Smjj7JRHgf7kNIfBBYVLPuBg85/9muwmYG8RFu9V2yHni1DZKCFJb7zT8vHPHKQRpuLlqPpqVOIUgNXdRo89e6neqpPiIWFJyzJtEwGKc4gaZVFIm5yBgOU4hSI4Ks4aYgPU4hSDi0jJxCoFa4hSCTKkyc4UE7HymITkAb9Il1JgzTmCGXywcf6j0EQiSzowZewjUHKeIWLS2MoG64xSCKLeH2+X7cHPwqD99f7W8bY0BEau1ihY8T2txihukYPO0v1V7cQpB2u9a/RM2HKcQRL99mt3BQ5xCkGbbV/tgPuIUgmj3UWvrO4tTCNJaAyudx2ucQhClhmprWb9xCkHa6uS8pyFObeXJB4V526y61YY4tei781Jfq1wbIASprWJZn5c4NYYTQcYItfg6cSq6qggSjar+gcSp9BoiSDqzSmcQpySFQxAJtYrmDLfG40V/3OKvopcoA4KUoDzDHrX9eZ0ZEEVtiSBRmGobRJzKVTEEyUXSwDr8ikj+IiBIfqbFVyRO6SFHED22hVYmTmmCRhBNuoprE6cU4W4sjSBlOGfbhTiVDWXUQggShcnKIOJU6UogSGnigv2IUwJomaYgSCaQGssQpzSopq2JIGm8io2u8bs0isEpuBGCFIQdsxVxKoZSuTEIUo713p2IU0YKce8xEMRAXYhTBoqw4xEQZMbaEKdmhB+5NYJEgso/jM808jPNvyKC5Ge6f8VGvpqsNLa59kOQQuSJU4VAZ94GQTID3b4ccaoIZoVNEEQB6s8liVOadIusjSAKmIlTClBnWhJBsoMnTmVHOuOCCJILPn+tMBdJU+sgyMRyEKcmAjQ+HUEmFYg4NQlfBZMRRFIk4pSEWpVzECShbMSpBFiNDEWQ6EISp6JRNTQQQcaKSZwaI9T06wiyo7x8l0bTfR99OATZioo4Fd1BjQ9EkM0CE6cab/f04yFICIE4ld44XmYgSCBOeWl2yTndCsJXk0naxd8cE4K8eHr2Vwjd6xL4+fM6JSi3s4cNQU7OjsJd91kfK3FKn3FbO5gQ5OXJ2eHXu+6LFlrilBbZ9tc1IciAWSNmEafab2DtE5oRZLhF/rnrPnchHOY5NHEqD0ffq5gRZChDjqjFb9z6bujcpzclyJSoRZzK3RqsNxAwJ8j6JkmLW8Qp2lmHgElB1pJ8+7Y46kP/e+jC0f3jr2+Mg0V49/5qeauDh1W9EzAryGZhhvcmw79//fEGfnW1vPFeOM5fhkAVgpRBwS4QeEgAQegKCOwhgCC0BwQQhB6AgIwAN4iMG7OcEEAQJ4XmmDICCCLjxiwnBBDESaE5powAgsi4McsJAQRxUmiOKSOAIDJuzHJCAEGcFJpjygggiIwbs5wQQBAnheaYMgIIIuPGLCcEEMRJoTmmjMC/lX+PFInbSdgAAAAASUVORK5CYII=",style:{width:"50px",display:o?"none":"unset"},onClick:function(){e.dataTime?O(!0):aa.a.info("\u8bf7\u5148\u9009\u62e9\u56de\u653e\u6570\u636e\u65f6\u95f4\u6bb5")},alt:""}),Object(y.jsx)("img",{src:"data:image/png;base64,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",style:{width:"50px",display:o?"unset":"none"},onClick:function(){O(!1)},alt:""}),Object(y.jsx)("div",{style:{position:"absolute",right:"30%"},children:Object(y.jsx)(f.a,{defaultValue:"1.0X",style:{width:80},onChange:function(t){e.wsSendObj({speed:t})},placement:"topLeft",options:oa})}),Object(y.jsxs)("div",{style:{position:"absolute",left:"calc(50% - 300px)"},children:[Object(y.jsx)("span",{style:{color:"#fff"},children:K(e.time)}),"bigBed"===e.matrixName?Object(y.jsx)("input",{type:"text",onChange:function(t){var a=Number(t.target.value),r=document.querySelector(".progressLine");e.wsSendObj({value:a}),r.style.left="".concat(20+560*a/(e.length?e.length:1),"px")}}):null]})]})]})}));function la(e){var t=e.wsPointData,a=(e.pressFlag,e.pressNumFlag,t.splice(0,32)),r=t.splice(0,480);t=a.concat(t,r);for(var n=[],o=0;o<32;o++)for(var i=0;i<1;i++)n[32*o+i]=t[32*o+i];for(var l=0;l<32;l++)for(var c=16;c<32;c++)n[32*l+c]=t[32*l+c-15];for(var s=0;s<32;s++)for(var h=1;h<16;h++)n[32*s+h]=t[32*s+16+h];for(var d=function(e,t,a){for(var r=Object(u.a)(e).map((function(e){return e<10?0:e})),n=[],o=[],i=0;i<a;i++){for(var l=0,c=0,s=0;s<t;s++)l+=r[i*t+s],c+=r[i+a*s];n.push(l),o.push(c)}var h=ga(n),d=ga(o);return[d=d||0,h=h||0]}(t=function(e){for(var t=Object(u.a)(e),a=[],r=[],n=0;n<32;n++){for(var o=0,i=0,l=0;l<32;l++)o+=t[32*l+n],i+=t[32*n+l];a.push(o),r.push(i)}for(var c=1;c<31;c++)if(r[c+1]>100&&r[c]<40&&r[c-1]>100)for(var s=0;s<32;s++)t[32*c+s]=(t[32*(c-1)+s]+t[32*(c+1)+s])/2;for(var h=0;h<32;h++)if(a[h+1]>100&&a[h]<40&&a[h-1]>100)for(var d=1;d<31;d++)t[32*d+h]=(t[32*(d-1)+h]+t[32*(d+1)+h])/2;return t}(t=n),32,32),g=[],p=[],m=0;m<32;m++){for(var f=0,v=0,x=0;x<32;x++)f+=t[32*x+m],v+=t[32*m+x];g.push(f),p.push(v)}t=ha({arr:t,width:32,height:32,type:"column",value:1621});for(var b=[],A=[],S=0;S<32;S++)for(var y=0;y<32;y++)y<16?b.push(t[32*S+y]):A.push(t[32*S+y]);return{sitData:b,backData:A,arr:d,realData:t}}function ca(e){var t=1.0572246920183572*Math.pow(10,-10),a=-5.855702965038056*Math.pow(10,-8),r=1.0252295732636971*Math.pow(10,-5);return e.map((function(e,n){return t*Math.pow(e,5)+a*Math.pow(e,4)+r*Math.pow(e,3)+.00023350459149557124*Math.pow(e,2)+-.01396799876544018*e+0}))}function sa(e){return(-.005051*Math.pow(e,2)+1.198526*e-38.228519).toFixed(2)}function ua(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"row",n=Object(u.a)(e);if("row"==r){for(var o=[],i=0;i<a;i++){for(var l=0,c=0;c<t;c++)l+=n[i*t+c];o.push(l)}for(var s=0;s<a;s++)for(var h=0;h<t;h++)n[s*t+h]=parseInt(n[s*t+h]/(1245-o[s]==0?1:1245-o[s])*1e3)}else{for(var d=[],g=0;g<a;g++){for(var p=0,m=0;m<t;m++)p+=n[m*a+g];d.push(p)}for(var f=0;f<a;f++)for(var v=0;v<t;v++)n[v*a+f]=parseInt(n[v*a+f]/(1245-d[f]==0?1:1245-d[f])*1e3)}return n}function ha(e){var t=e.arr,a=e.width,r=e.height,n=e.type,o=void 0===n?"row":n,i=e.value,l=Object(u.a)(t);if("row"==o){for(var c=[],s=0;s<r;s++){for(var h=0,d=0;d<a;d++)h+=l[s*a+d];c.push(h)}for(var g=0;g<r;g++)for(var p=0;p<a;p++)l[g*a+p]=parseInt(l[g*a+p]/(i-c[g]==0?1:i-c[g])*1e3)}else{for(var m=[],f=0;f<r;f++){for(var v=0,x=0;x<a;x++)v+=l[x*r+f];m.push(v)}for(var b=0;b<r;b++)for(var A=0;A<a;A++)l[A*r+b]=parseInt(l[A*r+b]/(i-m[b]==0?1:i-m[b])*1e3)}return l}function da(e,t,a){for(var r=Object(u.a)(e),n=0;n<t;n++)for(var o=0;o<a/2;o++){var i=[r[n*t+a-1-o],r[n*t+o]];r[n*t+o]=i[0],r[n*t+a-1-o]=i[1]}return r}function ga(e){for(var t=function(e){for(var t=[],a=-1,r=0;r<e.length;r++)0!==e[r]?-1===a&&(a=r):-1!==a&&(t.push(e.slice(a,r)),a=-1);-1!==a&&t.push(e.slice(a));return t}(e),a=function(e){for(var t=[],a=-1,r=0;r<e.length;r++)0!==e[r]?-1===a&&(a=r):-1!==a&&(t.push({start:a,end:r-1}),a=-1);-1!==a&&t.push({start:a,end:e.length-1});return t}(e),r=[{value:1,index:0}],n=0;n<t.length;n++){var o=t[n].reduce((function(e,t){return e+t}),0),i=pa(t[n],a[n].start,a[n].end);r.push({value:o,index:i})}return r.push({value:1,index:31}),function(e){var t,a=e;for(;a.length>1;){for(var r=[],n=0;n<a.length-1;n++){var o=a[n].value-(a[n].value-a[n+1].value)*a[n+1].value/(a[n].value+a[n+1].value),i=a[n].index+Math.abs(a[n].index-a[n+1].index)*a[n+1].value/(a[n].value+a[n+1].value);r.push({value:o,index:i})}a=r}return null===(t=a[0])||void 0===t?void 0:t.index}(r)}function pa(e,t,a){if(t===a)return t;for(var r,n,o=e.reduce((function(e,t){return e+t}),0),i=0,l=0,c=t;c<a;){if(!((i+=e[c])<o/2)){r=c;break}c++}for(var s=a-1;s>=t;){if(!((l+=e[s])<o/2)){n=s;break}s--}return parseInt((n+r)/2)?parseInt((n+r)/2):1}function ma(e){var t=e.length,a=Math.sqrt(t),r=a;if(a%1===0){for(var n=[],o=0;o<a;o++)n.push(e.slice(o*r,(o+1)*r));for(var i=new Array(r).fill().map((function(){return[]})),l=0;l<a;l++)for(var c=0;c<r;c++)i[c][a-1-l]=n[l][c];return i.flat()}console.error("\u8f93\u5165\u6570\u7ec4\u957f\u5ea6\u4e0d\u9002\u5408\u751f\u6210\u6b63\u65b9\u5f62\u4e8c\u7ef4\u6570\u7ec4\u3002")}function fa(e,t,a){return a<780?t-.05*e*a/60/13:a<1560?t-.05*e-.03*e*(a-780)/60/13:t-.08*e-.02*e*(a-1560)/120/13}var va,xa,ba,Aa,Sa=a(185),ya=a(186),Ia=a(187),wa=(a(174),localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200),ja=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,Oa=(localStorage.getItem("carValue")&&JSON.parse(localStorage.getItem("carValue")),localStorage.getItem("carValuel")&&JSON.parse(localStorage.getItem("carValuel")),localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2),Ca=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,Ea=n.a.forwardRef((function(e,t){var a=Object(r.useState)(new Array(32).fill(new Array(32).fill(0))),n=Object(W.a)(a,2),o=n[0],i=n[1],l=Object(r.useState)(1),c=Object(W.a)(l,2),h=c[0],d=c[1],g=function(e){console.log(e.length,Oa);var t=Object(u.a)(e),a=[],r=Object(u.a)(t).map((function(e,t){return e-Oa<0?0:e}));r.reduce((function(e,t){return e+t}),0)<Ca&&(r=new Array(1024).fill(1)),function(e,t,a,r,n){var o=function(e,t){var a=Math.sqrt(12*e*e/t+1),r=Math.floor(a);r%2==0&&r--;for(var n=r+2,o=(12*e*e-t*r*r-4*t*r-3*t)/(-4*r-4),i=Math.round(o),l=[],c=0;c<t;c++)l.push(c<i?r:n);return l}(n,3);v(e,t,a,r,(o[0]-1)/2),v(t,e,a,r,(o[1]-1)/2),v(e,t,a,r,(o[2]-1)/2)}(r,a,32,32,ja),e=a;for(var n=[],o=0;o<32;o++){n[o]=[];for(var l=0;l<32;l++)n[o].push(e[32*o+l])}i(n)},p=function(e){console.log(e);var t=e.valuej,a=e.valueg,r=e.value,n=e.valuel,o=e.valuef,i=e.valuelInit;t&&(wa=t),a&&(ja=a),r&&r,n&&n,o&&(Oa=o),i&&(Ca=i)},m=function(){};function f(e,t,a){var r,n,o,i;r=1,n=1,o=1,a<e&&(a=e),a>t&&(a=t),a<e+.25*(i=t-e)?(r=0,n=4*(a-e)/i):a<e+.5*i?(r=0,o=1+4*(e+.25*i-a)/i):a<e+.75*i?(r=4*(a-e-.5*i)/i,o=0):(n=1+4*(e+.75*i-a)/i,o=0);var l=new Array;return l[0]=parseInt(255*r),l[1]=parseInt(255*n),l[2]=parseInt(255*o),l}function v(e,t,a,r,n){for(var o=0;o<r;o++)for(var i=0;i<a;i++){for(var l=0,c=o-n;c<o+n+1;c++)for(var s=i-n;s<i+n+1;s++){var u=Math.min(a-1,Math.max(0,s));l+=e[Math.min(r-1,Math.max(0,c))*a+u]}t[o*a+i]=l/((n+n+1)*(n+n+1))}}return Object(r.useImperativeHandle)(t,(function(){return{changeWsData:g,drawContent:m,sitValue:p}})),Object(r.useEffect)((function(){var e=document.documentElement.clientWidth;d(e/1920)}),[]),Object(y.jsx)("div",{style:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",backgroundColor:"#000"},children:Object(y.jsx)("div",{className:"threeBoxF",style:{},children:Object(y.jsx)("div",{className:"threeBox",children:o.map((function(e,t){return Object(y.jsx)("div",{style:{display:"flex"},children:e&&e.length?e.map((function(e,t){return Object(y.jsx)("div",{style:Object(s.a)({width:"2rem",color:"blue",fontSize:"".concat(20*h*.8,"px"),lineHeight:"1.5rem"},"color","rgb(".concat(f(0,wa,5*e),")")),children:parseInt(e)},t)})):null},t)}))})})})})),Ba=[],ka={min:0,max:localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):200,size:25},Fa=!0,Pa=localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):2,Va=localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,Na=localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2,Ma=localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,Da=32,Ja=new Array(4096).fill(1),Qa=new Array(5184).fill(1),Ra=(new Array(5184).fill(1),new Array(5184).fill(1)),La=n.a.forwardRef((function(e,t){function a(e){var t=function(e,t,a){if(e.length===t*a){for(var r=[],n=0;n<t;n++)r.push(e.slice(n*a,(n+1)*a));for(var o=new Array(t).fill().map((function(){return[]})),i=0;i<t;i++)for(var l=0;l<a;l++)o[a-1-l][i]=r[i][l];return o.flat()}console.error("\u8f93\u5165\u6570\u7ec4\u957f\u5ea6\u4e0e\u7ed9\u5b9a\u7684\u884c\u6570\u548c\u5217\u6570\u4e0d\u5339\u914d\u3002")}(e,32,32),a=Object(u.a)(t).map((function(e,t){return e>Va?e:0})),r=a;a.reduce((function(e,t){return e+t}),0)<Na&&(r=new Array(1024).fill(0)),V(r,Ja,Da,2),D(M(Ja,64,64,4,4),Qa,72,72,Pa),console.log(Ma);for(var n=0,o=0;n<72;n++)for(var i=0;i<72;i++){var l=10*Qa[o];Ra[o]=Ra[o]+(l-Ra[o]+.5)/Ma;var c={};c.x=n*va.width/72,c.y=i*va.height/72,c.value=Ra[o],Ba.push(c),o++}Ba=[];for(var s=0;s<72;s++)for(var h=0;h<72;h++){var d={};d.x=s*va.width/72,d.y=h*va.height/72,d.value=Qa[72*s+h],Ba.push(d)}}function n(e,t){var a=document.createElement("canvas");return a.width=e,a.height=t,a}function o(e,t){var a=function(e){var t=e/2,a=e+t,r=1e4,o=new n(2*a,2*a),i=o.getContext("2d");return Fa&&(i.shadowBlur=t),i.shadowColor="black",i.shadowOffsetX=i.shadowOffsetY=r,i.beginPath(),i.arc(a-r,a-r,e,0,2*Math.PI,!0),i.closePath(),i.fill(),o}(ka.size),r=a.width/2,o=a.height/2,l={};for(var c in t.forEach((function(e,t){var a=Math.min(1,e.value/ka.max).toFixed(2);l[a]=l[a]||[],l[a].push(e)})),l)if(!isNaN(c)){var u=l[c];e.beginPath(),e.globalAlpha=c,u.forEach((function(t){e.drawImage(a,t.x-r,t.y-o)}))}var h=new s,d=e.getImageData(0,0,e.canvas.width,e.canvas.height);!function(e,t){var a=ka.max,r=ka.min,n=a-r,o=ka.range||null,l=0,c=1024;o&&2===o.length&&(l=(o[0]-r)/n*1024);o&&2===o.length&&(c=(o[1]-r)/n*1024);for(var s,u=ka.maxOpacity||.9,h=(o=ka.range,3),d=e.length;h<d;h+=4){s=4*e[h],e[h]/256>u&&(e[h]=256*u),e[h]/256<.7&&(e[h]=179.2);i();s&&s>=l&&s<=c?(e[h-3]=t[s],e[h-2]=t[s+1],e[h-1]=t[s+2]):e[h]=0}}(d.data,h.getImageData()),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillStyle="#666",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.putImageData(d,0,0)}function i(e,t,a){var r,n,o,i;r=1,n=1,o=1,a<e&&(a=e),a>t&&(a=t),a<e+.25*(i=t-e)?(r=0,n=4*(a-e)/i):a<e+.5*i?(r=0,o=1+4*(e+.25*i-a)/i):a<e+.75*i?(r=4*(a-e-.5*i)/i,o=0):(n=1+4*(e+.75*i-a)/i,o=0);var l=new Array;return l[0]=255*r,l[1]=255*n,l[2]=255*o,l[3]=1,l}function l(e){a(e);var t=va.getContext("2d");t.clearRect(0,0,va.width,va.height),Fa=!0,o(t,Ba),Fa=!1}function c(e){var t=e.valuej,a=e.valueg,r=(e.value,e.valuel),n=e.valuef,o=e.valuelInit;t&&(ka.max=t),a&&(Pa=a),r&&(Ma=r),n&&(Va=n),o&&(Na=o),console.log(r,"valuel")}function s(e){e=e||{},this.gradient=e.gradient||{0:"rgba(21,18,42, 1)",.4:"rgba(62, 0, 248, 1)",.55:"rgba(149, 253, 237, 1)",.7:"rgba(154, 255, 62, 1)",.85:"rgba(246, 254, 71, 1)",1:"rgba(216, 36, 36, 1)"},this.maxSize=e.maxSize||35,this.minSize=e.minSize||0,this.max=e.max||100,this.min=e.min||0,this.initPalette()}s.prototype.setMax=function(e){this.max=e||100},s.prototype.setMin=function(e){this.min=e||0},s.prototype.setMaxSize=function(e){this.maxSize=e||35},s.prototype.setMinSize=function(e){this.minSize=e||0},s.prototype.initPalette=function(){var e=this.gradient,t=new n(256,1),a=this.paletteCtx=t.getContext("2d",{willReadFrequently:!0}),r=a.createLinearGradient(0,0,256,1);for(var o in e)r.addColorStop(parseFloat(o),e[o]);a.fillStyle=r,a.fillRect(0,0,256,1)},s.prototype.getImageData=function(e){var t=this.paletteCtx.getImageData(0,0,256,1).data;if(void 0===e)return t;var a=this.max,r=this.min;e>a&&(e=a),e<r&&(e=r);var n=Math.floor((e-r)/(a-r)*255);return[t[n],t[n+1],t[n+2],t[n+3]]},s.prototype.getSize=function(e){var t=this.max,a=this.min,r=this.maxSize,n=this.minSize;return e>t&&(e=t),e<a&&(e=a),n+(e-a)/(t-a)*(r-n)},s.prototype.getLegend=function(e){var t=this.gradient,a=e.width||20,r=e.height||180,o=new n(a,r),i=o.getContext("2d"),l=i.createLinearGradient(0,r,0,0);for(var c in t)l.addColorStop(parseFloat(c),t[c]);return i.fillStyle=l,i.fillRect(0,0,a,r),o};return Object(r.useImperativeHandle)(t,(function(){return{bthClickHandle:l,sitValue:c}})),Object(r.useEffect)((function(){(va=document.getElementById("heatmapcanvas")).width=.8*window.innerHeight,va.height=.8*window.innerHeight,va.getContext("2d")}),[]),Object(y.jsx)("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(y.jsx)("canvas",{id:"heatmapcanvas"})})})),Ua=n.a.forwardRef((function(e,t){Object(r.useEffect)((function(){if(document.getElementById("myCanvasTrack")){var e=document.getElementById("myCanvasTrack");xa=e.getContext("2d");var t=document.getElementById("myCanvasCircle");ba=t.getContext("2d"),Aa=e.getBoundingClientRect().width,n(xa,Aa)}}),[]);var a=function(e){var t=e.ctx,a=e.width,r=e.htmlWidth,n=e.rightTopPropSmooth,o=e.leftTopPropSmooth,i=e.leftBottomPropSmooth,l=e.rightPropSmooth,c=e.leftPropSmooth,s=e.rightBottomPropSmooth;t.font="".concat(r/100,"px Arial"),t.fillStyle="#fff",t.fillText(n,265*a/300,140*a/300),t.font="".concat(r/100,"px Arial"),t.fillStyle="#fff",t.fillText(s,265*a/300,175*a/300),t.font="".concat(r/100,"px Arial"),t.fillStyle="#fff",t.fillText(o,5*a/300,140*a/300),t.font="".concat(r/100,"px Arial"),t.fillStyle="#fff",t.fillText(i,5*a/300,175*a/300),t.font="".concat(r/100,"px Arial"),t.fillStyle="#fff",t.fillText(c,c<10?135*a/300:120*a/300,290*a/300),t.font="".concat(r/100,"px Arial"),t.fillStyle="#fff",t.fillText(l,155*a/300,290*a/300)},n=function(e,t){e.clearRect(0,0,t,t),e.beginPath(),e.fillStyle="#191932",e.fillRect(1,1,t-1,t-1),e.beginPath(),e.strokeStyle="#5A5A89";for(var a=0;a<9;a++)e.moveTo(1,30*(a+1)*t/300),e.lineTo(t-1,30*(a+1)*t/300);for(var r=0;r<9;r++)e.moveTo(30*(r+1)*t/300,1),e.lineTo(30*(r+1)*t/300,t-1);e.stroke(),e.beginPath(),e.moveTo(1*t/300,150*t/300),e.lineTo(299*t/300,150*t/300),e.moveTo(150*t/300,1*t/300),e.lineTo(150*t/300,299*t/300),e.stroke(),e.strokeStyle="#01F1E3",e.moveTo(150*t/300,150*t/300)},o=function(){n(xa,Aa),ba&&ba.clearRect(0,0,Aa,Aa)},i=function(e){var t=e.arrSmooth,r=e.rightTopPropSmooth,n=e.leftTopPropSmooth,o=e.leftBottomPropSmooth,i=e.rightPropSmooth,l=e.leftPropSmooth,c=e.rightBottomPropSmooth;xa.strokeStyle="#01F1E3",xa.lineTo(t[0]*Aa/32,t[1]*Aa/32),xa.stroke(),ba.clearRect(0,0,Aa,Aa),ba.beginPath(),ba.fillStyle="#991BFA",ba.arc(t[0]*Aa/32,t[1]*Aa/32,5,0,2*Math.PI),ba.fill(),a({ctx:ba,width:Aa,htmlWidth:window.innerWidth,rightTopPropSmooth:r,leftTopPropSmooth:n,leftBottomPropSmooth:o,rightPropSmooth:i,leftPropSmooth:l,rightBottomPropSmooth:c})},l=function(e){var t=e.arrSmooth,r=e.rightTopPropSmooth,o=e.leftTopPropSmooth,i=e.leftBottomPropSmooth,l=e.rightPropSmooth,c=e.leftPropSmooth,s=e.rightBottomPropSmooth;a({ctx:xa,width:Aa,htmlWidth:window.innerWidth,rightTopPropSmooth:r,leftTopPropSmooth:o,leftBottomPropSmooth:i,rightPropSmooth:l,leftPropSmooth:c,rightBottomPropSmooth:s}),function(e){var t=e.ctx,a=e.arrSmooth,r=e.canvasWidth;t.beginPath(),t.fillStyle="#991BFA",t.arc(a[0]*r/32,a[1]*r/32,5,0,2*Math.PI),t.fill();var n=document.getElementById("myCanvasTrack").toDataURL("image/png"),o=document.createElement("a");o.href=n,o.download="canvas_image.png",o.click()}({ctx:xa,arrSmooth:t,canvasWidth:Aa}),n(xa,Aa)};return Object(r.useImperativeHandle)(t,(function(){return{circleMove:i,loadImg:l,canvasInit:o}})),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("canvas",{id:"myCanvasTrack",width:15*window.innerWidth/100,height:15*window.innerWidth/100,style:{position:"fixed",top:"6%",right:"calc(3% + 48px)",borderRadius:"10px"}}),Object(y.jsx)("canvas",{id:"myCanvasCircle",width:15*window.innerWidth/100,height:15*window.innerWidth/100,style:{position:"fixed",top:"6%",right:"calc(3% + 48px)",borderRadius:"10px"}})]})})),za=[],Ta=[],Ka=[],Ha=(new Array(4).fill(0),new Array(4).fill(0),0),qa=0,Wa=0,Xa=0,Ga=0,Ya=0,Za=0,_a=0,$a=[16,16],er=0,tr=0,ar=0,rr=0,nr=0,or=0,ir=0,lr=0,cr=0,sr=.22,ur=new T(6),hr=new T(6),dr=0,gr=0,pr=0,mr=0,fr=0,vr=0,xr=0,br=0,Ar=0,Sr=0,yr=0,Ir=0,wr={foot:function(e){for(var t,a,r,n,o,i=e.that,l=la({wsPointData:e.wsPointData,pressFlag:i.state.press,pressNumFlag:i.state.pressNum}),c=l.sitData,s=l.backData,h=l.arr,d=l.realData,g=[],p=0;p<32;p++){for(var m=0,f=0;f<16;f++)m+=c[16*p+f];g.push(m)}var v=z(c,10),x=z(s,10),b=v.footLength>5,A=x.footLength>5,S=b||0+A?1:0;S=S||1;var y,I=(b?v.footType:0+A?x.footType:0)/S,w=(b?v.footLength:0+A?x.footLength:0)/S;y=(sr+=(I-sr)/20)<.21?"\u9ad8\u8db3\u5f13":sr<.26?"\u6b63\u5e38":"\u6241\u5e73\u8db3",null===(t=i.data.current)||void 0===t||null===(a=t.canvas.current)||void 0===a||a.changeState({footValue:sr,footType:y,footLength:(11*w/10).toFixed(1)});for(var j,O=[],C=0;C<32;C++){O[C]=[];for(var E=0;E<32;E++)O[C].push(d[32*C+E])}i.setState({newArr:O});for(var B=0;B<$a.length;B++)$a[B]=$a[B]+(h[B]-$a[B])/4;Ka=[];for(var k=i.sitIndexArr[2];k<=i.sitIndexArr[3];k++)for(var F=i.sitIndexArr[0];F<=i.sitIndexArr[1];F++)Ka.push(c[16*k+F]);for(var P=i.backIndexArr[2];P<=i.backIndexArr[3];P++)for(var V=i.backIndexArr[0];V<=i.backIndexArr[1];V++)Ka.push(s[16*P+V]);var N=(j=i.sitIndexArr.every((function(e){return 0==e}))&&i.backIndexArr.every((function(e){return 0==e}))?Object(u.a)(d):Object(u.a)(Ka)).reduce((function(e,t){return e+t}),0),M=j.filter((function(e){return e>10})).length,D=parseInt(N/(M||1)),J=U(j),Q=4*M;yr=1e3*J/(Q||1),Wa=parseInt(Wa+(D-Wa)/10),Xa=parseInt(Xa+(J-Xa)/10),Ga=parseInt(Ga+(M-Ga)/10),Ya=parseInt(Ya+(Q-Ya)/10),Za=parseInt(Za+(N-Za)/10),_a=parseInt(_a+(yr-_a)/10);var R,L,T=c.reduce((function(e,t){return e+t}),0),K=s.reduce((function(e,t){return e+t}),0),H=parseInt(100*T/(T+K>0?T+K:1)),q=100-H,W=Object(u.a)(c).slice(0,256).reduce((function(e,t){return e+t}),0),X=parseInt(100*W/(T>0?T:1)),G=Object(u.a)(s).slice(0,256).reduce((function(e,t){return e+t}),0),Y=parseInt(100*G/(K>0?K:1)),Z=j.reduce((function(e,t){return e+t}),0);if(er=parseInt(er+(Z-er)/10),ar=parseInt(ar+(H-ar)/10),tr=parseInt(tr+(T-tr)/10),rr=parseInt(rr+(K-rr)/10),or=parseInt(or+(X-or)/10),ir=parseInt(ir+(Y-ir)/10),nr=100-ar,lr=100-or,cr=100-ir,M<10&&i.sitIndexArr.every((function(e){return 0==e}))&&i.backIndexArr.every((function(e){return 0==e}))&&(Wa=0,Xa=0,Ga=0,Ya=0,Za=0,_a=0,er=0,tr=0,rr=0,ar=0,nr=0,or=0,lr=0,ir=0,cr=0,$a=[16,16],H=50,q=50,M=0),"num"==i.state.numMatrixFlag)null===(R=i.com.current)||void 0===R||R.changeWsData(d);else if("normal"==i.state.numMatrixFlag){var _,$,ee;null===(_=i.com.current)||void 0===_||_.backData({wsPointData:s}),null===($=i.com.current)||void 0===$||$.sitData({wsPointData:c,arr:$a}),null===(ee=i.com.current)||void 0===ee||ee.changeDataFlag()}else{var te;null===(te=i.com.current)||void 0===te||te.bthClickHandle(d)}(null===(r=i.data.current)||void 0===r||r.changeData({meanPres:Wa,maxPres:Xa,point:Ga,area:Ya,totalPres:Za,pressure:_a}),null===(n=i.data.current)||void 0===n||n.canvas.current.initCanvasrotate1((q-50)/100),null===(o=i.data.current)||void 0===o||o.canvas.current.changeState({total:parseInt(tr/100)+parseInt(rr/100),leftValue:parseInt(tr/100),rightValue:parseInt(rr/100),leftProp:ar,rightProp:nr}),i.state.centerFlag)&&(null===(L=i.track.current)||void 0===L||L.circleMove({arrSmooth:$a,rightTopPropSmooth:ir,leftTopPropSmooth:or,leftBottomPropSmooth:lr,rightPropSmooth:nr,leftPropSmooth:ar,rightBottomPropSmooth:cr}));if(i.arrSmooth=$a,i.rightTopPropSmooth=ir,i.leftTopPropSmooth=or,i.leftBottomPropSmooth=lr,i.rightPropSmooth=nr,i.leftPropSmooth=ar,i.rightBottomPropSmooth=cr,za.length<20||za.shift(),za.push(N),!i.state.local){var ae;Ta.length<20||Ta.shift(),Ta.push(M);var re=U(Ta);null===(ae=i.data.current)||void 0===ae||ae.handleChartsArea(Ta,re+100)}},bigBed:function(e){var t,a,r,n,o,i=e.that,l=e.wsPointData;Ka=[],l=function(e,t){for(var a=[],r=[],n=0;n<32;n++)for(var o=0;o<32;o++)a.push(e[64*n+o]),r.push(e[64*n+32+o]);a=ha({arr:a,height:32,width:32,value:t}),r=ha({arr:r,height:32,width:32,value:t});for(var i=[],l=0;l<32;l++)for(var c=0;c<64;c++)c<32?i.push(1.2*a[32*l+c]):i.push(r[32*l+c-32]);return i}(l,1500);for(var c=[],s=0;s<64;s++){for(var h=0,d=0;d<32;d++)h+=l[64*d+s];c.push(parseInt(h/32))}i.bodyArr=c,null===(t=i.com.current)||void 0===t||t.sitData({wsPointData:l});for(var g=i.sitIndexArr[2];g<i.sitIndexArr[3];g++)for(var p=i.sitIndexArr[0];p<i.sitIndexArr[1];p++)Ka.push(l[64*g+p]);var m,f,v,x=(o=i.sitIndexArr.every((function(e){return 0==e}))?Object(u.a)(l):Object(u.a)(Ka)).reduce((function(e,t){return e+t}),0),b=o.filter((function(e,t){return e>0})).length,A=x/b,S=sa(x/b);!((m=A)>(f=Ha)-(v=4)&&m<f+v)?(Ha=A,qa=0):(qa++,S=sa(fa(Ha,A,qa)),qa>3120&&(qa=3120)),Ar=b,vr=o.reduce((function(e,t){return e+t}),0),xr=parseInt(vr/(Ar||1)),br=U(o),Sr=4*Ar,Ar<80&&i.sitIndexArr.every((function(e){return 0==e}))&&i.backIndexArr.every((function(e){return 0==e}))&&(xr=0,br=0,vr=0,Ar=0,Sr=0),Wa=Wa+(xr-Wa)/10?Wa+(xr-Wa)/10:1,Xa=Xa+(br-Xa)/10?Xa+(br-Xa)/10:1,Ga=Ga+(Ar-Ga)/10?Ga+(Ar-Ga)/10:1,Ya=Ya+(Sr-Ya)/10?Ya+(Sr-Ya)/10:1,Za=Za+(vr-Za)/10?Za+(vr-Za)/10:1,_a=_a+(S-_a)/3?_a+(S-_a)/3:0,null===(a=i.data.current)||void 0===a||a.changeData({meanPres:Wa.toFixed(0),maxPres:Xa.toFixed(0),point:Ga.toFixed(0),area:Ya.toFixed(0),totalPres:Za.toFixed(0),pressure:_a.toFixed(2)}),za.length<20||za.shift(),za.push(vr);var y=U(za);"bigBed"!=i.state.matrixName||i.state.local||null===(r=i.data.current)||void 0===r||r.handleCharts(za,y+1e3),Ta.length<20||Ta.shift(),Ta.push(Ar);var I=U(Ta);"bigBed"!=i.state.matrixName||i.state.local||null===(n=i.data.current)||void 0===n||n.handleChartsArea(Ta,I+100)},car:function(e){var t,a=e.that,r=e.wsPointData,n=e.backFlag,o=e.local;if("sit"==a.state.carState&&"num"==a.state.numMatrixFlag)null===(t=a.com.current)||void 0===t||t.changeWsData(r);else if("sit"==a.state.carState&&"heatmap"==a.state.numMatrixFlag){var i;null===(i=a.com.current)||void 0===i||i.bthClickHandle(r)}else{var l;if("normal"==a.state.numMatrixFlag)null===(l=a.com.current)||void 0===l||l.sitData({wsPointData:r})}for(var c,s=[],h=a.sitIndexArr[0];h<=a.sitIndexArr[1];h++)for(var d=a.sitIndexArr[2];d<=a.sitIndexArr[3];d++)s.push(r[32*h+d]);(c=(c=a.sitIndexArr.every((function(e){return 0==e}))?Object(u.a)(r):[].concat(s)).map((function(e){return e<a.state.valuef1?0:e}))).reduce((function(e,t){return e+t}),0),c.filter((function(e,t){return e>0})).length;Ar=c.filter((function(e){return e>10})).length;var g=c.reduce((function(e,t){return e+t}),0);if(br=U(c),Sr=Ar,vr=c.reduce((function(e,t){return e+t}),0),yr=Or(vr/(Ar||1)),vr=Object(u.a)(c).map((function(e){return Cr(e)})).reduce((function(e,t){return e+t}),0),br=br/(g||1)*vr,xr=vr/(Ar||1),Ar<80&&a.sitIndexArr.every((function(e){return 0==e}))&&a.backIndexArr.every((function(e){return 0==e}))&&(xr=0,br=0,vr=0,Ar=0,Sr=0,yr=0),!n){var p,m,f,v;if(ur.getSmooth([xr,br,vr,Ar,Sr,yr],10),o)null===(f=a.data.current)||void 0===f||f.changeData({meanPres:xr.toFixed(2),maxPres:br.toFixed(2),totalPres:vr.toFixed(2),point:Ar,area:Sr,pressure:yr});else null===(v=a.data.current)||void 0===v||v.changeData({meanPres:ur.smoothValue[0].toFixed(2),maxPres:ur.smoothValue[1].toFixed(2),totalPres:ur.smoothValue[2].toFixed(2),point:parseInt(ur.smoothValue[3]),area:parseInt(ur.smoothValue[4]),pressure:parseInt(ur.smoothValue[5])});za.length<20||za.shift(),za.push(ur.smoothValue[2]);var x=U(za);"car"!=a.state.matrixName||a.state.local||null===(p=a.data.current)||void 0===p||p.handleCharts(za,x+1e3),Ta.length<20||Ta.shift(),Ta.push(ur.smoothValue[3]);var b=U(Ta);"car"!=a.state.matrixName||a.state.local||null===(m=a.data.current)||void 0===m||m.handleChartsArea(Ta,b+100)}},car10:function(e){var t,a=e.that,r=e.wsPointData;null===(t=a.com.current)||void 0===t||t.sitData({wsPointData:r});for(var n=[],o=0;o<10;o++){n[o]=[];for(var i=0;i<10;i++)n[o].push(r[10*o+i])}a.setState({newArr:n})},hand:function(e){var t=e.that,a=e.wsPointData;if("normal"==t.state.numMatrixFlag){var r;a=function(e,t){for(var a=Object(u.a)(e),r=0;r<32;r++)for(var n=0;n<9;n++){var o=[a[32*r+15+16-n],a[32*r+15+n]];a[32*r+15+n]=o[0],a[32*r+15+16-n]=o[1]}for(var i=0;i<8;i++)for(var l=0;l<32;l++){var c=[a[32*(15-i)+l],a[32*i+l]];a[32*i+l]=c[0],a[32*(15-i)+l]=c[1]}return t&&(a=ua(a)),da(a,32,32)}(a),null===(r=t.com.current)||void 0===r||r.sitData({wsPointData:a});for(var n=[],o=[],i=0;i<32;i++)for(var l=0;l<32;l++)l<16?n.push(a[32*i+l]):o.push(a[32*i+l]);var c=function(e,t,a){for(var r=[],n=0;n<a;n++){for(var o=0,i=0;i<t;i++)e[16*n+i]>15&&o++;r[n]=o}for(var l=0,c=0,s=0;s<a;s++)if(r[s]>1){l=s;break}for(var u=31;u>=0;u--)if(r[u]>1){c=u;break}return c-l}(n,16,32);console.log(c)}else if("heatmap"==t.state.numMatrixFlag){var s;null===(s=t.com.current)||void 0===s||s.bthClickHandle(a)}},localCar:function(e){for(var t,a=e.that,r=e.wsPointData,n=(e.local,[]),o=0;o<5;o++){for(var i=0,l=0;l<20;l++)i+=r[20*o+l];n.push(Math.floor(i/20))}a.handleChartsSit(n,255);var c=ma(r);null===(t=a.com.current)||void 0===t||t.sitData({wsPointData:c});for(var s,h=[],d=a.sitIndexArr[0];d<a.sitIndexArr[1];d++)for(var g=a.sitIndexArr[2];g<a.sitIndexArr[3];g++)h.push(r[32*d+g]);s=(s=a.sitIndexArr.every((function(e){return 0==e}))?Object(u.a)(r):[].concat(h)).map((function(e){return e<10?0:e})),a.setState({pressToArea:(s.reduce((function(e,t){return e+t}),0)/s.filter((function(e){return e>10})).length).toFixed(2)});s.reduce((function(e,t){return e+t}),0),s.filter((function(e,t){return e>0})).length;Ar=s.filter((function(e){return e>.02*a.state.valuej1})).length,vr=s.reduce((function(e,t){return e+t}),0),xr=parseInt(vr/(Ar||1)),br=U(s),Sr=4*Ar,Ar<80&&a.sitIndexArr.every((function(e){return 0==e}))&&a.backIndexArr.every((function(e){return 0==e}))&&(xr=0,br=0,vr=0,Ar=0,Sr=0)},sit10:function(e){var t,a,r,n,o=e.that,i=e.wsPointData,l=e.local;null===(t=o.com.current)||void 0===t||t.sitData({wsPointData:i});(n=(n=o.sitIndexArr.every((function(e){return 0==e}))?Object(u.a)(i):Object(u.a)(Ka)).map((function(e){return e<10?0:e}))).reduce((function(e,t){return e+t}),0),n.filter((function(e,t){return e>0})).length;Ar=n.filter((function(e){return e>10})).length;var c,s,h=n.reduce((function(e,t){return e+t}),0);(br=U(n),Sr=Ar,yr=Or(vr/(Ar||1)),vr=i.reduce((function(e,t){return e+t}),0),br=br/(h||1)*vr,xr=vr/(Ar||1),Ar<15&&o.sitIndexArr.every((function(e){return 0==e}))&&o.backIndexArr.every((function(e){return 0==e}))&&(xr=0,br=0,vr=0,Ar=0,Sr=0,yr=0),ur.getSmooth([xr,br,vr,Ar,Sr,yr],10),l)?null===(c=o.data.current)||void 0===c||c.changeData({meanPres:xr.toFixed(2),maxPres:br.toFixed(2),totalPres:vr.toFixed(2),point:Ar,area:Sr,pressure:yr}):null===(s=o.data.current)||void 0===s||s.changeData({meanPres:ur.smoothValue[0].toFixed(2),maxPres:ur.smoothValue[1].toFixed(2),totalPres:ur.smoothValue[2].toFixed(2),point:parseInt(ur.smoothValue[3]),area:parseInt(ur.smoothValue[4]),pressure:parseInt(ur.smoothValue[5])});za.length<20||za.shift(),za.push(ur.smoothValue[2]);var d=U(za);o.state.local||null===(a=o.data.current)||void 0===a||a.handleCharts(za,d+100),Ta.length<20||Ta.shift(),Ta.push(ur.smoothValue[3]);var g=U(Ta);o.state.local||null===(r=o.data.current)||void 0===r||r.handleChartsArea(Ta,g+100)}},jr={car:function(e){var t,a,r=e.that,n=e.jsonObject,o=e.sitFlag,i=e.local;"car"!=r.state.matrixName||o||0;0;var l,c=n.backData;if(Array.isArray(c)||(c=JSON.parse(c)),r.state.press&&(c=ua(c,32,32)),r.state.pressNum&&(c=ca(c)),"back"==r.state.carState&&"num"==r.state.numMatrixFlag)c=function(e,t,a){for(var r=[],n=0;n<t;n++){r[n]=[];for(var o=0;o<a;o++)r[n].push(e[n*t+o])}for(var i=[],l=r.length,c=0;c<l;c++)for(var s=0;s<l;s++){var u=l-1-s;i[u]||(i[u]=[]),i[u][c]=r[c][s]}for(var h=[],d=0;d<i.length;d++)h=h.concat(i[d]);return h}(c,32,32),null===(l=r.com.current)||void 0===l||l.changeWsData(c);else if("back"==r.state.carState&&"heatmap"==r.state.numMatrixFlag){var s;c=function(e,t,a){for(var r=[],n=0;n<t;n++){r[n]=[];for(var o=0;o<a;o++)r[n].push(e[n*a+o])}for(var i=[],l=r.length,c=0;c<l;c++)for(var s=0;s<l;s++){var u=l-1-c;i[u]||(i[u]=[]),i[u][l-1-s]=r[c][s]}for(var h=[],d=0;d<i.length;d++)h=h.concat(i[d]);return h}(c,32,32),null===(s=r.com.current)||void 0===s||s.bthClickHandle(c)}else{var h;"normal"==r.state.numMatrixFlag&&(null===(h=r.com.current)||void 0===h||h.backData({wsPointData:c}))}for(var d,g=[],p=r.backIndexArr[0];p<=r.backIndexArr[1];p++)for(var m=31-r.backIndexArr[3];m<=31-r.backIndexArr[2];m++)g.push(c[32*p+m]);var f,v,x=(d=(d=r.sitIndexArr.every((function(e){return 0==e}))&&r.backIndexArr.every((function(e){return 0==e}))?Object(u.a)(c):[].concat(g)).map((function(e){return e<r.state.valuef1?0:e}))).reduce((function(e,t){return e+t}),0);if(dr=d.reduce((function(e,t){return e+t}),0),mr=d.filter((function(e){return e>10})).length,pr=U(d),fr=mr,Ir=Or(dr/(mr||1)),dr=Object(u.a)(d).map((function(e){return Cr(e)})).reduce((function(e,t){return e+t}),0),pr=pr/(x||1)*dr,gr=dr/(mr||1),mr<80&&r.sitIndexArr.every((function(e){return 0==e}))&&r.backIndexArr.every((function(e){return 0==e}))&&!i&&(gr=0,pr=0,dr=0,mr=0,fr=0,Ir=0),o){var b=dr+vr,A=Math.max(pr,br),S=mr+Ar,y=fr+Sr;gr=b/S,pr=Math.max(pr,br),dr+=vr,mr+=Ar,fr+=Sr,hr.getSmooth([b/(S||1),A,b,S,y,Ir],10)}else hr.getSmooth([gr,pr,dr,mr,fr,Ir],10);i?null===(f=r.data.current)||void 0===f||f.changeData({meanPres:gr.toFixed(2),maxPres:pr.toFixed(2),totalPres:dr.toFixed(2),point:mr,area:fr,pressure:Ir}):null===(v=r.data.current)||void 0===v||v.changeData({meanPres:hr.smoothValue[0].toFixed(2),maxPres:hr.smoothValue[1].toFixed(2),totalPres:hr.smoothValue[2].toFixed(2),point:parseInt(hr.smoothValue[3]),area:parseInt(hr.smoothValue[4]),pressure:hr.smoothValue[5]});za.length<20||za.shift(),za.push(hr.smoothValue[2]);var I=U(za);"car"!=r.state.matrixName||r.state.local||null===(t=r.data.current)||void 0===t||t.handleCharts(za,I+1e3),Ta.length<20||Ta.shift(),Ta.push(hr.smoothValue[3]);var w=U(Ta);"car"!=r.state.matrixName||r.state.local||null===(a=r.data.current)||void 0===a||a.handleChartsArea(Ta,w+100)},car10:function(e){var t,a,r,n,o=e.that,i=e.jsonObject;"car10"==o.state.matrixName&&0;0;var l=i.backData;Array.isArray(l)||(l=JSON.parse(l));for(var c=Object(u.a)(l),s=[],h=0;h<10;h++){s[h]=[];for(var d=0;d<10;d++)s[h].push(c[10*h+d])}o.setState({newArr1:s}),o.state.press&&(l=ua(l,32,32)),o.state.pressNum&&(l=ca(l));null===(t=o.com.current)||void 0===t||t.backData({wsPointData:l});for(var g,p=[],m=o.backIndexArr[0];m<o.backIndexArr[1];m++)for(var f=31-o.backIndexArr[3];f<31-o.backIndexArr[2];f++)p.push(l[32*m+f]);g=o.sitIndexArr.every((function(e){return 0==e}))&&o.backIndexArr.every((function(e){return 0==e}))?Object(u.a)(l):[].concat(p),dr=g.reduce((function(e,t){return e+t}),0),mr=g.filter((function(e){return e>10})).length,gr=parseInt(dr/(mr||1)),pr=U(g),fr=4*mr,mr<10&&o.sitIndexArr.every((function(e){return 0==e}))&&o.backIndexArr.every((function(e){return 0==e}))&&(gr=0,pr=0,dr=0,mr=0,fr=0);var v=dr+vr,x=((gr+xr)/2).toFixed(0);0==gr&&(x=xr),0==xr&&(x=gr);var b=Math.max(pr,br),A=mr+Ar,S=fr+Sr,y=(Math.min(0,0),1e3*br/(Sr||1));Wa=parseInt(Wa+(x-Wa)/10)?parseInt(Wa+(x-Wa)/10):1,Xa=parseInt(Xa+(b-Xa)/10)?parseInt(Xa+(b-Xa)/10):1,Ga=parseInt(Ga+(A-Ga)/10)?parseInt(Ga+(A-Ga)/10):1,Ya=parseInt(Ya+(S-Ya)/10)?parseInt(Ya+(S-Ya)/10):1,Za=parseInt(Za+(v-Za)/10)?parseInt(Za+(v-Za)/10):1,_a=parseInt(_a+(y-_a)/10)?parseInt(_a+(y-_a)/10):1,Ar<100&&(_a=0),null===(a=o.data.current)||void 0===a||a.changeData({meanPres:Wa,maxPres:Xa,point:Ga,area:Ya,totalPres:Za,pressure:_a}),za.length<20||za.shift(),za.push(v);var I=U(za);"car10"!=o.state.matrixName||o.state.local||null===(r=o.data.current)||void 0===r||r.handleCharts(za,I+1e3),Ta.length<20||Ta.shift(),Ta.push(A);var w=U(Ta);"car10"!=o.state.matrixName||o.state.local||null===(n=o.data.current)||void 0===n||n.handleChartsArea(Ta,w+10)},localCar:function(e){for(var t,a,r,n=e.that,o=e.jsonObject,i=e.sitFlag,l=e.local,c=o.backData,s=[],h=0;h<5;h++){for(var d=0,g=0;g<20;g++)d+=c[20*h+g];s.push(Math.floor(d/20))}n.handleChartsBack(s,255),Array.isArray(c)||(c=JSON.parse(c)),c=ma(c),null===(t=n.com.current)||void 0===t||t.backData({wsPointData:c});for(var p,m=[],f=n.backIndexArr[0];f<n.backIndexArr[1];f++)for(var v=31-n.backIndexArr[3];v<31-n.backIndexArr[2];v++)m.push(c[32*f+v]);p=(p=n.sitIndexArr.every((function(e){return 0==e}))&&n.backIndexArr.every((function(e){return 0==e}))?Object(u.a)(c):[].concat(m)).map((function(e){return e<10?0:e})),dr=p.reduce((function(e,t){return e+t}),0),mr=p.filter((function(e){return e>10})).length,gr=parseInt(dr/(mr||1)),pr=U(p),fr=4*mr,mr<80&&n.sitIndexArr.every((function(e){return 0==e}))&&n.backIndexArr.every((function(e){return 0==e}))&&!l&&(gr=0,pr=0,dr=0,mr=0,fr=0);var x,b,A=1e3*br/(Sr||1);if(i){var S=dr+vr,y=Math.max(pr,br),I=mr+Ar,w=fr+Sr;gr=S/I,pr=Math.max(pr,br),dr+=vr,mr+=Ar,fr+=Sr,hr.getSmooth([S/(I||1),y,S,I,w,A],10)}else hr.getSmooth([gr,pr,dr,mr,fr,A],10);l?null===(x=n.data.current)||void 0===x||x.changeData({meanPres:parseInt(gr),maxPres:pr,totalPres:dr,point:mr,area:fr,pressure:A}):null===(b=n.data.current)||void 0===b||b.changeData({meanPres:parseInt(hr.smoothValue[0]),maxPres:parseInt(hr.smoothValue[1]),totalPres:parseInt(hr.smoothValue[2]),point:parseInt(hr.smoothValue[3]),area:parseInt(hr.smoothValue[4]),pressure:parseInt(hr.smoothValue[5])});za.length<20||za.shift(),za.push(hr.smoothValue[2]);var j=U(za);n.state.local||null===(a=n.data.current)||void 0===a||a.handleCharts(za,j+1e3),Ta.length<20||Ta.shift(),Ta.push(hr.smoothValue[3]);var O=U(Ta);n.state.local||null===(r=n.data.current)||void 0===r||r.handleChartsArea(Ta,O+100)}};function Or(e){return.0582*Math.pow(e,2)+-1.4553*Math.pow(e,1)+11.699}function Cr(e,t){var a=27e-5*Math.pow(e,2)+.0379*e-1.7538;return a=a<0?0:a,t?a*t:a}var Er,Br,kr,Fr,Pr,Vr,Nr,Mr,Dr,Jr=!0,Qr=[{name:"\u5ea7\u6905\u5411\u524d",info:"\u5ea7\u6905\u5411\u524d"},{name:"\u9760\u80cc\u5411\u540e",info:"\u9760\u80cc\u5411\u540e"},{name:"\u9760\u80cc\u5411\u524d",info:"\u9760\u80cc\u5411\u524d"},{name:"\u9760\u80cc\u6c14\u56ca\u5145\u6c14",info:"\u9760\u80cc\u6c14\u56ca\u5145\u6c14"},{name:"\u9760\u80cc\u6c14\u56ca\u653e\u6c14",info:"\u9760\u80cc\u6c14\u56ca\u653e\u6c14"},{name:"\u5750\u57ab\u5411\u4e0b\u79fb\u52a8",info:"\u5750\u57ab\u5411\u4e0b\u79fb\u52a8\u817f\u90e8\u6c14\u56ca\u653e\u6c14"},{name:"\u817f\u90e8\u6c14\u56ca\u653e\u6c14",info:"\u5750\u57ab\u5411\u4e0b\u79fb\u52a8\u817f\u90e8\u6c14\u56ca\u653e\u6c14"},{name:"\u5750\u57ab\u5411\u4e0a\u79fb\u52a8",info:"\u5750\u57ab\u5411\u4e0a\u79fb\u52a8\u817f\u90e8\u6c14\u56ca\u5145\u6c14"},{name:"\u817f\u90e8\u6c14\u56ca\u5145\u6c14",info:"\u5750\u57ab\u5411\u4e0a\u79fb\u52a8\u817f\u90e8\u6c14\u56ca\u5145\u6c14"},{name:"\u4fa7\u7ffc\u53f3\u4fa7\u6c14\u56ca\u5145\u6c14",info:"\u4fa7\u7ffc\u53f3\u4fa7\u6c14\u56ca\u5145\u6c14"},{name:"\u4fa7\u7ffc\u5de6\u4fa7\u6c14\u56ca\u5145\u6c14",info:"\u4fa7\u7ffc\u5de6\u4fa7\u6c14\u56ca\u5145\u6c14"},{name:"\u4fa7\u7ffc\u53f3\u4fa7\u6c14\u56ca\u653e\u6c14",info:"\u4fa7\u7ffc\u53f3\u4fa7\u6c14\u56ca\u653e\u6c14"},{name:"\u4fa7\u7ffc\u5de6\u4fa7\u6c14\u56ca\u653e\u6c14",info:"\u4fa7\u7ffc\u5de6\u4fa7\u6c14\u56ca\u653e\u6c14"}],Rr=JSON.parse(localStorage.getItem("collection"))?JSON.parse(localStorage.getItem("collection")):[["hunch","front","flank","\u6807\u7b7e","\u5ea7\u6905","\u9760\u80cc"]],Lr=0,Ur=0,zr=(new Array(4).fill(0),new Array(4).fill(0),0),Tr=0,Kr=0,Hr=0,qr=0,Wr=0,Xr=0,Gr=0,Yr=0,Zr=0,_r=(n.a.Component,function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(d.a)(this,a),t.call(this,e)}return Object(g.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.matrixName!=e.matrixName}},{key:"render",value:function(){return Object(y.jsx)(y.Fragment,{children:this.props.children})}}]),a}(n.a.Component)),$r=0,en=[],tn=[],an=!1,rn=Object(y.jsx)("div",{children:Object(y.jsx)("p",{children:"\u7ed5x\u8f74\u65cb\u8f6c30\xb0"})}),nn=Object(y.jsx)("div",{children:Object(y.jsx)("p",{children:"\u7ed5y\u8f74\u65cb\u8f6c30\xb0"})}),on=Object(y.jsx)("div",{children:Object(y.jsx)("p",{children:"\u6846\u9009\u4e00\u4e2a\u77e9\u5f62\u533a\u57df"})}),ln=Object(y.jsx)("div",{children:Object(y.jsx)("p",{children:"\u5237\u65b0\u8f68\u8ff9\u56fe"})}),cn=Object(y.jsx)("div",{children:Object(y.jsx)("p",{children:"\u4e0b\u8f7d\u8f68\u8ff9\u56fe"})}),sn=!1,un=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){var e,r;return Object(d.a)(this,a),(r=t.call(this)).wsData=function(e){0;var t,a,n=JSON.parse(e.data);if(!1,null!=n.backFlag&&(t=n.backFlag),null!=n.sitData){var o;if("car10"!=r.state.matrixName)if(an)$r++,null===(o=r.title.current)||void 0===o||o.changeNum($r);else $r=0;var i=n.sitData;Array.isArray(i)||(i=JSON.parse(i)),en=(en=i).map((function(e){return Math.round(e)})),wr[r.state.matrixName]({that:Object(h.a)(r),wsPointData:i,backFlag:t,local:r.state.local})}if(null!=n.port){var l=[];n.port.forEach((function(e,t){l.push({value:e.path,label:e.path})})),r.setState({port:l})}if(null!=n.length&&r.setState({length:n.length}),null!=n.time&&r.setState({time:n.time}),null!=n.timeArr){var c=n.timeArr;if("car"==r.state.matrixName){var s=[];c.forEach((function(e,t){s.push({value:e.info,label:e.name})})),r.setState({dataArr:s})}else{var u=[];c.forEach((function(e,t){u.push({value:e.date,label:e.name})})),r.setState({dataArr:u})}}null!=n.index&&(null===(a=r.progress.current)||void 0===a||a.changeIndex(n.index));if(null!=n.areaArr){var d,g=U(n.areaArr);null===(d=r.data.current)||void 0===d||d.handleChartsArea(n.areaArr,g+100),r.max=g,r.areaArr=n.areaArr,r.setState({areaArr:n.areaArr})}if(null!=n.pressArr){var p,m=U(n.pressArr);if("car"==r.state.matrixName||"bigBed"==r.state.matrixName||"sit10"==r.state.matrixName)null===(p=r.data.current)||void 0===p||p.handleCharts(n.pressArr,m+100),r.pressMax=m,r.pressArr=n.pressArr,r.setState({pressArr:n.pressArr})}null!=n.download&&aa.a.info(n.download)},r.ws1Data=function(e){var t,a,n=JSON.parse(e.data);if(null!=n.sitFlag&&(t=n.sitFlag),null!=n.backData){var o;if("car"==r.state.matrixName&&!t)if(an)$r++,null===(o=r.title.current)||void 0===o||o.changeNum($r);else $r=0;tn=n.backData,Array.isArray(tn)||(tn=JSON.parse(tn)),"bigBed"!==r.state.matrixName&&"foot"!==r.state.matrixName&&jr[r.state.matrixName]({that:Object(h.a)(r),jsonObject:n,sitFlag:t,local:r.state.local})}if(null!=n.timeArr){var i=n.timeArr,l=[];i.forEach((function(e,t){l.push({value:e.info,label:e.name})})),r.setState({dataArr:l})}(null!=n.length&&r.setState({length:n.length}),null!=n.time&&r.setState({time:n.time}),null!=n.index)&&(null===(a=r.progress.current)||void 0===a||a.changeIndex(n.index));if(null!=n.areaArr){var c,s=U(n.areaArr);null===(c=r.data.current)||void 0===c||c.handleChartsArea(n.areaArr,s+100),r.max=s,r.areaArr=n.areaArr,r.setState({areaArr:n.areaArr})}if(null!=n.pressArr){var u,d=U(n.pressArr);if("car"==r.state.matrixName||"bigBed"==r.state.matrixName||"car10"==r.state.matrixName)null===(u=r.data.current)||void 0===u||u.handleCharts(n.pressArr,d+100),r.pressMax=d,r.pressArr=n.pressArr,r.setState({pressArr:n.pressArr})}},r.wsSendObj=function(e){Er&&1===Er.readyState&&Er.send(JSON.stringify(e))},r.changeMatrix=function(e){r.setState({matrixName:e}),e},r.changeLocal=function(e){r.setState({local:e}),Er&&1===Er.readyState&&(e?Er.send(JSON.stringify({local:!0})):Er.send(JSON.stringify({local:!1})))},r.changeValue=function(e){return e<4?0:e>=68?31:Math.round((e-4)/2-1)},r.changeFootValue=function(e){return e<4?0:e>=36?15:Math.round((e-4)/2-1)},r.changeBedValue=function(e){return e<4?0:e>=132?63:Math.round((e-4)/2-1)},r.changeSelect=function(e,t){var a=Object(u.a)(e.sit);if(!a.every((function(e){return 0==e}))&&"back"!=r.state.carState){var n,o=a.length?a.map((function(e,t){return"foot"===r.state.matrixName?0==t||1==t?r.changeFootValue(e):r.changeValue(e):"bigBed"===r.state.matrixName&&(0==t||1==t)?r.changeBedValue(e):r.changeValue(e)})):new Array(4).fill(0);r.sitIndexArr=o,o.every((function(e){return 0==e}))||"back"==r.state.carState||r.wsSendObj({sitIndex:o});for(var i,l=[],c=r.sitIndexArr[0];c<=r.sitIndexArr[1];c++)for(var s=r.sitIndexArr[2];s<=r.sitIndexArr[3];s++)l.push(en[32*c+s]);(i=(i=r.sitIndexArr.every((function(e){return 0==e}))?Object(u.a)(en):[].concat(l)).map((function(e){return e<r.state.valuef1?0:e}))).reduce((function(e,t){return e+t}),0),i.filter((function(e,t){return e>0})).length;Yr=i.filter((function(e){return e>10})).length;var h=i.reduce((function(e,t){return e+t}),0);Gr=U(i),Zr=Yr;var d=Or(Wr/(Yr||1));Wr=Object(u.a)(i).map((function(e){return Cr(e)})).reduce((function(e,t){return e+t}),0),Gr=Gr/(h||1)*Wr,Xr=Wr/(Yr||1),null===(n=r.data.current)||void 0===n||n.changeData({meanPres:Xr.toFixed(2),maxPres:Gr.toFixed(2),totalPres:Wr.toFixed(2),point:Yr,area:Zr,pressure:d})}if(e.back&&!e.back.every((function(e){return 0==e}))&&"sit"!=r.state.carState){var g,p=Object(u.a)(e.back);p.length&&(p[2]=Math.round(p[2]/2),p[3]=Math.round(p[3]/2));var m=p.length?p.map((function(e,t){return"foot"===r.state.matrixName&&(0==t||1==t)?r.changeFootValue(e):r.changeValue(e)})):new Array(4).fill(0);r.backIndexArr=m,m.every((function(e){return 0==e}))||"sit"==r.state.carState||r.wsSendObj({backIndex:m});for(var f,v=[],x=r.backIndexArr[0];x<=r.backIndexArr[1];x++)for(var b=31-r.backIndexArr[3];b<=31-r.backIndexArr[2];b++)v.push(tn[32*x+b]);var A=(f=(f=r.sitIndexArr.every((function(e){return 0==e}))&&r.backIndexArr.every((function(e){return 0==e}))?Object(u.a)(tn):[].concat(v)).map((function(e){return e<r.state.valuef1?0:e}))).reduce((function(e,t){return e+t}),0);zr=f.reduce((function(e,t){return e+t}),0),Hr=f.filter((function(e){return e>10})).length,Kr=U(f),qr=Hr;var S=Or(zr/(Hr||1));console.log(f),zr=Object(u.a)(f).map((function(e){return Cr(e)})).reduce((function(e,t){return e+t}),0),Kr=Kr/(A||1)*zr,Tr=zr/(Hr||1),null===(g=r.data.current)||void 0===g||g.changeData({meanPres:Tr.toFixed(2),maxPres:Kr.toFixed(2),totalPres:zr.toFixed(2),point:Hr,area:qr,pressure:S})}},r.changeStateData=function(e){r.setState(e)},r.setColValueFlag=function(e){an=e},r.state=(e={valueg1:localStorage.getItem("carValueg")?JSON.parse(localStorage.getItem("carValueg")):3.6,valuej1:localStorage.getItem("carValuej")?JSON.parse(localStorage.getItem("carValuej")):335,valuel1:localStorage.getItem("carValuel")?JSON.parse(localStorage.getItem("carValuel")):2,valuef1:localStorage.getItem("carValuef")?JSON.parse(localStorage.getItem("carValuef")):2,value1:localStorage.getItem("carValue")?JSON.parse(localStorage.getItem("carValue")):2,valuelInit1:localStorage.getItem("carValueInit")?JSON.parse(localStorage.getItem("carValueInit")):2e3,valueMult:localStorage.getItem("valueMult")?JSON.parse(localStorage.getItem("valueMult")):1,port:[{value:" ",label:" "}],portname:"",portnameBack:"",matrixName:"sit10",length:0,local:!1,dataArr:[],index:0,playflag:!1,selectFlag:!1,colFlag:!0,colNum:0,history:"now",numMatrixFlag:"normal",centerFlag:!1,carState:"all",leftFlag:!1,rightFlag:!1,lineFlag:!1,pressNum:!1,press:!1,dataTime:"",pointFlag:!1,pressChart:!1,newArr:[],newArr1:[],ymax:200,control:"",hunch:"",front:"",flank:"",colWebFlag:!1,colOneFlag:!1,csvData:JSON.parse(localStorage.getItem("collection"))?JSON.parse(localStorage.getItem("collection")):[["hunch","front","flank","\u6807\u7b7e","\u5ea7\u6905","\u9760\u80cc"]]},Object(s.a)(e,"length",JSON.parse(localStorage.getItem("collection"))?JSON.parse(localStorage.getItem("collection")).length:1),Object(s.a)(e,"dataName",""),Object(s.a)(e,"width",""),Object(s.a)(e,"height",""),Object(s.a)(e,"pressToArea",0),e),r.com=n.a.createRef(),r.data=n.a.createRef(),r.title=n.a.createRef(),r.line=n.a.createRef(),r.track=n.a.createRef(),r.progress=n.a.createRef(),r.sitIndexArr=new Array(4).fill(0),r.backIndexArr=new Array(4).fill(0),r}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.documentElement.style.fontSize="".concat(window.innerWidth/120,"px");var t=document.getElementById("myChartBig");t&&(Fr=t.getContext("2d"));var a=document.getElementById("myChartBig1");a&&(Nr=a.getContext("2d"));Er=new WebSocket(" ws://127.0.0.1:19999"),Br=new WebSocket(" ws://127.0.0.1:19998"),Er.onopen=function(){console.info("connect success")},Er.onmessage=function(t){e.wsData(t)},Er.onerror=function(e){},Er.onclose=function(e){},Br.onopen=function(){console.info("connect success")},Br.onmessage=function(t){e.ws1Data(t)},Br.onerror=function(e){},Br.onclose=function(e){},"localCar"===this.state.matrixName&&((kr=new WebSocket("ws://".concat("k2.bodyta.com",":23001/ws/msg"))).onopen=function(){console.info("connect success")},kr.onmessage=function(t){var a=t.data;if(1==a[0]){var r=a.split(" ")[1];e.setState({hunch:r})}else if(3==a[0]){var n=a.split(" ")[1];e.setState({flank:n})}else if(2==a[0]){var o=a.split(" ")[1];e.setState({front:o}),sn&&e.state.hunch&&e.state.front&&e.state.flank&&(Rr.push([e.state.hunch,e.state.front,e.state.flank,"\u8fce\u5bbe\u7ed3\u675f"]),localStorage.setItem("collection",JSON.stringify(Rr)),e.setState({csvData:Rr,length:Rr.length}),sn=!1)}else"\u8fce\u5bbe\u7ed3\u675f"===a&&(sn=!0),Jr&&"\u9760\u80cc\u6c14\u56ca\u5145\u6c14"===a?(e.setState({control:[a,"\u4fa7\u7ffc\u5de6\u4fa7\u6c14\u56ca\u5145\u6c14","\u4fa7\u7ffc\u53f3\u4fa7\u6c14\u56ca\u5145\u6c14"]}),Jr=!1):"\u4fa7\u7ffc\u5de6\u4fa7\u6c14\u56ca\u5145\u6c14"===a?e.setState({control:[a,"\u4fa7\u7ffc\u53f3\u4fa7\u6c14\u56ca\u653e\u6c14"]}):"\u4fa7\u7ffc\u53f3\u4fa7\u6c14\u56ca\u5145\u6c14"===a?e.setState({control:[a,"\u4fa7\u7ffc\u5de6\u4fa7\u6c14\u56ca\u653e\u6c14"]}):e.setState({control:[a]});e.state.colWebFlag&&(Rr.push([e.state.hunch,e.state.front,e.state.flank,e.state.dataName,JSON.stringify(en),JSON.stringify(tn)]),localStorage.setItem("collection",JSON.stringify(Rr)),e.setState({csvData:Rr,length:Rr.length}))},kr.onerror=function(e){},kr.onclose=function(e){})}},{key:"colPushData",value:function(){Rr.push([this.state.hunch,this.state.front,this.state.flank,this.state.dataName,JSON.stringify(en),JSON.stringify(tn)]),localStorage.setItem("collection",JSON.stringify(Rr)),this.setState({csvData:Rr,length:Rr.length})}},{key:"delPushData",value:function(){Rr=[["hunch","front","flank","\u6807\u7b7e","\u5ea7\u6905","\u9760\u80cc"]],localStorage.removeItem("collection"),this.setState({collection:[["hunch","front","flank","\u6807\u7b7e","\u5ea7\u6905","\u9760\u80cc"]],length:1})}},{key:"changeWs",value:function(e){var t=this;Er&&Er.close(),Br&&Br.close(),this.initCar();var a=this;(Er=new WebSocket("ws://".concat(e,":23001/ws/data"))).onopen=function(){console.info("connect success")},Er.onmessage=function(e){a.wsData(e)},Er.onerror=function(e){},Er.onclose=function(e){},(Br=new WebSocket("ws://".concat(e,":23001/ws/data1"))).onopen=function(){console.info("connect success")},Br.onmessage=function(e){a.ws1Data(e)},Br.onerror=function(e){},Br.onclose=function(e){},(kr=new WebSocket("ws://".concat(e,":23001/ws/msg"))).onopen=function(){console.info("connect success")},kr.onmessage=function(e){var a=e.data;if(1==a[0]){var r=a.split(" ")[1];t.setState({hunch:r})}else if(3==a[0]){var n=a.split(" ")[1];t.setState({flank:n})}else if(2==a[0]){var o=a.split(" ")[1];t.setState({front:o}),t.state.colWebFlag&&(Rr.push([t.state.hunch,t.state.front,t.state.flank,t.state.dataName,JSON.stringify(en),JSON.stringify(tn)]),localStorage.setItem("collection",JSON.stringify(Rr)),t.setState({csvData:Rr,length:Rr.length}))}else Jr&&"\u9760\u80cc\u6c14\u56ca\u5145\u6c14"===a?(t.setState({control:[a,"\u4fa7\u7ffc\u6c14\u56ca\u5145\u6c14"]}),Jr=!1):t.setState({control:[a]})},kr.onerror=function(e){},kr.onclose=function(e){}}},{key:"handleChartsBody",value:function(e,t,a){var r=document.getElementById("myChartBig");r&&Fr&&this.drawChart({ctx:Fr,arr:e,max:t,canvas:r,index:a})}},{key:"handleChartsBody1",value:function(e,t,a){var r=document.getElementById("myChartBig1");r&&Nr&&this.drawChart({ctx:Nr,arr:e,max:t,canvas:r,index:a})}},{key:"initBigCtx",value:function(){var e=document.getElementById("myChartBig");e&&(Fr=e.getContext("2d"));var t=document.getElementById("myChartBig1");t&&(Nr=t.getContext("2d"))}},{key:"initCar",value:function(){var e=document.getElementById("myChartsit");e&&(Pr=e.getContext("2d"));var t=document.getElementById("myChartback");t&&(Vr=t.getContext("2d"))}},{key:"handleChartsSit",value:function(e,t,a){var r=document.getElementById("myChartsit");r&&Pr&&this.drawChart({ctx:Pr,arr:e,max:t,canvas:r})}},{key:"handleChartsBack",value:function(e,t,a){var r=document.getElementById("myChartback");r&&Vr&&this.drawChart({ctx:Vr,arr:e,max:t,canvas:r})}},{key:"drawChart",value:function(e){var t=e.ctx,a=e.arr,r=e.max,n=e.canvas,o=e.index,i=a.map((function(e){return 150*e/r}));t.clearRect(0,0,n.width,n.height);var l=n.width/(i.length+1);t.beginPath(),t.setLineDash([]),t.moveTo(l,n.height-i[0]);for(var c=1;c<i.length-2;c++){var s=(l*(c+1)+l*(c+2))/2,u=(n.height-i[c+1]+n.height-i[c+2])/2;t.quadraticCurveTo(l*(c+1),n.height-i[c+1],s,u)}t.quadraticCurveTo(l*(i.length-1),n.height-i[i.length-1],l*i.length,n.height-i[i.length-1]),t.strokeStyle="#991BFA",t.lineWidth=2,t.stroke(),null!=o&&(t.beginPath(),t.moveTo(l*o,n.height),t.lineTo(l*o,0),t.strokeStyle="#01F1E3",t.lineWidth=2,t.setLineDash([3,3]),t.stroke())}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"home",children:[Object(y.jsxs)("div",{className:"setIcons",children:[Object(y.jsxs)("div",{className:"setIconItem setIconItem1",children:[Object(y.jsxs)("div",{className:"setIconItem setIconItem2",style:{position:"absolute",width:"60px",right:60,color:"#5A5A89",fontWeight:"bold"},children:[Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsx)("span",{children:"x"}),Object(y.jsx)(Sa.a,{value:this.state.width,onChange:function(t){e.setState({width:t.target.value}),e.com.current.changeBox({width:t.target.value,height:e.state.height})}})]}),Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsx)("span",{children:"y"}),Object(y.jsx)(Sa.a,{value:this.state.height,onChange:function(t){e.setState({height:t.target.value}),e.com.current.changeBox({height:t.target.value,width:e.state.width})}})]})]}),Object(y.jsx)(ya.a,{placement:"top",title:"\u65cb\u8f6c",content:rn,children:Object(y.jsx)("div",{className:"setIcon marginB10",onClick:function(){var t,a,r,n;++Lr<3?e.com.current&&e.com.current.changeGroupRotate&&(null===(t=e.com.current)||void 0===t||t.changeGroupRotate({x:Lr})):(Lr=0,e.com.current&&e.com.current.changeGroupRotate&&(null===(a=e.com.current)||void 0===a||a.changeGroupRotate({x:Lr})));Lr<3?e.com.current&&e.com.current.changePointRotation&&(null===(r=e.com.current)||void 0===r||r.changePointRotation({direction:"x",value:Lr,type:e.state.carState})):(Lr=0,e.com.current&&e.com.current.changePointRotation&&(null===(n=e.com.current)||void 0===n||n.changePointRotation({direction:"x",value:Lr,type:e.state.carState})))},children:Object(y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAAqSURBVCiRY2DAAaKiOv9HRXX+xyXPhEuCEBgJGhnxhRxNbMQJRuORAo0AADALRByhkEYAAAAASUVORK5CYII=",alt:""})})}),Object(y.jsx)(ya.a,{placement:"top",title:"\u65cb\u8f6c",content:nn,children:Object(y.jsx)("div",{className:"setIcon",onClick:function(){var t,a,r,n;++Ur<3?e.com.current&&e.com.current.changeGroupRotate&&(null===(t=e.com.current)||void 0===t||t.changeGroupRotate({z:Ur})):(Ur=0,e.com.current&&e.com.current.changeGroupRotate&&(null===(a=e.com.current)||void 0===a||a.changeGroupRotate({z:Ur})));Ur<3?e.com.current&&e.com.current.changePointRotation&&(null===(r=e.com.current)||void 0===r||r.changePointRotation({direction:"z",value:Ur,type:e.state.carState})):(Ur=0,e.com.current&&e.com.current.changePointRotation&&(null===(n=e.com.current)||void 0===n||n.changePointRotation({direction:"z",value:Ur,type:e.state.carState})))},children:Object(y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAACCAYAAABoiu2qAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAAXSURBVAiZY4yK6vzPQAZgIkcTAwMDAwD5aQJANAgxoQAAAABJRU5ErkJggg==",alt:""})})})]}),"foot"==this.state.matrixName?Object(y.jsx)(ya.a,{placement:"top",title:"\u5237\u65b0",content:ln,children:Object(y.jsx)("div",{className:"setIconItem setIconItem2",children:Object(y.jsx)("div",{className:"setIcon",children:Object(y.jsx)("img",{src:"data:image/png;base64,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",alt:"",onClick:function(){var t;null===(t=e.track.current)||void 0===t||t.canvasInit()}})})})}):null,Object(y.jsxs)("div",{className:"setIconItem setIconItem2",children:["foot"==this.state.matrixName?Object(y.jsx)(ya.a,{placement:"top",title:"\u4e0b\u8f7d",content:cn,children:Object(y.jsx)("div",{className:"setIcon marginB10",onClick:function(){var t,a=e;null===(t=e.track.current)||void 0===t||t.loadImg({arrSmooth:a.arrSmooth,rightTopPropSmooth:a.rightTopPropSmooth,leftTopPropSmooth:a.leftTopPropSmooth,leftBottomPropSmooth:a.leftBottomPropSmooth,rightPropSmooth:a.rightPropSmooth,leftPropSmooth:a.leftPropSmooth,rightBottomPropSmooth:a.rightBottomPropSmooth})},children:Object(y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAACkdJREFUeF7t3W9yFDcTx3FpMeeIfZKYFzhU4VRxg+AbLLkAywVgb2C4AVWYKse88OYk7D0Cq9TYuPhjrzU925rWqL+8fKZHGv1aH8vjzWPHwD8SIIGtCUSyIQES2J4AQNgdJHBPAgBhe5AAQNgDJDAsAU6QYblxl5MEAOKk0SxzWAIAGZYbdzlJACBOGs0yhyUAkGG5cZeTBABSQaOPn8wPUwp/hRQPYwrrENNqbxbevT9frit4PNePABDj9h8fzV+GEBd3P0ZanF0sXxk/ouvpAWLY/u7kCJt4ed8jxBRPPnx6/dbwMV1PDRDD9h8fvUi56VMI648Xbw5ydVwvkwBAyuSaHfXZk/n+l038nC0MIezN0gHvI32S0q8BiH6mvUb88/Hfz1NMp32K+TarT0plagBSJtfsqADJRlRFAUCM2gAQo+CF0wJEGJhWOUC0kiw7DkDK5rt1dIAYBS+cFiDCwLTKAaKVZNlxAFI2X04Qo3y1pgWIVpLCcThBhIEZlQPEKHiAGAUvnBYgwsC0ygGilWTZcQBSNl/eQYzy1ZoWIFpJCsfhBBEGZlQOEKPgAWIUvHBagAgD0yoHiFaSZccBSNl8eQcxyldrWoBoJSkchxNEGJhROUCMggeIUfDCaQEiDEyrHCBaSZYdByBl8+UdxChfrWkBopWkcBxOEGFgRuUAMQoeIEbBC6cFiDAwrXKAaCVZdhyAlM2XdxCjfLWmBYhWksJxOEGEgRmVA8QoeIAYBS+cFiDCwLTKAaKVZNlxAFI2X95BjPLVmhYgWkkKx+EEEQZmVA4Qo+ABYhS8cFqACAPTKgeIVpJlxwFI2Xx5BzHKV2tagGglKRyHE0QYmFE5QIyCB4hR8MJpASIMTKscIFpJlh0HIGXz5R3EKF+taQGilaRwHE4QYWBG5QAxCh4gRsELpwWIMDCtcoBoJVl2HICUzZd3EKN8taYFiFaSwnE4QYSBGZUDxCh4gBgFL5wWIMLAtMoBopVk2XEAUjZf3kGM8tWaFiBaSQrH4QQRBmZUDhCj4AFiFLxwWoAIA9MqB4hWkmXHAUjZfHkHMcpXa1qAaCUpHIcTRBiYUTlAjIIHiFHwwmkBIgxMqxwgWkmWHWcUIN1m2Mw2v8cU1mEW/t0LYf3+fLkuu7S6RweIvD/XmW1+u7pzpH1UFMjWTZDCau9BOvGMBCD9gTx7Mt//8jWehhgOf70rpnjy4dPrt/1Hk1UWA3L8ZH4YNvHyvsfZm6UDr0gA0m+j9tlHJZEUAXIlfhM/94nAKxKA5HdHHxzdKCmE9cNZelTii20RIH0XdhORRyQAuR+IdA+FWXp0dr5c5dnJKsoAOZq/DCEuJI/iDQlAtu8OMY4QQqlvs4oAkTT/x5g8IZFkVKr5ki9gY9UOwXH9bGlxdrF8pf2cRYAMX2QIXpAA5PZWrnHfFAHSLf3pH/PTmOLzIaI9IAHIzztjFxwhhdXZpzePhuy13D3FgHQ/yfpvEy9jCPu5h7jreutIAPK967vg6H6C9fHizcGQPdbnnmJAuslBsr0FALnOZlcccZZOSvz06qZzRYGABCD3fZWuHUf37MWBgOTuLeL9BJkCjtGAgOQ2Es9ApoJjVCAg+RmJVyBTwjE6EJB8R+IRyNRwmAAByTUSb0CmiMMMCEh8AZkqDlMg3pF4OUGmjMMciGckHoBMHUcVQLwiaR1ICziqAeIRSctAWsFRFRBvSFoF0hKO6oB4QtIikNZwVAnEC5LWgLSIo1ogHpC0BKRVHFUDaR1JK0BaxlE9kJaRtACkdRyTANIqkqkD8YBjMkBaRDJlIF5wTApIa0imCsQTjskBaQnJFIF4wzFJIK0gmRoQjzgmC6QFJFMC4hXHpIFMHclUgHjGMXkgU0YyBSDecTQBZKpIagcCjm5njfSL466nKvtvar/mtGYg4Pi+V0f5zYplaXwffUpIagUCjp93a1NApvTtVo1AwHH7S3lzQKaCpDYg4Lj7+5wmgUwBSU1AwLH9JaBZILUjqQUIOO5/Q24aSM1IagACjvyPj5oHUisSayDgyONo6nOQ3HJr+xGwJRBw5HZLo5+D5JZdExIrIODI7ZLGPwfJLb8WJBZAwJHbHU4+B8nFUAOSsYGAI7crnH0OkovDGsmYQMCR2w1OPwfJxWKJZCwg4MjtAuefg+TisUIyBhBw5Lqfv+7ic5BcDBZISgMBR67r/a4D5FtOYyMpCQQc/TZ/nyqA/JDSmEhKAQFHn23fvwYgv2Q1FpISQMDRf+P3rQTIHUmNgUQbCDj6bnlZHUC25FUaiSYQcMg2vaQaIPekVRKJFhBwSLa7vBYgmcxKIdEAAg75hpfeAZAeiZVAsisQcPRonEIJQHqGqI1kFyDg6Nk0hTKACELURDIUCDgEDVMoBYgwRC0kQ4CAQ9gshXKADAhRA8nXr7PDFNNpn+ljiifpwWYdNvGyT/2vNSmEdZylk7Pz5WrI/Z7vAcjA7u+KJIS0CCEu+kyfYnobU3zepxYcQ1Lafg9AdshzdyQ7TN7jVk6OHiFlSgCyY4a1IgHHjo39djtAFHKsDQk4FJoKEL0Qu5FqQQIO3b5ygijmaY0EHIrN5ATRD9PyJAFHmX5yghTIdeyTBBwFmsgJUi7UMU8ScJTtIydIwXxLnyTgKNg8TpDy4ZY8ScAxTv84QUbIWfskAccITeMEGS9kzZMEHOP2jRNkxLx3PUnAMWKzOEHGD3uXkwQcNv3iBDHIXXqSgMOgSZwgdqFLThJw2PaJE8Qw/9xJAg7D5nCC2Id/8wRP/5ifhhQPYwj7N/9b9/8i/PjP8qSep/T5JJwgFfW9+6UMeyGs358v1xU9lutHAYjr9rP4XAIAySXEddcJAMR1+1l8LgGA5BLiuusEAOK6/Sw+lwBAcglx3XUCAHHdfhafSwAguYS47joBgLhuP4vPJQCQXEJcd50AQFy3n8XnEgBILiGuu04AIK7bz+JzCQAklxDXXScAENftZ/G5BACSS4jrrhMAiOv2s/hcAgDJJcR11wkAxHX7WXwuAYDkEuK66wQA4rr9LD6XAEByCXHddQIAcd1+Fp9LACC5hLjuOgGAuG4/i88lAJBcQlx3nQBAXLefxecSAEguIa67TgAgrtvP4nMJ/ATk+Gj+MsWw3/0q/tyNXCeB1hKIKaxjiO8ePNisbn7D/hWQ7tfup008/fHvU7S2eNZDAn0T6P5w0cNZetQhid1fOfqyiZ/73kwdCXhI4AZJ7L6tCiEuPCyaNZKALIG0iMePX1yGGHjnkCVHtYcEUljFp0cvPvPu4aHbrHFIAgAZkhr3uEjg6q8M8w7iotcsclACaXH1Y16+zRqUHjc1nEB3eny8eHPA5yANN5mlDUvg6lurWTo5O1+ubn2S3n2KfvVpOv9IwFsCMa26T9PPLpavbpbOf4vlbROwXlECABHFRbG3BADireOsV5QAQERxUewtAYB46zjrFSUAEFFcFHtLACDeOs56RQkARBQXxd4SAIi3jrNeUQIAEcVFsbcE/gdIUgoeoD++FwAAAABJRU5ErkJggg==",alt:""})})}):null,Object(y.jsx)(ya.a,{placement:"top",title:"\u6846\u9009",content:on,children:Object(y.jsx)("div",{className:"setIcon",onClick:function(){var t,a=e.state.selectFlag;e.setState({selectFlag:!a}),null===(t=e.com.current)||void 0===t||t.changeSelectFlag(a,e.state.local),a&&"all"===e.state.carState&&(e.setState({width:0,height:0}),e.sitIndexArr=new Array(4).fill(0),e.backIndexArr=new Array(4).fill(0))},children:Object(y.jsx)(Ia.a,{style:{color:this.state.selectFlag?"#fff":"#4c4671",fontSize:"20px"},color:this.state.selectFlag?"#fff":"#4c4671"})})})]})]}),Object(y.jsx)("div",{style:{position:"fixed",display:"flex",flexDirection:"column",right:"3%",height:"55%",bottom:"6%",boxSizing:"border-box"},children:F.slice(0,F.length-7).map((function(t,a){return Object(y.jsxs)("div",{style:{display:"flex",height:"".concat(100/F.slice(0,F.length-7).length,"%"),alignItems:"center",padding:"3px",boxSizing:"border-box"},children:[Object(y.jsxs)("div",{style:{display:"flex",alignItems:"center",flex:1,padding:"0px 10px"},children:[Object(y.jsxs)("div",{className:"switch",style:{color:"#ccc",textAlign:"left"},children:[(e.state.valuej1/100*(F.length-1-a)/F.length).toFixed(2),"N/cm^2"]}),Object(y.jsx)("div",{className:"switchLevels"})]}),Object(y.jsx)("div",{style:{width:50,height:"100%",backgroundColor:"rgb(".concat(t,")")}})]},"".concat(F[t]).concat(a))}))}),Object(y.jsx)(O,{initBigCtx:this.initBigCtx,valueg1:this.state.valueg1,value1:this.state.value1,valuef1:this.state.valuef1,valuel1:this.state.valuel1,valuej1:this.state.valuej1,valuelInit1:this.state.valuelInit1,ymax:this.state.ymax,ref:this.title,com:this.com,track:this.track,port:this.state.port,portname:this.state.portname,portnameBack:this.state.portnameBack,local:this.state.local,dataArr:this.state.dataArr,matrixName:this.state.matrixName,history:this.state.history,wsSendObj:this.wsSendObj,changeMatrix:this.changeMatrix,changeLocal:this.changeLocal,colFlag:this.state.colFlag,changeStateData:this.changeStateData,setColValueFlag:this.setColValueFlag,numMatrixFlag:this.state.numMatrixFlag,centerFlag:this.state.centerFlag,data:this.data,dataTime:this.state.dataTime,pointFlag:this.state.pointFlag,valueMult:this.state.valueMult,pressChart:this.state.pressChart,changeWs:this.changeWs.bind(this),hunch:this.state.hunch,front:this.state.front,csvData:this.state.csvData,length:this.state.length,colWebFlag:this.state.colWebFlag,colPushData:this.colPushData.bind(this),delPushData:this.delPushData.bind(this)}),Object(y.jsx)(_r,{matrixName:this.state.matrixName,children:Object(y.jsx)(ta,{ref:this.data,matrixName:this.state.matrixName})}),"num"!=this.state.numMatrixFlag||"foot"!=this.state.matrixName&&"hand"!=this.state.matrixName&&"back"!=this.state.carState&&"sit"!=this.state.carState?"heatmap"!=this.state.numMatrixFlag||"foot"!=this.state.matrixName&&"hand"!=this.state.matrixName&&"back"!=this.state.carState&&"sit"!=this.state.carState?"foot"==this.state.matrixName?Object(y.jsx)(_r,{matrixName:this.state.matrixName,children:Object(y.jsx)(ye,{ref:this.com,changeSelect:this.changeSelect})}):"hand"==this.state.matrixName?Object(y.jsx)(_r,{matrixName:this.state.matrixName,children:Object(y.jsx)(nt,{ref:this.com})}):"car"==this.state.matrixName?Object(y.jsx)(_r,{matrixName:this.state.matrixName,children:Object(y.jsx)(ee,{ref:this.com,changeSelect:this.changeSelect,changeStateData:this.changeStateData})}):"bigBed"==this.state.matrixName?Object(y.jsx)(_r,{matrixName:this.state.matrixName,children:Object(y.jsx)(bt,{ref:this.com,data:this.data,handleChartsBody:this.handleChartsBody.bind(this),handleChartsBody1:this.handleChartsBody1.bind(this),changeSelect:this.changeSelect})}):"sit10"==this.state.matrixName?Object(y.jsx)(_r,{matrixName:this.state.matrixName,children:Object(y.jsx)(Qt,{ref:this.com,handleChartsBody:this.handleChartsBody.bind(this),handleChartsBody1:this.handleChartsBody1.bind(this),changeSelect:this.changeSelect})}):Object(y.jsx)(_r,{matrixName:this.state.matrixName,children:Object(y.jsx)(te,{ref:this.com,changeSelect:this.changeSelect})}):Object(y.jsx)(La,{ref:this.com}):Object(y.jsx)(Ea,{ref:this.com}),"bigBed"===this.state.matrixName?Object(y.jsx)("div",{style:{position:"fixed",visibility:this.state.pressChart?"hidden":"unset",width:"60%",right:"20%",bottom:"100px"},children:Object(y.jsx)("canvas",{id:"myChartBig1",style:{height:"300px",width:"100%"}})}):null,this.state.local?Object(y.jsx)(ia,{ref:this.progress,dataTime:this.state.dataTime,matrixName:this.state.matrixName,data:this.data,areaArr:this.state.areaArr,pressArr:this.state.pressArr,length:this.state.length,max:this.max,time:this.state.time,pressMax:this.pressMax,wsSendObj:this.wsSendObj}):null,"foot"==this.state.matrixName?Object(y.jsx)(_r,{matrixName:this.state.matrixName,children:Object(y.jsx)(Ua,{ref:this.track})}):null,"localCar"==this.state.matrixName?Object(y.jsxs)("div",{style:{position:"fixed",bottom:"6%",right:"20%",borderRadius:"10px",color:"#fff",fontSize:"1.5rem"},children:[Qr.map((function(t,a){return Object(y.jsx)("p",{style:{color:e.state.control.includes(t.info)?"#0cf862":"#fff",fontWeight:"bold"},children:t.name})})),Object(y.jsxs)("p",{children:["hunch : ",this.state.hunch]}),Object(y.jsxs)("p",{children:["front : ",this.state.front]}),Object(y.jsxs)("p",{children:["flank : ",this.state.flank]}),Object(y.jsxs)("p",{children:["sitValue : ",this.state.pressToArea]})]}):null]})}}]),a}(n.a.Component),hn=(localStorage.getItem("carValuePress")&&JSON.parse(localStorage.getItem("carValuePress")),JSON.parse(localStorage.getItem("collection"))?JSON.parse(localStorage.getItem("collection")):[["data","name"]]),dn=!1;function gn(){var e=Object(r.useState)([]),t=Object(W.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(0),i=Object(W.a)(o,2),l=i[0],c=i[1],s=Object(r.useState)(0),h=Object(W.a)(s,2),d=h[0],g=(h[1],Object(r.useState)(localStorage.getItem("carValuePress")?JSON.parse(localStorage.getItem("carValuePress")):1e3)),p=Object(W.a)(g,2),m=p[0],f=p[1],v=Object(r.useState)(JSON.parse(localStorage.getItem("collection"))?JSON.parse(localStorage.getItem("collection")):[["data","name"]]),A=Object(W.a)(v,2),I=A[0],w=A[1],j=Object(r.useState)(JSON.parse(localStorage.getItem("collection"))?JSON.parse(localStorage.getItem("collection")).length:1),O=Object(W.a)(j,2),C=O[0],E=O[1],B=Object(r.useState)(!1),k=Object(W.a)(B,2),F=k[0],P=k[1],V=Object(r.useState)(""),N=Object(W.a)(V,2),M=N[0],D=N[1];return Object(r.useEffect)((function(){(Mr=new WebSocket(" ws://localhost:19999")).onopen=function(){console.info("connect success")},Mr.onmessage=function(e){var t=JSON.parse(e.data);if(null!=t.sitData){Dr=(Dr=t.sitData).map((function(e){return e<5?0:e})),dn&&(hn.push([Object(u.a)(Dr),M]),E(hn.length-1),w(hn),localStorage.setItem("collection",JSON.stringify(hn)));var a=Dr.reduce((function(e,t){return e+t}),0),r=Dr.filter((function(e,t){return e>5})).length;c((a/r).toFixed(2));for(var o=[],i=0;i<10;i++){o[i]=[];for(var l=0;l<10;l++)o[i][l]=Dr[10*i+l]}n(o)}if(null!=t.backData){Dr=(Dr=t.backData).map((function(e){return e<5?0:e})),dn&&(hn.push([JSON.stringify(Dr),M]),E(hn.length-1),w(hn),localStorage.setItem("collection",JSON.stringify(hn)));var s=Dr.reduce((function(e,t){return e+t}),0),h=Dr.filter((function(e,t){return e>5})).length;c((s/h).toFixed(2));for(var d=[],g=0;g<32;g++){d[g]=[];for(var p=0;p<32;p++)d[g][p]=Dr[32*g+p]}n(d)}},Mr.onerror=function(e){},Mr.onclose=function(e){}}),[F]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{children:a.map((function(e,t){return Object(y.jsx)("div",{style:{display:"flex"},children:e.map((function(e,t){return Object(y.jsx)("div",{style:{width:"30px"},children:e})}))})}))}),Object(y.jsx)("div",{style:{fontSize:"50px"},children:l}),Object(y.jsx)("div",{style:{fontSize:"30px"},children:d}),Object(y.jsx)(b.a,{min:1,max:1e4,onChange:function(e){localStorage.setItem("carValuePress",e),f(e),e},value:m,step:5,style:{width:"200px"}}),Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsx)(Sa.a,{value:M,onChange:function(e){D(e.target.value)}}),Object(y.jsxs)(x.a,{onClick:function(){P(!F),dn=!dn},children:["\u91c7\u96c6",C-1]}),Object(y.jsxs)(x.a,{onClick:function(){hn.push([JSON.stringify(Dr),M]),localStorage.setItem("collection",JSON.stringify(hn)),w(hn),E(hn.length)},children:["\u5355\u6b21\u91c7\u96c6",C-1]}),Object(y.jsx)(x.a,{onClick:function(){hn=[["data","name"]],localStorage.setItem("collection",JSON.stringify(hn)),E(1)},children:"\u5220\u9664"}),Object(y.jsx)(S.CSVLink,{filename:"".concat((new Date).getTime(),".csv"),data:I,style:{color:"#5A5A89",textDecoration:"none"},children:"\u4e0b\u8f7d"})]})]})}var pn;function mn(){var e=Object(r.useState)([]),t=Object(W.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(0),i=Object(W.a)(o,2),l=i[0],c=(i[1],Object(r.useState)(0)),s=Object(W.a)(c,2),u=s[0];s[1];return Object(r.useEffect)((function(){(pn=new WebSocket(" ws://localhost:19999")).onopen=function(){console.info("connect success")},pn.onmessage=function(e){var t=JSON.parse(e.data);if(null!=t.sitData){var a=t.sitData;a=a.map((function(e){return e<10?0:e}));for(var r=[],o=0;o<10;o++){r[o]=[];for(var i=0;i<10;i++)r[o][i]=a[10*o+i]}n(r)}},pn.onerror=function(e){},pn.onclose=function(e){}}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{children:a.map((function(e,t){return Object(y.jsx)("div",{style:{display:"flex"},children:e.map((function(e,t){return Object(y.jsx)("div",{style:{width:"30px"},children:e})}))})}))}),Object(y.jsx)("div",{style:{fontSize:"30px"},children:l}),Object(y.jsx)("div",{style:{fontSize:"30px"},children:u})]})}var fn,vn=function(){function e(){Object(d.a)(this,e)}return Object(g.a)(e,[{key:"AddArr",value:function(e,t){for(var a=-2;a<=2;a++)for(var r=-2;r<=2;r++)e.push([t[0]+a,t[1]+r]);return e}},{key:"set",value:function(e){var t=e.map((function(e,t){return JSON.stringify(e)})),a=new Set(t);return Array.from(a).map((function(e,t){return JSON.parse(e)}))}},{key:"findSame",value:function(e,t){for(var a=[],r=[],n=function(n){var o=e.filter((function(e,a){return JSON.stringify(e)==JSON.stringify(t[n])}));o.length>0&&r.push(n),a.push.apply(a,Object(u.a)(o))},o=0;o<t.length;o++)n(o);return r}},{key:"findReal",value:function(e,t){for(var a=e.map((function(e,t){return JSON.stringify(e)})),r=[],n=0;n<t.length;n++){for(var o=[],i=0;i<t[n].length;i++)a.includes(JSON.stringify(t[n][i]))&&o.push(t[n][i]);r.push(o)}return r}},{key:"includeArr",value:function(e,t){for(var a=0;a<t.length;a++)if(Array.isArray(e),e.includes(t[a]))return!0;return!1}},{key:"mergeArr",value:function(e,t){return Array.from(new Set(e.push.apply(e,Object(u.a)(t))))}}]),e}(),xn=!1,bn=!1;localStorage.getItem("carValuePress")&&JSON.parse(localStorage.getItem("carValuePress"));var An=0,Sn=0;new vn;function yn(){var e=Object(r.useState)([]),t=Object(W.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(0),i=Object(W.a)(o,2),l=i[0],c=(i[1],Object(r.useState)(0)),s=Object(W.a)(c,2),u=s[0],h=(s[1],Object(r.useState)(!1)),d=Object(W.a)(h,2),g=d[0],p=d[1],m=Object(r.useState)(!1),f=Object(W.a)(m,2),v=f[0],x=f[1],A=Object(r.useState)(!1),S=Object(W.a)(A,2),I=S[0],w=S[1],j=Object(r.useState)(!1),O=Object(W.a)(j,2),C=O[0],E=O[1],B=Object(r.useState)(!1),k=Object(W.a)(B,2),F=k[0],P=k[1],V=Object(r.useState)(!1),N=Object(W.a)(V,2),M=N[0],D=N[1],J=Object(r.useState)(0),Q=Object(W.a)(J,2),R=Q[0],L=Q[1],U=Object(r.useState)(localStorage.getItem("carValuePress")?JSON.parse(localStorage.getItem("carValuePress")):1e3),z=Object(W.a)(U,2),T=z[0],K=z[1];return Object(r.useEffect)((function(){(fn=new WebSocket(" ws://localhost:19999")).onopen=function(){console.info("connect success")},fn.onmessage=function(e){var t=JSON.parse(e.data);[],[],[];var a,r,o;if(null!=t.sitData){var i=t.sitData;i=i.map((function(e){return e<10?0:e})),xn&&(i=function(e,t){for(var a=[],r=[],n=0;n<32;n++)for(var o=0;o<32;o++)a.push(e[64*n+o]),r.push(e[64*n+32+o]);a=ha({arr:a,height:32,width:32,value:t}),r=ha({arr:r,height:32,width:32,value:t});for(var i=[],l=0;l<32;l++)for(var c=0;c<64;c++)c<32?i.push(1.2*a[32*l+c]):i.push(r[32*l+c-32]);return i}(i,1500));var l=i.reduce((function(e,t){return e+t}),0),c=i.filter((function(e,t){return e>0})).length;E(l),P(c);var s=l/c,u=(l/c).toFixed(2);L(s);var h=!((a=s)>(r=An)-(o=4)&&a<r+o);h?(An=s,Sn=0):(Sn++,u=fa(An,s,Sn),Sn>3120&&(Sn=3120)),D(h),w(sa(u));for(var d=[],g=0;g<32;g++){d[g]=[];for(var p=0;p<64;p++)d[g][p]=i[64*g+p]}n(d)}},fn.onerror=function(e){},fn.onclose=function(e){}}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{children:a.map((function(e,t){return Object(y.jsx)("div",{style:{display:"flex"},children:e.map((function(e,t){return Object(y.jsx)("div",{style:{width:"30px"},children:e},t)}))},t)}))}),Object(y.jsx)("div",{style:{fontSize:"30px"},children:l}),Object(y.jsx)("div",{style:{fontSize:"30px"},children:u}),Object(y.jsxs)("div",{style:{fontSize:"30px"},children:["\u538b\u529b\u603b\u548c:",C]}),Object(y.jsxs)("div",{style:{fontSize:"30px"},children:["\u538b\u529b\u9762\u79ef:",F]}),Object(y.jsxs)("div",{style:{fontSize:"30px"},children:["\u771f\u5b9e\u538b\u5f3a:",R]}),Object(y.jsxs)("div",{style:{fontSize:"30px"},children:["\u538b\u5f3a:",I]}),Object(y.jsxs)("div",{children:["\u6539\u53d8: ",M?"true":"false"]}),Object(y.jsxs)("div",{style:{position:"fixed",bottom:"20px",color:"#000"},children:[Object(y.jsx)("div",{style:{border:"1px solid #01F1E3"},onClick:function(){p(!g),xn=!xn},children:g?"\u5206\u538b":"\u4e0d\u5206\u538b"}),Object(y.jsx)("div",{style:{border:"1px solid #01F1E3"},onClick:function(){x(v),bn=!bn},children:v?"\u538b\u529b\u7b97\u6cd5":"\u4e0d\u538b\u529b\u7b97\u6cd5"}),Object(y.jsx)(b.a,{min:1,max:1e4,onChange:function(e){localStorage.setItem("carValuePress",e),K(e),e=e},value:T,step:5,style:{width:"200px"}})]})]})}var In=function(){return Object(y.jsx)(l.a,{children:Object(y.jsxs)(c.c,{children:[Object(y.jsx)(c.a,{exact:!0,path:"/",element:Object(y.jsx)(un,{})}),Object(y.jsx)(c.a,{exact:!0,path:"/heatmap",element:Object(y.jsx)(La,{})}),Object(y.jsx)(c.a,{exact:!0,path:"/num",element:Object(y.jsx)(gn,{})}),Object(y.jsx)(c.a,{exact:!0,path:"/num32",element:Object(y.jsx)(mn,{})}),Object(y.jsx)(c.a,{exact:!0,path:"/numBed",element:Object(y.jsx)(yn,{})})]})})},wn=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,188)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),r(e),n(e),o(e),i(e)}))};i.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(In,{})}),document.getElementById("root")),wn()}},[[175,1,2]]]);